(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function M1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L1={exports:{}},Yu={},O1={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=Symbol.for("react.element"),tk=Symbol.for("react.portal"),nk=Symbol.for("react.fragment"),rk=Symbol.for("react.strict_mode"),sk=Symbol.for("react.profiler"),ik=Symbol.for("react.provider"),ok=Symbol.for("react.context"),ak=Symbol.for("react.forward_ref"),lk=Symbol.for("react.suspense"),ck=Symbol.for("react.memo"),uk=Symbol.for("react.lazy"),g0=Symbol.iterator;function dk(t){return t===null||typeof t!="object"?null:(t=g0&&t[g0]||t["@@iterator"],typeof t=="function"?t:null)}var F1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U1=Object.assign,B1={};function xo(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||F1}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $1(){}$1.prototype=xo.prototype;function lm(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||F1}var cm=lm.prototype=new $1;cm.constructor=lm;U1(cm,xo.prototype);cm.isPureReactComponent=!0;var y0=Array.isArray,z1=Object.prototype.hasOwnProperty,um={current:null},H1={key:!0,ref:!0,__self:!0,__source:!0};function W1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)z1.call(e,r)&&!H1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hl,type:t,key:i,ref:o,props:s,_owner:um.current}}function hk(t,e){return{$$typeof:hl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dm(t){return typeof t=="object"&&t!==null&&t.$$typeof===hl}function fk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v0=/\/+/g;function uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fk(""+t.key):e.toString(36)}function kc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hl:case tk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+uh(o,0):r,y0(s)?(n="",t!=null&&(n=t.replace(v0,"$&/")+"/"),kc(s,e,n,"",function(d){return d})):s!=null&&(dm(s)&&(s=hk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(v0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",y0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+uh(i,a);o+=kc(i,e,n,l,s)}else if(l=dk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+uh(i,a++),o+=kc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xl(t,e,n){if(t==null)return t;var r=[],s=0;return kc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},Cc={transition:null},mk={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:um};function q1(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Xl,forEach:function(t,e,n){Xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xl(t,function(){e++}),e},toArray:function(t){return Xl(t,function(e){return e})||[]},only:function(t){if(!dm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=xo;oe.Fragment=nk;oe.Profiler=sk;oe.PureComponent=lm;oe.StrictMode=rk;oe.Suspense=lk;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mk;oe.act=q1;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=um.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)z1.call(e,l)&&!H1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:hl,type:t.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:ok,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ik,_context:t},t.Consumer=t};oe.createElement=W1;oe.createFactory=function(t){var e=W1.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:ak,render:t}};oe.isValidElement=dm;oe.lazy=function(t){return{$$typeof:uk,_payload:{_status:-1,_result:t},_init:pk}};oe.memo=function(t,e){return{$$typeof:ck,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Cc.transition;Cc.transition={};try{t()}finally{Cc.transition=e}};oe.unstable_act=q1;oe.useCallback=function(t,e){return Rt.current.useCallback(t,e)};oe.useContext=function(t){return Rt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Rt.current.useEffect(t,e)};oe.useId=function(){return Rt.current.useId()};oe.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Rt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};oe.useRef=function(t){return Rt.current.useRef(t)};oe.useState=function(t){return Rt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Rt.current.useTransition()};oe.version="18.3.1";O1.exports=oe;var k=O1.exports;const Xu=M1(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk=k,yk=Symbol.for("react.element"),vk=Symbol.for("react.fragment"),xk=Object.prototype.hasOwnProperty,wk=gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_k={key:!0,ref:!0,__self:!0,__source:!0};function G1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xk.call(e,r)&&!_k.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yk,type:t,key:i,ref:o,props:s,_owner:wk.current}}Yu.Fragment=vk;Yu.jsx=G1;Yu.jsxs=G1;L1.exports=Yu;var u=L1.exports,yf={},K1={exports:{}},Qt={},Q1={exports:{}},Y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Y){var ee=B.length;B.push(Y);e:for(;0<ee;){var X=ee-1>>>1,ie=B[X];if(0<s(ie,Y))B[X]=Y,B[ee]=ie,ee=X;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],ee=B.pop();if(ee!==Y){B[0]=ee;e:for(var X=0,ie=B.length,xe=ie>>>1;X<xe;){var ct=2*(X+1)-1,Dt=B[ct],Xe=ct+1,Je=B[Xe];if(0>s(Dt,ee))Xe<ie&&0>s(Je,Dt)?(B[X]=Je,B[Xe]=ee,X=Xe):(B[X]=Dt,B[ct]=ee,X=ct);else if(Xe<ie&&0>s(Je,ee))B[X]=Je,B[Xe]=ee,X=Xe;else break e}}return Y}function s(B,Y){var ee=B.sortIndex-Y.sortIndex;return ee!==0?ee:B.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,p=3,g=!1,T=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=B)r(d),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(d)}}function P(B){if(x=!1,E(B),!T)if(n(l)!==null)T=!0,ye(L);else{var Y=n(d);Y!==null&&q(P,Y.startTime-B)}}function L(B,Y){T=!1,x&&(x=!1,w(_),_=-1),g=!0;var ee=p;try{for(E(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||B&&!R());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var ie=X(f.expirationTime<=Y);Y=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(l)&&r(l),E(Y)}else r(l);f=n(l)}if(f!==null)var xe=!0;else{var ct=n(d);ct!==null&&q(P,ct.startTime-Y),xe=!1}return xe}finally{f=null,p=ee,g=!1}}var F=!1,I=null,_=-1,b=5,C=-1;function R(){return!(t.unstable_now()-C<b)}function j(){if(I!==null){var B=t.unstable_now();C=B;var Y=!0;try{Y=I(!0,B)}finally{Y?N():(F=!1,I=null)}}else F=!1}var N;if(typeof v=="function")N=function(){v(j)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,_e=ce.port2;ce.port1.onmessage=j,N=function(){_e.postMessage(null)}}else N=function(){A(j,0)};function ye(B){I=B,F||(F=!0,N())}function q(B,Y){_=A(function(){B(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,ye(L))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var ee=p;p=Y;try{return B()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=p;p=B;try{return Y()}finally{p=ee}},t.unstable_scheduleCallback=function(B,Y,ee){var X=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?X+ee:X):ee=X,B){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ee+ie,B={id:h++,callback:Y,priorityLevel:B,startTime:ee,expirationTime:ie,sortIndex:-1},ee>X?(B.sortIndex=ee,e(d,B),n(l)===null&&B===n(d)&&(x?(w(_),_=-1):x=!0,q(P,ee-X))):(B.sortIndex=ie,e(l,B),T||g||(T=!0,ye(L))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var Y=p;return function(){var ee=p;p=Y;try{return B.apply(this,arguments)}finally{p=ee}}}})(Y1);Q1.exports=Y1;var Ek=Q1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=k,Gt=Ek;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X1=new Set,Ma={};function ti(t,e){Ji(t,e),Ji(t+"Capture",e)}function Ji(t,e){for(Ma[t]=e,t=0;t<e.length;t++)X1.add(e[t])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=Object.prototype.hasOwnProperty,Sk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x0={},w0={};function bk(t){return vf.call(w0,t)?!0:vf.call(x0,t)?!1:Sk.test(t)?w0[t]=!0:(x0[t]=!0,!1)}function Ik(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kk(t,e,n,r){if(e===null||typeof e>"u"||Ik(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var hm=/[\-:]([a-z])/g;function fm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hm,fm);at[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hm,fm);at[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hm,fm);at[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function pm(t,e,n,r){var s=at.hasOwnProperty(e)?at[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kk(e,n,s,r)&&(n=null),r||s===null?bk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mr=Tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jl=Symbol.for("react.element"),_i=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),mm=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),J1=Symbol.for("react.provider"),Z1=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),ym=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),e_=Symbol.for("react.offscreen"),_0=Symbol.iterator;function Go(t){return t===null||typeof t!="object"?null:(t=_0&&t[_0]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,dh;function ia(t){if(dh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dh=e&&e[1]||""}return`
`+dh+t}var hh=!1;function fh(t,e){if(!t||hh)return"";hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function Ck(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=fh(t.type,!1),t;case 11:return t=fh(t.type.render,!1),t;case 1:return t=fh(t.type,!0),t;default:return""}}function Ef(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case _i:return"Portal";case xf:return"Profiler";case mm:return"StrictMode";case wf:return"Suspense";case _f:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z1:return(t.displayName||"Context")+".Consumer";case J1:return(t._context.displayName||"Context")+".Provider";case gm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ym:return e=t.displayName||null,e!==null?e:Ef(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return Ef(t(e))}catch{}}return null}function Ak(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ef(e);case 8:return e===mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nk(t){var e=t_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zl(t){t._valueTracker||(t._valueTracker=Nk(t))}function n_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=t_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tf(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function E0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r_(t,e){e=e.checked,e!=null&&pm(t,"checked",e,!1)}function Sf(t,e){r_(t,e);var n=Jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&bf(t,e.type,Jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function T0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bf(t,e,n){(e!=="number"||eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oa=Array.isArray;function Oi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function If(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(oa(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jr(n)}}function s_(t,e){var n=Jr(e.value),r=Jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function i_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?i_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ec,o_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function La(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pk=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){Pk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function a_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function l_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=a_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Rk=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cf(t,e){if(e){if(Rk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Af(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pf=null,Fi=null,Ui=null;function I0(t){if(t=ml(t)){if(typeof Pf!="function")throw Error($(280));var e=t.stateNode;e&&(e=nd(e),Pf(t.stateNode,t.type,e))}}function c_(t){Fi?Ui?Ui.push(t):Ui=[t]:Fi=t}function u_(){if(Fi){var t=Fi,e=Ui;if(Ui=Fi=null,I0(t),e)for(t=0;t<e.length;t++)I0(e[t])}}function d_(t,e){return t(e)}function h_(){}var ph=!1;function f_(t,e,n){if(ph)return t(e,n);ph=!0;try{return d_(t,e,n)}finally{ph=!1,(Fi!==null||Ui!==null)&&(h_(),u_())}}function Oa(t,e){var n=t.stateNode;if(n===null)return null;var r=nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Rf=!1;if(or)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Rf=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Rf=!1}function jk(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var pa=!1,tu=null,nu=!1,jf=null,Dk={onError:function(t){pa=!0,tu=t}};function Vk(t,e,n,r,s,i,o,a,l){pa=!1,tu=null,jk.apply(Dk,arguments)}function Mk(t,e,n,r,s,i,o,a,l){if(Vk.apply(this,arguments),pa){if(pa){var d=tu;pa=!1,tu=null}else throw Error($(198));nu||(nu=!0,jf=d)}}function ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function p_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k0(t){if(ni(t)!==t)throw Error($(188))}function Lk(t){var e=t.alternate;if(!e){if(e=ni(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return k0(s),t;if(i===r)return k0(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function m_(t){return t=Lk(t),t!==null?g_(t):null}function g_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g_(t);if(e!==null)return e;t=t.sibling}return null}var y_=Gt.unstable_scheduleCallback,C0=Gt.unstable_cancelCallback,Ok=Gt.unstable_shouldYield,Fk=Gt.unstable_requestPaint,Fe=Gt.unstable_now,Uk=Gt.unstable_getCurrentPriorityLevel,xm=Gt.unstable_ImmediatePriority,v_=Gt.unstable_UserBlockingPriority,ru=Gt.unstable_NormalPriority,Bk=Gt.unstable_LowPriority,x_=Gt.unstable_IdlePriority,Ju=null,Nn=null;function $k(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Ju,t,void 0,(t.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Wk,zk=Math.log,Hk=Math.LN2;function Wk(t){return t>>>=0,t===0?32:31-(zk(t)/Hk|0)|0}var tc=64,nc=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function su(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=aa(a):(i&=o,i!==0&&(r=aa(i)))}else o=n&~s,o!==0?r=aa(o):i!==0&&(r=aa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yn(e),s=1<<n,r|=t[n],e&=~s;return r}function qk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-yn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=qk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Df(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w_(){var t=tc;return tc<<=1,!(tc&4194240)&&(tc=64),t}function mh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yn(e),t[e]=n}function Kk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-yn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function wm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ve=0;function __(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var E_,_m,T_,S_,b_,Vf=!1,rc=[],Or=null,Fr=null,Ur=null,Fa=new Map,Ua=new Map,Cr=[],Qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A0(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(e.pointerId)}}function Qo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ml(e),e!==null&&_m(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Yk(t,e,n,r,s){switch(e){case"focusin":return Or=Qo(Or,t,e,n,r,s),!0;case"dragenter":return Fr=Qo(Fr,t,e,n,r,s),!0;case"mouseover":return Ur=Qo(Ur,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fa.set(i,Qo(Fa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ua.set(i,Qo(Ua.get(i)||null,t,e,n,r,s)),!0}return!1}function I_(t){var e=Ps(t.target);if(e!==null){var n=ni(e);if(n!==null){if(e=n.tag,e===13){if(e=p_(n),e!==null){t.blockedOn=e,b_(t.priority,function(){T_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nf=r,n.target.dispatchEvent(r),Nf=null}else return e=ml(n),e!==null&&_m(e),t.blockedOn=n,!1;e.shift()}return!0}function N0(t,e,n){Ac(t)&&n.delete(e)}function Xk(){Vf=!1,Or!==null&&Ac(Or)&&(Or=null),Fr!==null&&Ac(Fr)&&(Fr=null),Ur!==null&&Ac(Ur)&&(Ur=null),Fa.forEach(N0),Ua.forEach(N0)}function Yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Vf||(Vf=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,Xk)))}function Ba(t){function e(s){return Yo(s,t)}if(0<rc.length){Yo(rc[0],t);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Or!==null&&Yo(Or,t),Fr!==null&&Yo(Fr,t),Ur!==null&&Yo(Ur,t),Fa.forEach(e),Ua.forEach(e),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)I_(n),n.blockedOn===null&&Cr.shift()}var Bi=mr.ReactCurrentBatchConfig,iu=!0;function Jk(t,e,n,r){var s=ve,i=Bi.transition;Bi.transition=null;try{ve=1,Em(t,e,n,r)}finally{ve=s,Bi.transition=i}}function Zk(t,e,n,r){var s=ve,i=Bi.transition;Bi.transition=null;try{ve=4,Em(t,e,n,r)}finally{ve=s,Bi.transition=i}}function Em(t,e,n,r){if(iu){var s=Mf(t,e,n,r);if(s===null)bh(t,e,r,ou,n),A0(t,r);else if(Yk(s,t,e,n,r))r.stopPropagation();else if(A0(t,r),e&4&&-1<Qk.indexOf(t)){for(;s!==null;){var i=ml(s);if(i!==null&&E_(i),i=Mf(t,e,n,r),i===null&&bh(t,e,r,ou,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bh(t,e,r,null,n)}}var ou=null;function Mf(t,e,n,r){if(ou=null,t=vm(r),t=Ps(t),t!==null)if(e=ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=p_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function k_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uk()){case xm:return 1;case v_:return 4;case ru:case Bk:return 16;case x_:return 536870912;default:return 16}default:return 16}}var Dr=null,Tm=null,Nc=null;function C_(){if(Nc)return Nc;var t,e=Tm,n=e.length,r,s="value"in Dr?Dr.value:Dr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Nc=s.slice(t,1<r?1-r:void 0)}function Pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sc(){return!0}function P0(){return!1}function Yt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sc:P0,this.isPropagationStopped=P0,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),e}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sm=Yt(wo),pl=De({},wo,{view:0,detail:0}),eC=Yt(pl),gh,yh,Xo,Zu=De({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(gh=t.screenX-Xo.screenX,yh=t.screenY-Xo.screenY):yh=gh=0,Xo=t),gh)},movementY:function(t){return"movementY"in t?t.movementY:yh}}),R0=Yt(Zu),tC=De({},Zu,{dataTransfer:0}),nC=Yt(tC),rC=De({},pl,{relatedTarget:0}),vh=Yt(rC),sC=De({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),iC=Yt(sC),oC=De({},wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aC=Yt(oC),lC=De({},wo,{data:0}),j0=Yt(lC),cC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dC[t])?!!e[t]:!1}function bm(){return hC}var fC=De({},pl,{key:function(t){if(t.key){var e=cC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bm,charCode:function(t){return t.type==="keypress"?Pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pC=Yt(fC),mC=De({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=Yt(mC),gC=De({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bm}),yC=Yt(gC),vC=De({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=Yt(vC),wC=De({},Zu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_C=Yt(wC),EC=[9,13,27,32],Im=or&&"CompositionEvent"in window,ma=null;or&&"documentMode"in document&&(ma=document.documentMode);var TC=or&&"TextEvent"in window&&!ma,A_=or&&(!Im||ma&&8<ma&&11>=ma),V0=" ",M0=!1;function N_(t,e){switch(t){case"keyup":return EC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ti=!1;function SC(t,e){switch(t){case"compositionend":return P_(e);case"keypress":return e.which!==32?null:(M0=!0,V0);case"textInput":return t=e.data,t===V0&&M0?null:t;default:return null}}function bC(t,e){if(Ti)return t==="compositionend"||!Im&&N_(t,e)?(t=C_(),Nc=Tm=Dr=null,Ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A_&&e.locale!=="ko"?null:e.data;default:return null}}var IC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IC[t.type]:e==="textarea"}function R_(t,e,n,r){c_(r),e=au(e,"onChange"),0<e.length&&(n=new Sm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,$a=null;function kC(t){z_(t,0)}function ed(t){var e=Ii(t);if(n_(e))return t}function CC(t,e){if(t==="change")return e}var j_=!1;if(or){var xh;if(or){var wh="oninput"in document;if(!wh){var O0=document.createElement("div");O0.setAttribute("oninput","return;"),wh=typeof O0.oninput=="function"}xh=wh}else xh=!1;j_=xh&&(!document.documentMode||9<document.documentMode)}function F0(){ga&&(ga.detachEvent("onpropertychange",D_),$a=ga=null)}function D_(t){if(t.propertyName==="value"&&ed($a)){var e=[];R_(e,$a,t,vm(t)),f_(kC,e)}}function AC(t,e,n){t==="focusin"?(F0(),ga=e,$a=n,ga.attachEvent("onpropertychange",D_)):t==="focusout"&&F0()}function NC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ed($a)}function PC(t,e){if(t==="click")return ed(e)}function RC(t,e){if(t==="input"||t==="change")return ed(e)}function jC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:jC;function za(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vf.call(e,s)||!xn(t[s],e[s]))return!1}return!0}function U0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B0(t,e){var n=U0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=U0(n)}}function V_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M_(){for(var t=window,e=eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eu(t.document)}return e}function km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DC(t){var e=M_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V_(n.ownerDocument.documentElement,n)){if(r!==null&&km(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=B0(n,i);var o=B0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VC=or&&"documentMode"in document&&11>=document.documentMode,Si=null,Lf=null,ya=null,Of=!1;function $0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Of||Si==null||Si!==eu(r)||(r=Si,"selectionStart"in r&&km(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&za(ya,r)||(ya=r,r=au(Lf,"onSelect"),0<r.length&&(e=new Sm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Si)))}function ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},_h={},L_={};or&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function td(t){if(_h[t])return _h[t];if(!bi[t])return t;var e=bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in L_)return _h[t]=e[n];return t}var O_=td("animationend"),F_=td("animationiteration"),U_=td("animationstart"),B_=td("transitionend"),$_=new Map,z0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(t,e){$_.set(t,e),ti(e,[t])}for(var Eh=0;Eh<z0.length;Eh++){var Th=z0[Eh],MC=Th.toLowerCase(),LC=Th[0].toUpperCase()+Th.slice(1);ds(MC,"on"+LC)}ds(O_,"onAnimationEnd");ds(F_,"onAnimationIteration");ds(U_,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(B_,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OC=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function H0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Mk(r,e,void 0,t),t.currentTarget=null}function z_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;H0(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;H0(s,a,d),i=l}}}if(nu)throw t=jf,nu=!1,jf=null,t}function Se(t,e){var n=e[zf];n===void 0&&(n=e[zf]=new Set);var r=t+"__bubble";n.has(r)||(H_(e,t,2,!1),n.add(r))}function Sh(t,e,n){var r=0;e&&(r|=4),H_(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Ha(t){if(!t[oc]){t[oc]=!0,X1.forEach(function(n){n!=="selectionchange"&&(OC.has(n)||Sh(n,!1,t),Sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,Sh("selectionchange",!1,e))}}function H_(t,e,n,r){switch(k_(e)){case 1:var s=Jk;break;case 4:s=Zk;break;default:s=Em}n=s.bind(null,e,n,t),s=void 0,!Rf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ps(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}f_(function(){var d=i,h=vm(n),f=[];e:{var p=$_.get(t);if(p!==void 0){var g=Sm,T=t;switch(t){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":g=pC;break;case"focusin":T="focus",g=vh;break;case"focusout":T="blur",g=vh;break;case"beforeblur":case"afterblur":g=vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=R0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yC;break;case O_:case F_:case U_:g=iC;break;case B_:g=xC;break;case"scroll":g=eC;break;case"wheel":g=_C;break;case"copy":case"cut":case"paste":g=aC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=D0}var x=(e&4)!==0,A=!x&&t==="scroll",w=x?p!==null?p+"Capture":null:p;x=[];for(var v=d,E;v!==null;){E=v;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,w!==null&&(P=Oa(v,w),P!=null&&x.push(Wa(v,P,E)))),A)break;v=v.return}0<x.length&&(p=new g(p,T,null,n,h),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Nf&&(T=n.relatedTarget||n.fromElement)&&(Ps(T)||T[ar]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=d,T=T?Ps(T):null,T!==null&&(A=ni(T),T!==A||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=d),g!==T)){if(x=R0,P="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=D0,P="onPointerLeave",w="onPointerEnter",v="pointer"),A=g==null?p:Ii(g),E=T==null?p:Ii(T),p=new x(P,v+"leave",g,n,h),p.target=A,p.relatedTarget=E,P=null,Ps(h)===d&&(x=new x(w,v+"enter",T,n,h),x.target=E,x.relatedTarget=A,P=x),A=P,g&&T)t:{for(x=g,w=T,v=0,E=x;E;E=pi(E))v++;for(E=0,P=w;P;P=pi(P))E++;for(;0<v-E;)x=pi(x),v--;for(;0<E-v;)w=pi(w),E--;for(;v--;){if(x===w||w!==null&&x===w.alternate)break t;x=pi(x),w=pi(w)}x=null}else x=null;g!==null&&W0(f,p,g,x,!1),T!==null&&A!==null&&W0(f,A,T,x,!0)}}e:{if(p=d?Ii(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=CC;else if(L0(p))if(j_)L=RC;else{L=NC;var F=AC}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=PC);if(L&&(L=L(t,d))){R_(f,L,n,h);break e}F&&F(t,p,d),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&bf(p,"number",p.value)}switch(F=d?Ii(d):window,t){case"focusin":(L0(F)||F.contentEditable==="true")&&(Si=F,Lf=d,ya=null);break;case"focusout":ya=Lf=Si=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,$0(f,n,h);break;case"selectionchange":if(VC)break;case"keydown":case"keyup":$0(f,n,h)}var I;if(Im)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ti?N_(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(A_&&n.locale!=="ko"&&(Ti||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ti&&(I=C_()):(Dr=h,Tm="value"in Dr?Dr.value:Dr.textContent,Ti=!0)),F=au(d,_),0<F.length&&(_=new j0(_,t,null,n,h),f.push({event:_,listeners:F}),I?_.data=I:(I=P_(n),I!==null&&(_.data=I)))),(I=TC?SC(t,n):bC(t,n))&&(d=au(d,"onBeforeInput"),0<d.length&&(h=new j0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=I))}z_(f,e)})}function Wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function au(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oa(t,n),i!=null&&r.unshift(Wa(t,i,s)),i=Oa(t,e),i!=null&&r.push(Wa(t,i,s))),t=t.return}return r}function pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Oa(n,i),l!=null&&o.unshift(Wa(n,l,a))):s||(l=Oa(n,i),l!=null&&o.push(Wa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function q0(t){return(typeof t=="string"?t:""+t).replace(FC,`
`).replace(UC,"")}function ac(t,e,n){if(e=q0(e),q0(t)!==e&&n)throw Error($(425))}function lu(){}var Ff=null,Uf=null;function Bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,$C=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(t){return G0.resolve(null).then(t).catch(zC)}:$f;function zC(t){setTimeout(function(){throw t})}function Ih(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ba(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ba(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function K0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _o=Math.random().toString(36).slice(2),kn="__reactFiber$"+_o,qa="__reactProps$"+_o,ar="__reactContainer$"+_o,zf="__reactEvents$"+_o,HC="__reactListeners$"+_o,WC="__reactHandles$"+_o;function Ps(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ar]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=K0(t);t!==null;){if(n=t[kn])return n;t=K0(t)}return e}t=n,n=t.parentNode}return null}function ml(t){return t=t[kn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function nd(t){return t[qa]||null}var Hf=[],ki=-1;function hs(t){return{current:t}}function be(t){0>ki||(t.current=Hf[ki],Hf[ki]=null,ki--)}function Ee(t,e){ki++,Hf[ki]=t.current,t.current=e}var Zr={},_t=hs(Zr),Ot=hs(!1),Hs=Zr;function Zi(t,e){var n=t.type.contextTypes;if(!n)return Zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ft(t){return t=t.childContextTypes,t!=null}function cu(){be(Ot),be(_t)}function Q0(t,e,n){if(_t.current!==Zr)throw Error($(168));Ee(_t,e),Ee(Ot,n)}function W_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,Ak(t)||"Unknown",s));return De({},n,r)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,Hs=_t.current,Ee(_t,t),Ee(Ot,Ot.current),!0}function Y0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=W_(t,e,Hs),r.__reactInternalMemoizedMergedChildContext=t,be(Ot),be(_t),Ee(_t,t)):be(Ot),Ee(Ot,n)}var Qn=null,rd=!1,kh=!1;function q_(t){Qn===null?Qn=[t]:Qn.push(t)}function qC(t){rd=!0,q_(t)}function fs(){if(!kh&&Qn!==null){kh=!0;var t=0,e=ve;try{var n=Qn;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,rd=!1}catch(s){throw Qn!==null&&(Qn=Qn.slice(t+1)),y_(xm,fs),s}finally{ve=e,kh=!1}}return null}var Ci=[],Ai=0,du=null,hu=0,Zt=[],en=0,Ws=null,Xn=1,Jn="";function bs(t,e){Ci[Ai++]=hu,Ci[Ai++]=du,du=t,hu=e}function G_(t,e,n){Zt[en++]=Xn,Zt[en++]=Jn,Zt[en++]=Ws,Ws=t;var r=Xn;t=Jn;var s=32-yn(r)-1;r&=~(1<<s),n+=1;var i=32-yn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xn=1<<32-yn(e)+s|n<<s|r,Jn=i+t}else Xn=1<<i|n<<s|r,Jn=t}function Cm(t){t.return!==null&&(bs(t,1),G_(t,1,0))}function Am(t){for(;t===du;)du=Ci[--Ai],Ci[Ai]=null,hu=Ci[--Ai],Ci[Ai]=null;for(;t===Ws;)Ws=Zt[--en],Zt[en]=null,Jn=Zt[--en],Zt[en]=null,Xn=Zt[--en],Zt[en]=null}var Wt=null,Ht=null,Ie=!1,fn=null;function K_(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function X0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ws!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Ht=null,!0):!1;default:return!1}}function Wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qf(t){if(Ie){var e=Ht;if(e){var n=e;if(!X0(t,e)){if(Wf(t))throw Error($(418));e=Br(n.nextSibling);var r=Wt;e&&X0(t,e)?K_(r,n):(t.flags=t.flags&-4097|2,Ie=!1,Wt=t)}}else{if(Wf(t))throw Error($(418));t.flags=t.flags&-4097|2,Ie=!1,Wt=t}}}function J0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function lc(t){if(t!==Wt)return!1;if(!Ie)return J0(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bf(t.type,t.memoizedProps)),e&&(e=Ht)){if(Wf(t))throw Q_(),Error($(418));for(;e;)K_(t,e),e=Br(e.nextSibling)}if(J0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Wt?Br(t.stateNode.nextSibling):null;return!0}function Q_(){for(var t=Ht;t;)t=Br(t.nextSibling)}function eo(){Ht=Wt=null,Ie=!1}function Nm(t){fn===null?fn=[t]:fn.push(t)}var GC=mr.ReactCurrentBatchConfig;function Jo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function cc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Z0(t){var e=t._init;return e(t._payload)}function Y_(t){function e(w,v){if(t){var E=w.deletions;E===null?(w.deletions=[v],w.flags|=16):E.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Wr(w,v),w.index=0,w.sibling=null,w}function i(w,v,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<v?(w.flags|=2,v):E):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,E,P){return v===null||v.tag!==6?(v=Dh(E,w.mode,P),v.return=w,v):(v=s(v,E),v.return=w,v)}function l(w,v,E,P){var L=E.type;return L===Ei?h(w,v,E.props.children,P,E.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Sr&&Z0(L)===v.type)?(P=s(v,E.props),P.ref=Jo(w,v,E),P.return=w,P):(P=Oc(E.type,E.key,E.props,null,w.mode,P),P.ref=Jo(w,v,E),P.return=w,P)}function d(w,v,E,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=Vh(E,w.mode,P),v.return=w,v):(v=s(v,E.children||[]),v.return=w,v)}function h(w,v,E,P,L){return v===null||v.tag!==7?(v=Fs(E,w.mode,P,L),v.return=w,v):(v=s(v,E),v.return=w,v)}function f(w,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dh(""+v,w.mode,E),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Jl:return E=Oc(v.type,v.key,v.props,null,w.mode,E),E.ref=Jo(w,null,v),E.return=w,E;case _i:return v=Vh(v,w.mode,E),v.return=w,v;case Sr:var P=v._init;return f(w,P(v._payload),E)}if(oa(v)||Go(v))return v=Fs(v,w.mode,E,null),v.return=w,v;cc(w,v)}return null}function p(w,v,E,P){var L=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return L!==null?null:a(w,v,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Jl:return E.key===L?l(w,v,E,P):null;case _i:return E.key===L?d(w,v,E,P):null;case Sr:return L=E._init,p(w,v,L(E._payload),P)}if(oa(E)||Go(E))return L!==null?null:h(w,v,E,P,null);cc(w,E)}return null}function g(w,v,E,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(E)||null,a(v,w,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Jl:return w=w.get(P.key===null?E:P.key)||null,l(v,w,P,L);case _i:return w=w.get(P.key===null?E:P.key)||null,d(v,w,P,L);case Sr:var F=P._init;return g(w,v,E,F(P._payload),L)}if(oa(P)||Go(P))return w=w.get(E)||null,h(v,w,P,L,null);cc(v,P)}return null}function T(w,v,E,P){for(var L=null,F=null,I=v,_=v=0,b=null;I!==null&&_<E.length;_++){I.index>_?(b=I,I=null):b=I.sibling;var C=p(w,I,E[_],P);if(C===null){I===null&&(I=b);break}t&&I&&C.alternate===null&&e(w,I),v=i(C,v,_),F===null?L=C:F.sibling=C,F=C,I=b}if(_===E.length)return n(w,I),Ie&&bs(w,_),L;if(I===null){for(;_<E.length;_++)I=f(w,E[_],P),I!==null&&(v=i(I,v,_),F===null?L=I:F.sibling=I,F=I);return Ie&&bs(w,_),L}for(I=r(w,I);_<E.length;_++)b=g(I,w,_,E[_],P),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?_:b.key),v=i(b,v,_),F===null?L=b:F.sibling=b,F=b);return t&&I.forEach(function(R){return e(w,R)}),Ie&&bs(w,_),L}function x(w,v,E,P){var L=Go(E);if(typeof L!="function")throw Error($(150));if(E=L.call(E),E==null)throw Error($(151));for(var F=L=null,I=v,_=v=0,b=null,C=E.next();I!==null&&!C.done;_++,C=E.next()){I.index>_?(b=I,I=null):b=I.sibling;var R=p(w,I,C.value,P);if(R===null){I===null&&(I=b);break}t&&I&&R.alternate===null&&e(w,I),v=i(R,v,_),F===null?L=R:F.sibling=R,F=R,I=b}if(C.done)return n(w,I),Ie&&bs(w,_),L;if(I===null){for(;!C.done;_++,C=E.next())C=f(w,C.value,P),C!==null&&(v=i(C,v,_),F===null?L=C:F.sibling=C,F=C);return Ie&&bs(w,_),L}for(I=r(w,I);!C.done;_++,C=E.next())C=g(I,w,_,C.value,P),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?_:C.key),v=i(C,v,_),F===null?L=C:F.sibling=C,F=C);return t&&I.forEach(function(j){return e(w,j)}),Ie&&bs(w,_),L}function A(w,v,E,P){if(typeof E=="object"&&E!==null&&E.type===Ei&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Jl:e:{for(var L=E.key,F=v;F!==null;){if(F.key===L){if(L=E.type,L===Ei){if(F.tag===7){n(w,F.sibling),v=s(F,E.props.children),v.return=w,w=v;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Sr&&Z0(L)===F.type){n(w,F.sibling),v=s(F,E.props),v.ref=Jo(w,F,E),v.return=w,w=v;break e}n(w,F);break}else e(w,F);F=F.sibling}E.type===Ei?(v=Fs(E.props.children,w.mode,P,E.key),v.return=w,w=v):(P=Oc(E.type,E.key,E.props,null,w.mode,P),P.ref=Jo(w,v,E),P.return=w,w=P)}return o(w);case _i:e:{for(F=E.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(w,v.sibling),v=s(v,E.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Vh(E,w.mode,P),v.return=w,w=v}return o(w);case Sr:return F=E._init,A(w,v,F(E._payload),P)}if(oa(E))return T(w,v,E,P);if(Go(E))return x(w,v,E,P);cc(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,E),v.return=w,w=v):(n(w,v),v=Dh(E,w.mode,P),v.return=w,w=v),o(w)):n(w,v)}return A}var to=Y_(!0),X_=Y_(!1),fu=hs(null),pu=null,Ni=null,Pm=null;function Rm(){Pm=Ni=pu=null}function jm(t){var e=fu.current;be(fu),t._currentValue=e}function Gf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $i(t,e){pu=t,Pm=Ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(Pm!==t)if(t={context:t,memoizedValue:e,next:null},Ni===null){if(pu===null)throw Error($(308));Ni=t,pu.dependencies={lanes:0,firstContext:t}}else Ni=Ni.next=t;return e}var Rs=null;function Dm(t){Rs===null?Rs=[t]:Rs.push(t)}function J_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Dm(e)):(n.next=s.next,s.next=n),e.interleaved=n,lr(t,r)}function lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function Vm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,lr(t,n)}return s=r.interleaved,s===null?(e.next=e,Dm(r)):(e.next=s.next,s.next=e),r.interleaved=e,lr(t,n)}function Rc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}function ev(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mu(t,e,n,r){var s=t.updateQueue;br=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,x=a;switch(p=e,g=n,x.tag){case 1:if(T=x.payload,typeof T=="function"){f=T.call(g,f,p);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=x.payload,p=typeof T=="function"?T.call(g,f,p):T,p==null)break e;f=De({},f,p);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Gs|=o,t.lanes=o,t.memoizedState=f}}function tv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var gl={},Pn=hs(gl),Ga=hs(gl),Ka=hs(gl);function js(t){if(t===gl)throw Error($(174));return t}function Mm(t,e){switch(Ee(Ka,e),Ee(Ga,t),Ee(Pn,gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kf(e,t)}be(Pn),Ee(Pn,e)}function no(){be(Pn),be(Ga),be(Ka)}function eE(t){js(Ka.current);var e=js(Pn.current),n=kf(e,t.type);e!==n&&(Ee(Ga,t),Ee(Pn,n))}function Lm(t){Ga.current===t&&(be(Pn),be(Ga))}var Ae=hs(0);function gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ch=[];function Om(){for(var t=0;t<Ch.length;t++)Ch[t]._workInProgressVersionPrimary=null;Ch.length=0}var jc=mr.ReactCurrentDispatcher,Ah=mr.ReactCurrentBatchConfig,qs=0,Pe=null,Ke=null,tt=null,yu=!1,va=!1,Qa=0,KC=0;function pt(){throw Error($(321))}function Fm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function Um(t,e,n,r,s,i){if(qs=i,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?JC:ZC,t=n(r,s),va){i=0;do{if(va=!1,Qa=0,25<=i)throw Error($(301));i+=1,tt=Ke=null,e.updateQueue=null,jc.current=eA,t=n(r,s)}while(va)}if(jc.current=vu,e=Ke!==null&&Ke.next!==null,qs=0,tt=Ke=Pe=null,yu=!1,e)throw Error($(300));return t}function Bm(){var t=Qa!==0;return Qa=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Pe.memoizedState=tt=t:tt=tt.next=t,tt}function an(){if(Ke===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=tt===null?Pe.memoizedState:tt.next;if(e!==null)tt=e,Ke=t;else{if(t===null)throw Error($(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},tt===null?Pe.memoizedState=tt=t:tt=tt.next=t}return tt}function Ya(t,e){return typeof e=="function"?e(t):e}function Nh(t){var e=an(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((qs&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Pe.lanes|=h,Gs|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,xn(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Pe.lanes|=i,Gs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ph(t){var e=an(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);xn(i,e.memoizedState)||(Lt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function tE(){}function nE(t,e){var n=Pe,r=an(),s=e(),i=!xn(r.memoizedState,s);if(i&&(r.memoizedState=s,Lt=!0),r=r.queue,$m(iE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Xa(9,sE.bind(null,n,r,s,e),void 0,null),nt===null)throw Error($(349));qs&30||rE(n,e,s)}return s}function rE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sE(t,e,n,r){e.value=n,e.getSnapshot=r,oE(e)&&aE(t)}function iE(t,e,n){return n(function(){oE(e)&&aE(t)})}function oE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function aE(t){var e=lr(t,1);e!==null&&vn(e,t,1,-1)}function nv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:t},e.queue=t,t=t.dispatch=XC.bind(null,Pe,t),[e.memoizedState,t]}function Xa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lE(){return an().memoizedState}function Dc(t,e,n,r){var s=bn();Pe.flags|=t,s.memoizedState=Xa(1|e,n,void 0,r===void 0?null:r)}function sd(t,e,n,r){var s=an();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&Fm(r,o.deps)){s.memoizedState=Xa(e,n,i,r);return}}Pe.flags|=t,s.memoizedState=Xa(1|e,n,i,r)}function rv(t,e){return Dc(8390656,8,t,e)}function $m(t,e){return sd(2048,8,t,e)}function cE(t,e){return sd(4,2,t,e)}function uE(t,e){return sd(4,4,t,e)}function dE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hE(t,e,n){return n=n!=null?n.concat([t]):null,sd(4,4,dE.bind(null,e,t),n)}function zm(){}function fE(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pE(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return qs&21?(xn(n,e)||(n=w_(),Pe.lanes|=n,Gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function QC(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Ah.transition;Ah.transition={};try{t(!1),e()}finally{ve=n,Ah.transition=r}}function gE(){return an().memoizedState}function YC(t,e,n){var r=Hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yE(t))vE(e,n);else if(n=J_(t,e,n,r),n!==null){var s=Pt();vn(n,t,r,s),xE(n,e,r)}}function XC(t,e,n){var r=Hr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(t))vE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,xn(a,o)){var l=e.interleaved;l===null?(s.next=s,Dm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=J_(t,e,s,r),n!==null&&(s=Pt(),vn(n,t,r,s),xE(n,e,r))}}function yE(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function vE(t,e){va=yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}var vu={readContext:on,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},JC={readContext:on,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4194308,4,dE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dc(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YC.bind(null,Pe,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:nv,useDebugValue:zm,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=nv(!1),e=t[0];return t=QC.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pe,s=bn();if(Ie){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),nt===null)throw Error($(349));qs&30||rE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,rv(iE.bind(null,r,i,t),[t]),r.flags|=2048,Xa(9,sE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=bn(),e=nt.identifierPrefix;if(Ie){var n=Jn,r=Xn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZC={readContext:on,useCallback:fE,useContext:on,useEffect:$m,useImperativeHandle:hE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:pE,useReducer:Nh,useRef:lE,useState:function(){return Nh(Ya)},useDebugValue:zm,useDeferredValue:function(t){var e=an();return mE(e,Ke.memoizedState,t)},useTransition:function(){var t=Nh(Ya)[0],e=an().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},eA={readContext:on,useCallback:fE,useContext:on,useEffect:$m,useImperativeHandle:hE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:pE,useReducer:Ph,useRef:lE,useState:function(){return Ph(Ya)},useDebugValue:zm,useDeferredValue:function(t){var e=an();return Ke===null?e.memoizedState=t:mE(e,Ke.memoizedState,t)},useTransition:function(){var t=Ph(Ya)[0],e=an().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var id={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),s=Hr(t),i=nr(r,s);i.payload=e,n!=null&&(i.callback=n),e=$r(t,i,s),e!==null&&(vn(e,t,s,r),Rc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),s=Hr(t),i=nr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=$r(t,i,s),e!==null&&(vn(e,t,s,r),Rc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Hr(t),s=nr(n,r);s.tag=2,e!=null&&(s.callback=e),e=$r(t,s,r),e!==null&&(vn(e,t,r,n),Rc(e,t,r))}};function sv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!za(n,r)||!za(s,i):!0}function wE(t,e,n){var r=!1,s=Zr,i=e.contextType;return typeof i=="object"&&i!==null?i=on(i):(s=Ft(e)?Hs:_t.current,r=e.contextTypes,i=(r=r!=null)?Zi(t,s):Zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function iv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&id.enqueueReplaceState(e,e.state,null)}function Qf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=on(i):(i=Ft(e)?Hs:_t.current,s.context=Zi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&id.enqueueReplaceState(s,s.state,null),mu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ro(t,e){try{var n="",r=e;do n+=Ck(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tA=typeof WeakMap=="function"?WeakMap:Map;function _E(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wu||(wu=!0,op=r),Yf(t,e)},n}function EE(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Yf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yf(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ov(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mA.bind(null,t,e,n),e.then(t,t))}function av(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var nA=mr.ReactCurrentOwner,Lt=!1;function Ct(t,e,n,r){e.child=t===null?X_(e,null,n,r):to(e,t.child,n,r)}function cv(t,e,n,r,s){n=n.render;var i=e.ref;return $i(e,s),r=Um(t,e,n,r,i,s),n=Bm(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cr(t,e,s)):(Ie&&n&&Cm(e),e.flags|=1,Ct(t,e,r,s),e.child)}function uv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Xm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TE(t,e,i,r,s)):(t=Oc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:za,n(o,r)&&t.ref===e.ref)return cr(t,e,s)}return e.flags|=1,t=Wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function TE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(za(i,r)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,cr(t,e,s)}return Xf(t,e,n,r,s)}function SE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ri,zt),zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Ri,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ee(Ri,zt),zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ee(Ri,zt),zt|=r;return Ct(t,e,s,n),e.child}function bE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xf(t,e,n,r,s){var i=Ft(n)?Hs:_t.current;return i=Zi(e,i),$i(e,s),n=Um(t,e,n,r,i,s),r=Bm(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cr(t,e,s)):(Ie&&r&&Cm(e),e.flags|=1,Ct(t,e,n,s),e.child)}function dv(t,e,n,r,s){if(Ft(n)){var i=!0;uu(e)}else i=!1;if($i(e,s),e.stateNode===null)Vc(t,e),wE(e,n,r),Qf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=on(d):(d=Ft(n)?Hs:_t.current,d=Zi(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&iv(e,o,r,d),br=!1;var p=e.memoizedState;o.state=p,mu(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Ot.current||br?(typeof h=="function"&&(Kf(e,n,h,r),l=e.memoizedState),(a=br||sv(e,n,a,r,p,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Z_(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:dn(e.type,a),o.props=d,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Ft(n)?Hs:_t.current,l=Zi(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&iv(e,o,r,l),br=!1,p=e.memoizedState,o.state=p,mu(e,r,o,s);var T=e.memoizedState;a!==f||p!==T||Ot.current||br?(typeof g=="function"&&(Kf(e,n,g,r),T=e.memoizedState),(d=br||sv(e,n,d,r,p,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Jf(t,e,n,r,i,s)}function Jf(t,e,n,r,s,i){bE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Y0(e,n,!1),cr(t,e,i);r=e.stateNode,nA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=to(e,t.child,null,i),e.child=to(e,null,a,i)):Ct(t,e,a,i),e.memoizedState=r.state,s&&Y0(e,n,!0),e.child}function IE(t){var e=t.stateNode;e.pendingContext?Q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q0(t,e.context,!1),Mm(t,e.containerInfo)}function hv(t,e,n,r,s){return eo(),Nm(s),e.flags|=256,Ct(t,e,n,r),e.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function ep(t){return{baseLanes:t,cachePool:null,transitions:null}}function kE(t,e,n){var r=e.pendingProps,s=Ae.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ee(Ae,s&1),t===null)return qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ld(o,r,0,null),t=Fs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ep(n),e.memoizedState=Zf,t):Hm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return rA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wr(a,i):(i=Fs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ep(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zf,r}return i=t.child,t=i.sibling,r=Wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hm(t,e){return e=ld({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uc(t,e,n,r){return r!==null&&Nm(r),to(e,t.child,null,n),t=Hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Rh(Error($(422))),uc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ld({mode:"visible",children:r.children},s,0,null),i=Fs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&to(e,t.child,null,o),e.child.memoizedState=ep(o),e.memoizedState=Zf,i);if(!(e.mode&1))return uc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Rh(i,r,void 0),uc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Lt||a){if(r=nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,lr(t,s),vn(r,t,s,-1))}return Ym(),r=Rh(Error($(421))),uc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ht=Br(s.nextSibling),Wt=e,Ie=!0,fn=null,t!==null&&(Zt[en++]=Xn,Zt[en++]=Jn,Zt[en++]=Ws,Xn=t.id,Jn=t.overflow,Ws=e),e=Hm(e,r.children),e.flags|=4096,e)}function fv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gf(t.return,e,n)}function jh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function CE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ct(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fv(t,n,e);else if(t.tag===19)fv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&gu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jh(e,!0,n,null,i);break;case"together":jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sA(t,e,n){switch(e.tag){case 3:IE(e),eo();break;case 5:eE(e);break;case 1:Ft(e.type)&&uu(e);break;case 4:Mm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ee(fu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?kE(t,e,n):(Ee(Ae,Ae.current&1),t=cr(t,e,n),t!==null?t.sibling:null);Ee(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,SE(t,e,n)}return cr(t,e,n)}var AE,tp,NE,PE;AE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tp=function(){};NE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,js(Pn.current);var i=null;switch(n){case"input":s=Tf(t,s),r=Tf(t,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=If(t,s),r=If(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lu)}Cf(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ma.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ma.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};PE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zo(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iA(t,e,n){var r=e.pendingProps;switch(Am(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Ft(e.type)&&cu(),mt(e),null;case 3:return r=e.stateNode,no(),be(Ot),be(_t),Om(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(cp(fn),fn=null))),tp(t,e),mt(e),null;case 5:Lm(e);var s=js(Ka.current);if(n=e.type,t!==null&&e.stateNode!=null)NE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return mt(e),null}if(t=js(Pn.current),lc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[kn]=e,r[qa]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<la.length;s++)Se(la[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":E0(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":S0(r,i),Se("invalid",r)}Cf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),s=["children",""+a]):Ma.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Zl(r),T0(r,i,!0);break;case"textarea":Zl(r),b0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=lu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=i_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kn]=e,t[qa]=r,AE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Af(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<la.length;s++)Se(la[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":E0(t,r),s=Tf(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),Se("invalid",t);break;case"textarea":S0(t,r),s=If(t,r),Se("invalid",t);break;default:s=r}Cf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?l_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&La(t,l):typeof l=="number"&&La(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ma.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Se("scroll",t):l!=null&&pm(t,i,l,o))}switch(n){case"input":Zl(t),T0(t,r,!1);break;case"textarea":Zl(t),b0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Oi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Oi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=lu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)PE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=js(Ka.current),js(Pn.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(i=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return mt(e),null;case 13:if(be(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Ht!==null&&e.mode&1&&!(e.flags&128))Q_(),eo(),e.flags|=98560,i=!1;else if(i=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[kn]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),i=!1}else fn!==null&&(cp(fn),fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Qe===0&&(Qe=3):Ym())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return no(),tp(t,e),t===null&&Ha(e.stateNode.containerInfo),mt(e),null;case 10:return jm(e.type._context),mt(e),null;case 17:return Ft(e.type)&&cu(),mt(e),null;case 19:if(be(Ae),i=e.memoizedState,i===null)return mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Zo(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gu(t),o!==null){for(e.flags|=128,Zo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Ae,Ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&Fe()>so&&(e.flags|=128,r=!0,Zo(i,!1),e.lanes=4194304)}else{if(!r)if(t=gu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return mt(e),null}else 2*Fe()-i.renderingStartTime>so&&n!==1073741824&&(e.flags|=128,r=!0,Zo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fe(),e.sibling=null,n=Ae.current,Ee(Ae,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Qm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function oA(t,e){switch(Am(e),e.tag){case 1:return Ft(e.type)&&cu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),be(Ot),be(_t),Om(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lm(e),null;case 13:if(be(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Ae),null;case 4:return no(),null;case 10:return jm(e.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var dc=!1,vt=!1,aA=typeof WeakSet=="function"?WeakSet:Set,K=null;function Pi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function np(t,e,n){try{n()}catch(r){Me(t,e,r)}}var pv=!1;function lA(t,e){if(Ff=iu,t=M_(),km(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:t,selectionRange:n},iu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var x=T.memoizedProps,A=T.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:dn(e.type,x),A);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(P){Me(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return T=pv,pv=!1,T}function xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&np(e,n,i)}s=s.next}while(s!==r)}}function od(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RE(t){var e=t.alternate;e!==null&&(t.alternate=null,RE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[qa],delete e[zf],delete e[HC],delete e[WC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jE(t){return t.tag===5||t.tag===3||t.tag===4}function mv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lu));else if(r!==4&&(t=t.child,t!==null))for(sp(t,e,n),t=t.sibling;t!==null;)sp(t,e,n),t=t.sibling}function ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ip(t,e,n),t=t.sibling;t!==null;)ip(t,e,n),t=t.sibling}var st=null,hn=!1;function wr(t,e,n){for(n=n.child;n!==null;)DE(t,e,n),n=n.sibling}function DE(t,e,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Ju,n)}catch{}switch(n.tag){case 5:vt||Pi(n,e);case 6:var r=st,s=hn;st=null,wr(t,e,n),st=r,hn=s,st!==null&&(hn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(hn?(t=st,n=n.stateNode,t.nodeType===8?Ih(t.parentNode,n):t.nodeType===1&&Ih(t,n),Ba(t)):Ih(st,n.stateNode));break;case 4:r=st,s=hn,st=n.stateNode.containerInfo,hn=!0,wr(t,e,n),st=r,hn=s;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&np(n,e,o),s=s.next}while(s!==r)}wr(t,e,n);break;case 1:if(!vt&&(Pi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,wr(t,e,n),vt=r):wr(t,e,n);break;default:wr(t,e,n)}}function gv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aA),e.forEach(function(r){var s=yA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,hn=!1;break e;case 3:st=a.stateNode.containerInfo,hn=!0;break e;case 4:st=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(st===null)throw Error($(160));DE(i,o,s),st=null,hn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){Me(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VE(e,t),e=e.sibling}function VE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),Sn(t),r&4){try{xa(3,t,t.return),od(3,t)}catch(x){Me(t,t.return,x)}try{xa(5,t,t.return)}catch(x){Me(t,t.return,x)}}break;case 1:un(e,t),Sn(t),r&512&&n!==null&&Pi(n,n.return);break;case 5:if(un(e,t),Sn(t),r&512&&n!==null&&Pi(n,n.return),t.flags&32){var s=t.stateNode;try{La(s,"")}catch(x){Me(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&r_(s,i),Af(a,o);var d=Af(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?l_(s,f):h==="dangerouslySetInnerHTML"?o_(s,f):h==="children"?La(s,f):pm(s,h,f,d)}switch(a){case"input":Sf(s,i);break;case"textarea":s_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Oi(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Oi(s,!!i.multiple,i.defaultValue,!0):Oi(s,!!i.multiple,i.multiple?[]:"",!1))}s[qa]=i}catch(x){Me(t,t.return,x)}}break;case 6:if(un(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Me(t,t.return,x)}}break;case 3:if(un(e,t),Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(e.containerInfo)}catch(x){Me(t,t.return,x)}break;case 4:un(e,t),Sn(t);break;case 13:un(e,t),Sn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gm=Fe())),r&4&&gv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(d=vt)||h,un(e,t),vt=d):un(e,t),Sn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(p=K,g=p.child,p.tag){case 0:case 11:case 14:case 15:xa(4,p,p.return);break;case 1:Pi(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(x){Me(r,n,x)}}break;case 5:Pi(p,p.return);break;case 22:if(p.memoizedState!==null){vv(f);continue}}g!==null?(g.return=p,K=g):vv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=a_("display",o))}catch(x){Me(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Me(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(e,t),Sn(t),r&4&&gv(t);break;case 21:break;default:un(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jE(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(La(s,""),r.flags&=-33);var i=mv(t);ip(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mv(t);sp(t,a,o);break;default:throw Error($(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cA(t,e,n){K=t,ME(t)}function ME(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||vt;a=dc;var d=vt;if(dc=o,(vt=l)&&!d)for(K=s;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?xv(s):l!==null?(l.return=o,K=l):xv(s);for(;i!==null;)K=i,ME(i),i=i.sibling;K=s,dc=a,vt=d}yv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):yv(t)}}function yv(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||od(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}vt||e.flags&512&&rp(e)}catch(p){Me(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function vv(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function xv(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{od(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Me(e,s,l)}}var i=e.return;try{rp(e)}catch(l){Me(e,i,l)}break;case 5:var o=e.return;try{rp(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var uA=Math.ceil,xu=mr.ReactCurrentDispatcher,Wm=mr.ReactCurrentOwner,rn=mr.ReactCurrentBatchConfig,pe=0,nt=null,He=null,ot=0,zt=0,Ri=hs(0),Qe=0,Ja=null,Gs=0,ad=0,qm=0,wa=null,Mt=null,Gm=0,so=1/0,Kn=null,wu=!1,op=null,zr=null,hc=!1,Vr=null,_u=0,_a=0,ap=null,Mc=-1,Lc=0;function Pt(){return pe&6?Fe():Mc!==-1?Mc:Mc=Fe()}function Hr(t){return t.mode&1?pe&2&&ot!==0?ot&-ot:GC.transition!==null?(Lc===0&&(Lc=w_()),Lc):(t=ve,t!==0||(t=window.event,t=t===void 0?16:k_(t.type)),t):1}function vn(t,e,n,r){if(50<_a)throw _a=0,ap=null,Error($(185));fl(t,n,r),(!(pe&2)||t!==nt)&&(t===nt&&(!(pe&2)&&(ad|=n),Qe===4&&Ar(t,ot)),Ut(t,r),n===1&&pe===0&&!(e.mode&1)&&(so=Fe()+500,rd&&fs()))}function Ut(t,e){var n=t.callbackNode;Gk(t,e);var r=su(t,t===nt?ot:0);if(r===0)n!==null&&C0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C0(n),e===1)t.tag===0?qC(wv.bind(null,t)):q_(wv.bind(null,t)),$C(function(){!(pe&6)&&fs()}),n=null;else{switch(__(r)){case 1:n=xm;break;case 4:n=v_;break;case 16:n=ru;break;case 536870912:n=x_;break;default:n=ru}n=HE(n,LE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LE(t,e){if(Mc=-1,Lc=0,pe&6)throw Error($(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var r=su(t,t===nt?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var s=pe;pe|=2;var i=FE();(nt!==t||ot!==e)&&(Kn=null,so=Fe()+500,Os(t,e));do try{fA();break}catch(a){OE(t,a)}while(!0);Rm(),xu.current=i,pe=s,He!==null?e=0:(nt=null,ot=0,e=Qe)}if(e!==0){if(e===2&&(s=Df(t),s!==0&&(r=s,e=lp(t,s))),e===1)throw n=Ja,Os(t,0),Ar(t,r),Ut(t,Fe()),n;if(e===6)Ar(t,r);else{if(s=t.current.alternate,!(r&30)&&!dA(s)&&(e=Eu(t,r),e===2&&(i=Df(t),i!==0&&(r=i,e=lp(t,i))),e===1))throw n=Ja,Os(t,0),Ar(t,r),Ut(t,Fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Is(t,Mt,Kn);break;case 3:if(Ar(t,r),(r&130023424)===r&&(e=Gm+500-Fe(),10<e)){if(su(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$f(Is.bind(null,t,Mt,Kn),e);break}Is(t,Mt,Kn);break;case 4:if(Ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-yn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uA(r/1960))-r,10<r){t.timeoutHandle=$f(Is.bind(null,t,Mt,Kn),r);break}Is(t,Mt,Kn);break;case 5:Is(t,Mt,Kn);break;default:throw Error($(329))}}}return Ut(t,Fe()),t.callbackNode===n?LE.bind(null,t):null}function lp(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&cp(e)),t}function cp(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function dA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~qm,e&=~ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yn(e),r=1<<n;t[n]=-1,e&=~r}}function wv(t){if(pe&6)throw Error($(327));zi();var e=su(t,0);if(!(e&1))return Ut(t,Fe()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=Df(t);r!==0&&(e=r,n=lp(t,r))}if(n===1)throw n=Ja,Os(t,0),Ar(t,e),Ut(t,Fe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Is(t,Mt,Kn),Ut(t,Fe()),null}function Km(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(so=Fe()+500,rd&&fs())}}function Ks(t){Vr!==null&&Vr.tag===0&&!(pe&6)&&zi();var e=pe;pe|=1;var n=rn.transition,r=ve;try{if(rn.transition=null,ve=1,t)return t()}finally{ve=r,rn.transition=n,pe=e,!(pe&6)&&fs()}}function Qm(){zt=Ri.current,be(Ri)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BC(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Am(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cu();break;case 3:no(),be(Ot),be(_t),Om();break;case 5:Lm(r);break;case 4:no();break;case 13:be(Ae);break;case 19:be(Ae);break;case 10:jm(r.type._context);break;case 22:case 23:Qm()}n=n.return}if(nt=t,He=t=Wr(t.current,null),ot=zt=e,Qe=0,Ja=null,qm=ad=Gs=0,Mt=wa=null,Rs!==null){for(e=0;e<Rs.length;e++)if(n=Rs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Rs=null}return t}function OE(t,e){do{var n=He;try{if(Rm(),jc.current=vu,yu){for(var r=Pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yu=!1}if(qs=0,tt=Ke=Pe=null,va=!1,Qa=0,Wm.current=null,n===null||n.return===null){Qe=1,Ja=e,He=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=av(o);if(g!==null){g.flags&=-257,lv(g,o,a,i,e),g.mode&1&&ov(i,d,e),e=g,l=d;var T=e.updateQueue;if(T===null){var x=new Set;x.add(l),e.updateQueue=x}else T.add(l);break e}else{if(!(e&1)){ov(i,d,e),Ym();break e}l=Error($(426))}}else if(Ie&&a.mode&1){var A=av(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),lv(A,o,a,i,e),Nm(ro(l,a));break e}}i=l=ro(l,a),Qe!==4&&(Qe=2),wa===null?wa=[i]:wa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=_E(i,l,e);ev(i,w);break e;case 1:a=l;var v=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(zr===null||!zr.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=EE(i,a,e);ev(i,P);break e}}i=i.return}while(i!==null)}BE(n)}catch(L){e=L,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function FE(){var t=xu.current;return xu.current=vu,t===null?vu:t}function Ym(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(Gs&268435455)&&!(ad&268435455)||Ar(nt,ot)}function Eu(t,e){var n=pe;pe|=2;var r=FE();(nt!==t||ot!==e)&&(Kn=null,Os(t,e));do try{hA();break}catch(s){OE(t,s)}while(!0);if(Rm(),pe=n,xu.current=r,He!==null)throw Error($(261));return nt=null,ot=0,Qe}function hA(){for(;He!==null;)UE(He)}function fA(){for(;He!==null&&!Ok();)UE(He)}function UE(t){var e=zE(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?BE(t):He=e,Wm.current=null}function BE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oA(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(n=iA(n,e,zt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Qe===0&&(Qe=5)}function Is(t,e,n){var r=ve,s=rn.transition;try{rn.transition=null,ve=1,pA(t,e,n,r)}finally{rn.transition=s,ve=r}return null}function pA(t,e,n,r){do zi();while(Vr!==null);if(pe&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Kk(t,i),t===nt&&(He=nt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hc||(hc=!0,HE(ru,function(){return zi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rn.transition,rn.transition=null;var o=ve;ve=1;var a=pe;pe|=4,Wm.current=null,lA(t,n),VE(n,t),DC(Uf),iu=!!Ff,Uf=Ff=null,t.current=n,cA(n),Fk(),pe=a,ve=o,rn.transition=i}else t.current=n;if(hc&&(hc=!1,Vr=t,_u=s),i=t.pendingLanes,i===0&&(zr=null),$k(n.stateNode),Ut(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wu)throw wu=!1,t=op,op=null,t;return _u&1&&t.tag!==0&&zi(),i=t.pendingLanes,i&1?t===ap?_a++:(_a=0,ap=t):_a=0,fs(),null}function zi(){if(Vr!==null){var t=__(_u),e=rn.transition,n=ve;try{if(rn.transition=null,ve=16>t?16:t,Vr===null)var r=!1;else{if(t=Vr,Vr=null,_u=0,pe&6)throw Error($(331));var s=pe;for(pe|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(K=d;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:xa(8,h,i)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var p=h.sibling,g=h.return;if(RE(h),h===d){K=null;break}if(p!==null){p.return=g,K=p;break}K=g}}}var T=i.alternate;if(T!==null){var x=T.child;if(x!==null){T.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,K=w;break e}K=i.return}}var v=t.current;for(K=v;K!==null;){o=K;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,K=E;else e:for(o=v;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:od(9,a)}}catch(L){Me(a,a.return,L)}if(a===o){K=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,K=P;break e}K=a.return}}if(pe=s,fs(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Ju,t)}catch{}r=!0}return r}finally{ve=n,rn.transition=e}}return!1}function _v(t,e,n){e=ro(n,e),e=_E(t,e,1),t=$r(t,e,1),e=Pt(),t!==null&&(fl(t,1,e),Ut(t,e))}function Me(t,e,n){if(t.tag===3)_v(t,t,n);else for(;e!==null;){if(e.tag===3){_v(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=ro(n,t),t=EE(e,t,1),e=$r(e,t,1),t=Pt(),e!==null&&(fl(e,1,t),Ut(e,t));break}}e=e.return}}function mA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ot&n)===n&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>Fe()-Gm?Os(t,0):qm|=n),Ut(t,e)}function $E(t,e){e===0&&(t.mode&1?(e=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):e=1);var n=Pt();t=lr(t,e),t!==null&&(fl(t,e,n),Ut(t,n))}function gA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$E(t,n)}function yA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),$E(t,n)}var zE;zE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,sA(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,Ie&&e.flags&1048576&&G_(e,hu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vc(t,e),t=e.pendingProps;var s=Zi(e,_t.current);$i(e,n),s=Um(null,e,r,t,s,n);var i=Bm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(i=!0,uu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vm(e),s.updater=id,e.stateNode=s,s._reactInternals=e,Qf(e,r,t,n),e=Jf(null,e,r,!0,i,n)):(e.tag=0,Ie&&i&&Cm(e),Ct(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xA(r),t=dn(r,t),s){case 0:e=Xf(null,e,r,t,n);break e;case 1:e=dv(null,e,r,t,n);break e;case 11:e=cv(null,e,r,t,n);break e;case 14:e=uv(null,e,r,dn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),Xf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),dv(t,e,r,s,n);case 3:e:{if(IE(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Z_(t,e),mu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ro(Error($(423)),e),e=hv(t,e,r,n,s);break e}else if(r!==s){s=ro(Error($(424)),e),e=hv(t,e,r,n,s);break e}else for(Ht=Br(e.stateNode.containerInfo.firstChild),Wt=e,Ie=!0,fn=null,n=X_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===s){e=cr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return eE(e),t===null&&qf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bf(r,s)?o=null:i!==null&&Bf(r,i)&&(e.flags|=32),bE(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&qf(e),null;case 13:return kE(t,e,n);case 4:return Mm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=to(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),cv(t,e,r,s,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ee(fu,r._currentValue),r._currentValue=o,i!==null)if(xn(i.value,o)){if(i.children===s.children&&!Ot.current){e=cr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=nr(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ct(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,$i(e,n),s=on(s),r=r(s),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,s=dn(r,e.pendingProps),s=dn(r.type,s),uv(t,e,r,s,n);case 15:return TE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),Vc(t,e),e.tag=1,Ft(r)?(t=!0,uu(e)):t=!1,$i(e,n),wE(e,r,s),Qf(e,r,s,n),Jf(null,e,r,!0,t,n);case 19:return CE(t,e,n);case 22:return SE(t,e,n)}throw Error($(156,e.tag))};function HE(t,e){return y_(t,e)}function vA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new vA(t,e,n,r)}function Xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xA(t){if(typeof t=="function")return Xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gm)return 11;if(t===ym)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Xm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ei:return Fs(n.children,s,i,e);case mm:o=8,s|=8;break;case xf:return t=nn(12,n,e,s|2),t.elementType=xf,t.lanes=i,t;case wf:return t=nn(13,n,e,s),t.elementType=wf,t.lanes=i,t;case _f:return t=nn(19,n,e,s),t.elementType=_f,t.lanes=i,t;case e_:return ld(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J1:o=10;break e;case Z1:o=9;break e;case gm:o=11;break e;case ym:o=14;break e;case Sr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=nn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Fs(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function ld(t,e,n,r){return t=nn(22,t,r,e),t.elementType=e_,t.lanes=n,t.stateNode={isHidden:!1},t}function Dh(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Vh(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mh(0),this.expirationTimes=mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jm(t,e,n,r,s,i,o,a,l){return t=new wA(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vm(i),t}function _A(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WE(t){if(!t)return Zr;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Ft(n))return W_(t,n,e)}return e}function qE(t,e,n,r,s,i,o,a,l){return t=Jm(n,r,!0,t,s,i,o,a,l),t.context=WE(null),n=t.current,r=Pt(),s=Hr(n),i=nr(r,s),i.callback=e??null,$r(n,i,s),t.current.lanes=s,fl(t,s,r),Ut(t,r),t}function cd(t,e,n,r){var s=e.current,i=Pt(),o=Hr(s);return n=WE(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(s,e,o),t!==null&&(vn(t,s,o,i),Rc(t,s,o)),o}function Tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ev(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zm(t,e){Ev(t,e),(t=t.alternate)&&Ev(t,e)}function EA(){return null}var GE=typeof reportError=="function"?reportError:function(t){console.error(t)};function eg(t){this._internalRoot=t}ud.prototype.render=eg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));cd(t,e,null,null)};ud.prototype.unmount=eg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ks(function(){cd(null,t,null,null)}),e[ar]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=S_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cr.length&&e!==0&&e<Cr[n].priority;n++);Cr.splice(n,0,t),n===0&&I_(t)}};function tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tv(){}function TA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Tu(o);i.call(d)}}var o=qE(e,r,t,0,null,!1,!1,"",Tv);return t._reactRootContainer=o,t[ar]=o.current,Ha(t.nodeType===8?t.parentNode:t),Ks(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Tu(l);a.call(d)}}var l=Jm(t,0,!1,null,null,!1,!1,"",Tv);return t._reactRootContainer=l,t[ar]=l.current,Ha(t.nodeType===8?t.parentNode:t),Ks(function(){cd(e,l,n,r)}),l}function hd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Tu(o);a.call(l)}}cd(e,o,t,s)}else o=TA(n,e,t,s,r);return Tu(o)}E_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=aa(e.pendingLanes);n!==0&&(wm(e,n|1),Ut(e,Fe()),!(pe&6)&&(so=Fe()+500,fs()))}break;case 13:Ks(function(){var r=lr(t,1);if(r!==null){var s=Pt();vn(r,t,1,s)}}),Zm(t,1)}};_m=function(t){if(t.tag===13){var e=lr(t,134217728);if(e!==null){var n=Pt();vn(e,t,134217728,n)}Zm(t,134217728)}};T_=function(t){if(t.tag===13){var e=Hr(t),n=lr(t,e);if(n!==null){var r=Pt();vn(n,t,e,r)}Zm(t,e)}};S_=function(){return ve};b_=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Pf=function(t,e,n){switch(e){case"input":if(Sf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=nd(r);if(!s)throw Error($(90));n_(r),Sf(r,s)}}}break;case"textarea":s_(t,n);break;case"select":e=n.value,e!=null&&Oi(t,!!n.multiple,e,!1)}};d_=Km;h_=Ks;var SA={usingClientEntryPoint:!1,Events:[ml,Ii,nd,c_,u_,Km]},ea={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bA={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m_(t),t===null?null:t.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||EA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ju=fc.inject(bA),Nn=fc}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(e))throw Error($(200));return _A(t,e,null,n)};Qt.createRoot=function(t,e){if(!tg(t))throw Error($(299));var n=!1,r="",s=GE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jm(t,1,!1,null,null,n,!1,r,s),t[ar]=e.current,Ha(t.nodeType===8?t.parentNode:t),new eg(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=m_(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return Ks(t)};Qt.hydrate=function(t,e,n){if(!dd(e))throw Error($(200));return hd(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!tg(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=GE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qE(e,null,t,1,n??null,s,!1,i,o),t[ar]=e.current,Ha(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ud(e)};Qt.render=function(t,e,n){if(!dd(e))throw Error($(200));return hd(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!dd(t))throw Error($(40));return t._reactRootContainer?(Ks(function(){hd(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1};Qt.unstable_batchedUpdates=Km;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dd(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return hd(t,e,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function KE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KE)}catch(t){console.error(t)}}KE(),K1.exports=Qt;var IA=K1.exports,Sv=IA;yf.createRoot=Sv.createRoot,yf.hydrateRoot=Sv.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bv="popstate";function kA(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return up("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Za(s)}return AA(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CA(){return Math.random().toString(36).substring(2,10)}function Iv(t,e){return{usr:t.state,key:t.key,idx:e}}function up(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||CA()}}function Za({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function AA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let A=h(),w=A==null?null:A-d;d=A,l&&l({action:a,location:x.location,delta:w})}function p(A,w){a="PUSH";let v=up(x.location,A,w);d=h()+1;let E=Iv(v,d),P=x.createHref(v);try{o.pushState(E,"",P)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(P)}i&&l&&l({action:a,location:x.location,delta:1})}function g(A,w){a="REPLACE";let v=up(x.location,A,w);d=h();let E=Iv(v,d),P=x.createHref(v);o.replaceState(E,"",P),i&&l&&l({action:a,location:x.location,delta:0})}function T(A){return NA(A)}let x={get action(){return a},get location(){return t(s,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(bv,f),l=A,()=>{s.removeEventListener(bv,f),l=null}},createHref(A){return e(s,A)},createURL:T,encodeLocation(A){let w=T(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(A){return o.go(A)}};return x}function NA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Re(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Za(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function QE(t,e,n="/"){return PA(t,e,n,!1)}function PA(t,e,n,r){let s=typeof e=="string"?Eo(e):e,i=ur(s.pathname||"/",n);if(i==null)return null;let o=YE(t);RA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=zA(i);a=BA(o[l],d,r)}return a}function YE(t,e=[],n=[],r=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Re(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let d=rr([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Re(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),YE(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:FA(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of XE(i.path))s(i,o,l)}),e}function XE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=XE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jA=/^:[\w-]+$/,DA=3,VA=2,MA=1,LA=10,OA=-2,kv=t=>t==="*";function FA(t,e){let n=t.split("/"),r=n.length;return n.some(kv)&&(r+=OA),e&&(r+=VA),n.filter(s=>!kv(s)).reduce((s,i)=>s+(jA.test(i)?DA:i===""?MA:LA),r)}function UA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function BA(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Su({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),p=l.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Su({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:rr([i,f.pathname]),pathnameBase:GA(rr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=rr([i,f.pathnameBase]))}return o}function Su(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$A(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let T=a[p]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const g=a[p];return f&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function $A(t,e=!1,n=!0){Fn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function zA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ur(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function HA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Eo(t):t;return{pathname:n?n.startsWith("/")?n:WA(n,e):e,search:KA(r),hash:QA(s)}}function WA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JE(t){let e=qA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ZE(t,e,n,r=!1){let s;typeof t=="string"?s=Eo(t):(s={...t},Re(!s.pathname||!s.pathname.includes("?"),Mh("?","pathname","search",s)),Re(!s.pathname||!s.pathname.includes("#"),Mh("#","pathname","hash",s)),Re(!s.search||!s.search.includes("#"),Mh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=HA(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}var rr=t=>t.join("/").replace(/\/\/+/g,"/"),GA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var eT=["POST","PUT","PATCH","DELETE"];new Set(eT);var XA=["GET",...eT];new Set(XA);var To=k.createContext(null);To.displayName="DataRouter";var fd=k.createContext(null);fd.displayName="DataRouterState";k.createContext(!1);var tT=k.createContext({isTransitioning:!1});tT.displayName="ViewTransition";var JA=k.createContext(new Map);JA.displayName="Fetchers";var ZA=k.createContext(null);ZA.displayName="Await";var $n=k.createContext(null);$n.displayName="Navigation";var yl=k.createContext(null);yl.displayName="Location";var zn=k.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var ng=k.createContext(null);ng.displayName="RouteError";function eN(t,{relative:e}={}){Re(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext($n),{hash:s,pathname:i,search:o}=xl(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:rr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function vl(){return k.useContext(yl)!=null}function ps(){return Re(vl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(yl).location}var nT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rT(t){k.useContext($n).static||k.useLayoutEffect(t)}function tN(){let{isDataRoute:t}=k.useContext(zn);return t?mN():nN()}function nN(){Re(vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(To),{basename:e,navigator:n}=k.useContext($n),{matches:r}=k.useContext(zn),{pathname:s}=ps(),i=JSON.stringify(JE(r)),o=k.useRef(!1);return rT(()=>{o.current=!0}),k.useCallback((l,d={})=>{if(Fn(o.current,nT),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=ZE(l,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:rr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}k.createContext(null);function rN(){let{matches:t}=k.useContext(zn),e=t[t.length-1];return e?e.params:{}}function xl(t,{relative:e}={}){let{matches:n}=k.useContext(zn),{pathname:r}=ps(),s=JSON.stringify(JE(n));return k.useMemo(()=>ZE(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function sN(t,e){return sT(t,e)}function sT(t,e,n,r){var w;Re(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext($n),{matches:i}=k.useContext(zn),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let v=h&&h.path||"";iT(l,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=ps(),p;if(e){let v=typeof e=="string"?Eo(e):e;Re(d==="/"||((w=v.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=f;let g=p.pathname||"/",T=g;if(d!=="/"){let v=d.replace(/^\//,"").split("/");T="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=QE(t,{pathname:T});Fn(h||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Fn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=cN(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:rr([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:rr([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&A?k.createElement(yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},A):A}function iN(){let t=pN(),e=YA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,o)}var oN=k.createElement(iN,null),aN=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(zn.Provider,{value:this.props.routeContext},k.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lN({routeContext:t,match:e,children:n}){let r=k.useContext(To);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(zn.Provider,{value:t},n)}function cN(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let l=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);Re(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let d=s[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=l),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,d,h)=>{let f,p=!1,g=null,T=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||oN,o&&(a<0&&h===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,T=null):a===h&&(p=!0,T=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),A=()=>{let w;return f?w=g:p?w=T:d.route.Component?w=k.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=l,k.createElement(lN,{match:d,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?k.createElement(aN,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}function rg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uN(t){let e=k.useContext(To);return Re(e,rg(t)),e}function dN(t){let e=k.useContext(fd);return Re(e,rg(t)),e}function hN(t){let e=k.useContext(zn);return Re(e,rg(t)),e}function sg(t){let e=hN(t),n=e.matches[e.matches.length-1];return Re(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fN(){return sg("useRouteId")}function pN(){var r;let t=k.useContext(ng),e=dN("useRouteError"),n=sg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function mN(){let{router:t}=uN("useNavigate"),e=sg("useNavigate"),n=k.useRef(!1);return rT(()=>{n.current=!0}),k.useCallback(async(s,i={})=>{Fn(n.current,nT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Cv={};function iT(t,e,n){!e&&!Cv[t]&&(Cv[t]=!0,Fn(!1,n))}k.memo(gN);function gN({routes:t,future:e,state:n}){return sT(t,void 0,n,e)}function dp(t){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Re(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Eo(n));let{pathname:l="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,g=k.useMemo(()=>{let T=ur(l,o);return T==null?null:{location:{pathname:T,search:d,hash:h,state:f,key:p},navigationType:r}},[o,l,d,h,f,p,r]);return Fn(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:k.createElement($n.Provider,{value:a},k.createElement(yl.Provider,{children:e,value:g}))}function vN({children:t,location:e}){return sN(hp(t),e)}function hp(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,hp(r.props.children,i));return}Re(r.type===dp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hp(r.props.children,i)),n.push(o)}),n}var Fc="get",Uc="application/x-www-form-urlencoded";function pd(t){return t!=null&&typeof t.tagName=="string"}function xN(t){return pd(t)&&t.tagName.toLowerCase()==="button"}function wN(t){return pd(t)&&t.tagName.toLowerCase()==="form"}function _N(t){return pd(t)&&t.tagName.toLowerCase()==="input"}function EN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TN(t,e){return t.button===0&&(!e||e==="_self")&&!EN(t)}var pc=null;function SN(){if(pc===null)try{new FormData(document.createElement("form"),0),pc=!1}catch{pc=!0}return pc}var bN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lh(t){return t!=null&&!bN.has(t)?(Fn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):t}function IN(t,e){let n,r,s,i,o;if(wN(t)){let a=t.getAttribute("action");r=a?ur(a,e):null,n=t.getAttribute("method")||Fc,s=Lh(t.getAttribute("enctype"))||Uc,i=new FormData(t)}else if(xN(t)||_N(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ur(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Fc,s=Lh(t.getAttribute("formenctype"))||Lh(a.getAttribute("enctype"))||Uc,i=new FormData(a,t),!SN()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(pd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fc,r=null,s=Uc,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ig(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ur(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function CN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NN(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await CN(i,n);return o.links?o.links():[]}return[]}));return DN(r.flat(1).filter(AN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Av(t,e,n,r,s,i){let o=(l,d)=>n[d]?l.route.id!==n[d].route.id:!0,a=(l,d)=>{var h;return n[d].pathname!==l.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,d)=>o(l,d)||a(l,d)):i==="data"?e.filter((l,d)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function PN(t,e,{includeHydrateFallback:n}={}){return RN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function RN(t){return[...new Set(t)]}function jN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function DN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(jN(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function oT(){let t=k.useContext(To);return ig(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VN(){let t=k.useContext(fd);return ig(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var og=k.createContext(void 0);og.displayName="FrameworkContext";function aT(){let t=k.useContext(og);return ig(t,"You must render this element inside a <HydratedRouter> element"),t}function MN(t,e){let n=k.useContext(og),[r,s]=k.useState(!1),[i,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=w=>{w.forEach(v=>{o(v.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return p.current&&A.observe(p.current),()=>{A.disconnect()}}},[t]),k.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{s(!0)},T=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:ta(a,g),onBlur:ta(l,T),onMouseEnter:ta(d,g),onMouseLeave:ta(h,T),onTouchStart:ta(f,g)}]:[!1,p,{}]}function ta(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LN({page:t,...e}){let{router:n}=oT(),r=k.useMemo(()=>QE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(FN,{page:t,matches:r,...e}):null}function ON(t){let{manifest:e,routeModules:n}=aT(),[r,s]=k.useState([]);return k.useEffect(()=>{let i=!1;return NN(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function FN({page:t,matches:e,...n}){let r=ps(),{manifest:s,routeModules:i}=aT(),{basename:o}=oT(),{loaderData:a,matches:l}=VN(),d=k.useMemo(()=>Av(t,e,l,s,r,"data"),[t,e,l,s,r]),h=k.useMemo(()=>Av(t,e,l,s,r,"assets"),[t,e,l,s,r]),f=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,x=!1;if(e.forEach(w=>{var E;let v=s.routes[w.route.id];!v||!v.hasLoader||(!d.some(P=>P.route.id===w.route.id)&&w.route.id in a&&((E=i[w.route.id])!=null&&E.shouldRevalidate)||v.hasClientLoader?x=!0:T.add(w.route.id))}),T.size===0)return[];let A=kN(t,o,"data");return x&&T.size>0&&A.searchParams.set("_routes",e.filter(w=>T.has(w.route.id)).map(w=>w.route.id).join(",")),[A.pathname+A.search]},[o,a,r,s,d,e,t,i]),p=k.useMemo(()=>PN(h,s),[h,s]),g=ON(h);return k.createElement(k.Fragment,null,f.map(T=>k.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),p.map(T=>k.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),g.map(({key:T,link:x})=>k.createElement("link",{key:T,...x})))}function UN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lT&&(window.__reactRouterVersion="7.7.1")}catch{}function BN({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=kA({window:n,v5Compat:!0}));let s=r.current,[i,o]=k.useState({action:s.action,location:s.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>s.listen(a),[s,a]),k.createElement(yN,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uT=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:f,...p},g){let{basename:T}=k.useContext($n),x=typeof d=="string"&&cT.test(d),A,w=!1;if(typeof d=="string"&&x&&(A=d,lT))try{let b=new URL(window.location.href),C=d.startsWith("//")?new URL(b.protocol+d):new URL(d),R=ur(C.pathname,T);C.origin===b.origin&&R!=null?d=R+C.search+C.hash:w=!0}catch{Fn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=eN(d,{relative:s}),[E,P,L]=MN(r,p),F=WN(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function I(b){e&&e(b),b.defaultPrevented||F(b)}let _=k.createElement("a",{...p,...L,href:A||v,onClick:w||i?e:I,ref:UN(g,P),target:l,"data-discover":!x&&n==="render"?"true":void 0});return E&&!x?k.createElement(k.Fragment,null,_,k.createElement(LN,{page:v})):_});uT.displayName="Link";var $N=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...d},h){let f=xl(o,{relative:d.relative}),p=ps(),g=k.useContext(fd),{navigator:T,basename:x}=k.useContext($n),A=g!=null&&YN(f)&&a===!0,w=T.encodeLocation?T.encodeLocation(f).pathname:f.pathname,v=p.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&x&&(E=ur(E,x)||E);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=v===w||!s&&v.startsWith(w)&&v.charAt(P)==="/",F=E!=null&&(E===w||!s&&E.startsWith(w)&&E.charAt(w.length)==="/"),I={isActive:L,isPending:F,isTransitioning:A},_=L?e:void 0,b;typeof r=="function"?b=r(I):b=[r,L?"active":null,F?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(I):i;return k.createElement(uT,{...d,"aria-current":_,className:b,ref:h,style:C,to:o,viewTransition:a},typeof l=="function"?l(I):l)});$N.displayName="NavLink";var zN=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Fc,action:a,onSubmit:l,relative:d,preventScrollReset:h,viewTransition:f,...p},g)=>{let T=KN(),x=QN(a,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&cT.test(a),v=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,L=(P==null?void 0:P.getAttribute("formmethod"))||o;T(P||E.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:f})};return k.createElement("form",{ref:g,method:A,action:x,onSubmit:r?l:v,...p,"data-discover":!w&&t==="render"?"true":void 0})});zN.displayName="Form";function HN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(t){let e=k.useContext(To);return Re(e,HN(t)),e}function WN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=tN(),l=ps(),d=xl(t,{relative:i});return k.useCallback(h=>{if(TN(h,e)){h.preventDefault();let f=n!==void 0?n:Za(l)===Za(d);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,d,n,r,e,t,s,i,o])}var qN=0,GN=()=>`__${String(++qN)}__`;function KN(){let{router:t}=dT("useSubmit"),{basename:e}=k.useContext($n),n=fN();return k.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:d}=IN(r,e);if(s.navigate===!1){let h=s.fetcherKey||GN();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function QN(t,{relative:e}={}){let{basename:n}=k.useContext($n),r=k.useContext(zn);Re(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...xl(t||".",{relative:e})},o=ps();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:rr([n,i.pathname])),Za(i)}function YN(t,{relative:e}={}){let n=k.useContext(tT);Re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dT("useViewTransitionState"),s=xl(t,{relative:e});if(!n.isTransitioning)return!1;let i=ur(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ur(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Su(s.pathname,o)!=null||Su(s.pathname,i)!=null}const md=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),gd=k.createContext({}),yd=k.createContext(null),vd=typeof document<"u",ri=vd?k.useLayoutEffect:k.useEffect,hT=k.createContext({strict:!1}),ag=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),XN="framerAppearId",fT="data-"+ag(XN);function JN(t,e,n,r){const{visualElement:s}=k.useContext(gd),i=k.useContext(hT),o=k.useContext(yd),a=k.useContext(md).reducedMotion,l=k.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const d=l.current;k.useInsertionEffect(()=>{d&&d.update(n,o)});const h=k.useRef(!!(n[fT]&&!window.HandoffComplete));return ri(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function ji(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZN(t,e,n){return k.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ji(n)&&(n.current=r))},[e])}function el(t){return typeof t=="string"||Array.isArray(t)}function xd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const lg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cg=["initial",...lg];function wd(t){return xd(t.animate)||cg.some(e=>el(t[e]))}function pT(t){return!!(wd(t)||t.variants)}function eP(t,e){if(wd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||el(n)?n:void 0,animate:el(r)?r:void 0}}return t.inherit!==!1?e:{}}function tP(t){const{initial:e,animate:n}=eP(t,k.useContext(gd));return k.useMemo(()=>({initial:e,animate:n}),[Nv(e),Nv(n)])}function Nv(t){return Array.isArray(t)?t.join(" "):t}const Pv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in Pv)tl[t]={isEnabled:e=>Pv[t].some(n=>!!e[n])};function nP(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const ug=k.createContext({}),mT=k.createContext({}),rP=Symbol.for("motionComponentSymbol");function sP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&nP(t);function i(a,l){let d;const h={...k.useContext(md),...a,layoutId:iP(a)},{isStatic:f}=h,p=tP(a),g=r(a,f);if(!f&&vd){p.visualElement=JN(s,g,h,e);const T=k.useContext(mT),x=k.useContext(hT).strict;p.visualElement&&(d=p.visualElement.loadFeatures(h,x,t,T))}return k.createElement(gd.Provider,{value:p},d&&p.visualElement?k.createElement(d,{visualElement:p.visualElement,...h}):null,n(s,a,ZN(g,p.visualElement,l),g,f,p.visualElement))}const o=k.forwardRef(i);return o[rP]=s,o}function iP({layoutId:t}){const e=k.useContext(ug).id;return e&&t!==void 0?e+"-"+t:t}function oP(t){function e(r,s={}){return sP(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const aP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dg(t){return typeof t!="string"||t.includes("-")?!1:!!(aP.indexOf(t)>-1||/[A-Z]/.test(t))}const bu={};function lP(t){Object.assign(bu,t)}const wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],si=new Set(wl);function gT(t,{layout:e,layoutId:n}){return si.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bu[t]||t==="opacity")}const Et=t=>!!(t&&t.getVelocity),cP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uP=wl.length;function dP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<uP;o++){const a=wl[o];if(t[a]!==void 0){const l=cP[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const yT=t=>e=>typeof e=="string"&&e.startsWith(t),vT=yT("--"),fp=yT("var(--"),hP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,es=(t,e,n)=>Math.min(Math.max(n,t),e),ii={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ea={...ii,transform:t=>es(0,1,t)},mc={...ii,default:1},Ta=t=>Math.round(t*1e5)/1e5,_d=/(-)?([\d]*\.?[\d])+/g,xT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function _l(t){return typeof t=="string"}const El=t=>({test:e=>_l(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=El("deg"),Rn=El("%"),te=El("px"),mP=El("vh"),gP=El("vw"),Rv={...Rn,parse:t=>Rn.parse(t)/100,transform:t=>Rn.transform(t*100)},jv={...ii,transform:Math.round},wT={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:mc,scaleX:mc,scaleY:mc,scaleZ:mc,skew:Er,skewX:Er,skewY:Er,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Ea,originX:Rv,originY:Rv,originZ:te,zIndex:jv,fillOpacity:Ea,strokeOpacity:Ea,numOctaves:jv};function hg(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,d=!1,h=!0;for(const f in e){const p=e[f];if(vT(f)){i[f]=p;continue}const g=wT[f],T=fP(p,g);if(si.has(f)){if(l=!0,o[f]=T,!h)continue;p!==(g.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,a[f]=T):s[f]=T}if(e.transform||(l||r?s.transform=dP(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;s.transformOrigin=`${f} ${p} ${g}`}}const fg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _T(t,e,n){for(const r in e)!Et(e[r])&&!gT(r,n)&&(t[r]=e[r])}function yP({transformTemplate:t},e,n){return k.useMemo(()=>{const r=fg();return hg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function vP(t,e,n){const r=t.style||{},s={};return _T(s,r,t),Object.assign(s,yP(t,e,n)),t.transformValues?t.transformValues(s):s}function xP(t,e,n){const r={},s=vP(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const wP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Iu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wP.has(t)}let ET=t=>!Iu(t);function _P(t){t&&(ET=e=>e.startsWith("on")?!Iu(e):t(e))}try{_P(require("@emotion/is-prop-valid").default)}catch{}function EP(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(ET(s)||n===!0&&Iu(s)||!e&&!Iu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Dv(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function TP(t,e,n){const r=Dv(e,t.x,t.width),s=Dv(n,t.y,t.height);return`${r} ${s}`}const SP={offset:"stroke-dashoffset",array:"stroke-dasharray"},bP={offset:"strokeDashoffset",array:"strokeDasharray"};function IP(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?SP:bP;t[i.offset]=te.transform(-r);const o=te.transform(e),a=te.transform(n);t[i.array]=`${o} ${a}`}function pg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...d},h,f,p){if(hg(t,d,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:T,dimensions:x}=t;g.transform&&(x&&(T.transform=g.transform),delete g.transform),x&&(s!==void 0||i!==void 0||T.transform)&&(T.transformOrigin=TP(x,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&IP(g,o,a,l,!1)}const TT=()=>({...fg(),attrs:{}}),mg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kP(t,e,n,r){const s=k.useMemo(()=>{const i=TT();return pg(i,e,{enableHardwareAcceleration:!1},mg(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_T(i,t.style,t),s.style={...i,...s.style}}return s}function CP(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(dg(n)?kP:xP)(r,i,o,n),h={...EP(r,typeof n=="string",t),...l,ref:s},{children:f}=r,p=k.useMemo(()=>Et(f)?f.get():f,[f]);return k.createElement(n,{...h,children:p})}}function ST(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const bT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IT(t,e,n,r){ST(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(bT.has(s)?s:ag(s),e.attrs[s])}function gg(t,e){const{style:n}=t,r={};for(const s in n)(Et(n[s])||e.style&&Et(e.style[s])||gT(s,t))&&(r[s]=n[s]);return r}function kT(t,e){const n=gg(t,e);for(const r in t)if(Et(t[r])||Et(e[r])){const s=wl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function yg(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function So(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const ku=t=>Array.isArray(t),AP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),NP=t=>ku(t)?t[t.length-1]||0:t;function Bc(t){const e=Et(t)?t.get():t;return AP(e)?e.toValue():e}function PP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:RP(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const CT=t=>(e,n)=>{const r=k.useContext(gd),s=k.useContext(yd),i=()=>PP(t,e,r,s);return n?i():So(i)};function RP(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Bc(i[p]);let{initial:o,animate:a}=t;const l=wd(t),d=pT(t);e&&d&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!xd(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const T=yg(t,g);if(!T)return;const{transitionEnd:x,transition:A,...w}=T;for(const v in w){let E=w[v];if(Array.isArray(E)){const P=h?E.length-1:0;E=E[P]}E!==null&&(s[v]=E)}for(const v in x)s[v]=x[v]}),s}const Le=t=>t;class Vv{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function jP(t){let e=new Vv,n=new Vv,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,d=!1,h=!1)=>{const f=h&&s,p=f?e:n;return d&&o.add(l),p.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const gc=["prepare","read","update","preRender","render","postRender"],DP=40;function VP(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=gc.reduce((f,p)=>(f[p]=jP(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,DP),1),s.timestamp=f,s.isProcessing=!0,gc.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:gc.reduce((f,p)=>{const g=i[p];return f[p]=(T,x=!1,A=!1)=>(n||l(),g.schedule(T,x,A)),f},{}),cancel:f=>gc.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:ge,cancel:wn,state:Ge,steps:Oh}=VP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Le,!0),MP={useVisualState:CT({scrapeMotionValuesFromProps:kT,createRenderState:TT,onMount:(t,e,{renderState:n,latestValues:r})=>{ge.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ge.render(()=>{pg(n,r,{enableHardwareAcceleration:!1},mg(e.tagName),t.transformTemplate),IT(e,n)})}})},LP={useVisualState:CT({scrapeMotionValuesFromProps:gg,createRenderState:fg})};function OP(t,{forwardMotionProps:e=!1},n,r){return{...dg(t)?MP:LP,preloadedFeatures:n,useRender:CP(e),createVisualElement:r,Component:t}}function Zn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const AT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ed(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const FP=t=>e=>AT(e)&&t(e,Ed(e));function sr(t,e,n,r){return Zn(t,e,FP(n),r)}const UP=(t,e)=>n=>e(t(n)),qr=(...t)=>t.reduce(UP);function NT(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Mv=NT("dragHorizontal"),Lv=NT("dragVertical");function PT(t){let e=!1;if(t==="y")e=Lv();else if(t==="x")e=Mv();else{const n=Mv(),r=Lv();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function RT(){const t=PT(!0);return t?(t(),!1):!0}class ms{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ov(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||RT())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ge.update(()=>a[r](i,o))};return sr(t.current,n,s,{passive:!t.getProps()[r]})}class BP extends ms{mount(){this.unmount=qr(Ov(this.node,!0),Ov(this.node,!1))}unmount(){}}class $P extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qr(Zn(this.node.current,"focus",()=>this.onFocus()),Zn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const jT=(t,e)=>e?t===e?!0:jT(t,e.parentElement):!1;function Fh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ed(n))}class zP extends ms{constructor(){super(...arguments),this.removeStartListeners=Le,this.removeEndListeners=Le,this.removeAccessibleListeners=Le,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=sr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();ge.update(()=>{!f&&!jT(this.node.current,a.target)?h&&h(a,l):d&&d(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=sr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=qr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Fh("up",(l,d)=>{const{onTap:h}=this.node.getProps();h&&ge.update(()=>h(l,d))})};this.removeEndListeners(),this.removeEndListeners=Zn(this.node.current,"keyup",o),Fh("down",(a,l)=>{this.startPress(a,l)})},n=Zn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Fh("cancel",(i,o)=>this.cancelPress(i,o))},s=Zn(this.node.current,"blur",r);this.removeAccessibleListeners=qr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ge.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!RT()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ge.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=sr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Zn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pp=new WeakMap,Uh=new WeakMap,HP=t=>{const e=pp.get(t.target);e&&e(t)},WP=t=>{t.forEach(HP)};function qP({root:t,...e}){const n=t||document;Uh.has(n)||Uh.set(n,{});const r=Uh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(WP,{root:t,...e})),r[s]}function GP(t,e,n){const r=qP(e);return pp.set(t,n),r.observe(t),()=>{pp.delete(t),r.unobserve(t)}}const KP={some:0,all:1};class QP extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:KP[s]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(l)};return GP(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YP(e,n))&&this.startObserver()}unmount(){}}function YP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XP={inView:{Feature:QP},tap:{Feature:zP},focus:{Feature:$P},hover:{Feature:BP}};function DT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function JP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function ZP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Td(t,e,n){const r=t.getProps();return yg(r,e,n!==void 0?n:r.custom,JP(t),ZP(t))}let eR=Le,vg=Le;const Us=t=>t*1e3,jn=t=>t/1e3,tR={current:!1},VT=t=>Array.isArray(t)&&typeof t[0]=="number";function MT(t){return!!(!t||typeof t=="string"&&LT[t]||VT(t)||Array.isArray(t)&&t.every(MT))}const ca=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,LT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ca([0,.65,.55,1]),circOut:ca([.55,0,1,.45]),backIn:ca([.31,.01,.66,-.59]),backOut:ca([.33,1.53,.69,.99])};function OT(t){if(t)return VT(t)?ca(t):Array.isArray(t)?t.map(OT):LT[t]}function nR(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const d={[e]:n};l&&(d.offset=l);const h=OT(a);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function rR(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const FT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sR=1e-7,iR=12;function oR(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=FT(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>sR&&++a<iR);return o}function Tl(t,e,n,r){if(t===e&&n===r)return Le;const s=i=>oR(i,0,1,t,n);return i=>i===0||i===1?i:FT(s(i),e,r)}const aR=Tl(.42,0,1,1),lR=Tl(0,0,.58,1),UT=Tl(.42,0,.58,1),cR=t=>Array.isArray(t)&&typeof t[0]!="number",BT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$T=t=>e=>1-t(1-e),xg=t=>1-Math.sin(Math.acos(t)),zT=$T(xg),uR=BT(xg),HT=Tl(.33,1.53,.69,.99),wg=$T(HT),dR=BT(wg),hR=t=>(t*=2)<1?.5*wg(t):.5*(2-Math.pow(2,-10*(t-1))),fR={linear:Le,easeIn:aR,easeInOut:UT,easeOut:lR,circIn:xg,circInOut:uR,circOut:zT,backIn:wg,backInOut:dR,backOut:HT,anticipate:hR},Fv=t=>{if(Array.isArray(t)){vg(t.length===4);const[e,n,r,s]=t;return Tl(e,n,r,s)}else if(typeof t=="string")return fR[t];return t},_g=(t,e)=>n=>!!(_l(n)&&pP.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),WT=(t,e,n)=>r=>{if(!_l(r))return r;const[s,i,o,a]=r.match(_d);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},pR=t=>es(0,255,t),Bh={...ii,transform:t=>Math.round(pR(t))},Ds={test:_g("rgb","red"),parse:WT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bh.transform(t)+", "+Bh.transform(e)+", "+Bh.transform(n)+", "+Ta(Ea.transform(r))+")"};function mR(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const mp={test:_g("#"),parse:mR,transform:Ds.transform},Di={test:_g("hsl","hue"),parse:WT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rn.transform(Ta(e))+", "+Rn.transform(Ta(n))+", "+Ta(Ea.transform(r))+")"},kt={test:t=>Ds.test(t)||mp.test(t)||Di.test(t),parse:t=>Ds.test(t)?Ds.parse(t):Di.test(t)?Di.parse(t):mp.parse(t),transform:t=>_l(t)?t:t.hasOwnProperty("red")?Ds.transform(t):Di.transform(t)},Ne=(t,e,n)=>-n*t+n*e+t;function $h(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=$h(l,a,t+1/3),i=$h(l,a,t),o=$h(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const zh=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},yR=[mp,Ds,Di],vR=t=>yR.find(e=>e.test(t));function Uv(t){const e=vR(t);let n=e.parse(t);return e===Di&&(n=gR(n)),n}const qT=(t,e)=>{const n=Uv(t),r=Uv(e),s={...n};return i=>(s.red=zh(n.red,r.red,i),s.green=zh(n.green,r.green,i),s.blue=zh(n.blue,r.blue,i),s.alpha=Ne(n.alpha,r.alpha,i),Ds.transform(s))};function xR(t){var e,n;return isNaN(t)&&_l(t)&&(((e=t.match(_d))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(xT))===null||n===void 0?void 0:n.length)||0)>0}const GT={regex:hP,countKey:"Vars",token:"${v}",parse:Le},KT={regex:xT,countKey:"Colors",token:"${c}",parse:kt.parse},QT={regex:_d,countKey:"Numbers",token:"${n}",parse:ii.parse};function Hh(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Cu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Hh(n,GT),Hh(n,KT),Hh(n,QT),n}function YT(t){return Cu(t).values}function XT(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Cu(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(GT.token,o[l]):l<r+n?a=a.replace(KT.token,kt.transform(o[l])):a=a.replace(QT.token,Ta(o[l]));return a}}const wR=t=>typeof t=="number"?0:t;function _R(t){const e=YT(t);return XT(t)(e.map(wR))}const ts={test:xR,parse:YT,createTransformer:XT,getAnimatableNone:_R},JT=(t,e)=>n=>`${n>0?e:t}`;function ZT(t,e){return typeof t=="number"?n=>Ne(t,e,n):kt.test(t)?qT(t,e):t.startsWith("var(")?JT(t,e):tS(t,e)}const eS=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>ZT(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},ER=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ZT(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},tS=(t,e)=>{const n=ts.createTransformer(e),r=Cu(t),s=Cu(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?qr(eS(r.values,s.values),n):JT(t,e)},io=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Bv=(t,e)=>n=>Ne(t,e,n);function TR(t){return typeof t=="number"?Bv:typeof t=="string"?kt.test(t)?qT:tS:Array.isArray(t)?eS:typeof t=="object"?ER:Bv}function SR(t,e,n){const r=[],s=n||TR(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Le:e;a=qr(l,a)}r.push(a)}return r}function Sd(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(vg(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=SR(e,r,s),a=o.length,l=d=>{let h=0;if(a>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=io(t[h],t[h+1],d);return o[h](f)};return n?d=>l(es(t[0],t[i-1],d)):l}function bR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=io(0,e,r);t.push(Ne(n,1,s))}}function nS(t){const e=[0];return bR(e,t.length-1),e}function IR(t,e){return t.map(n=>n*e)}function kR(t,e){return t.map(()=>e||UT).splice(0,t.length-1)}function Au({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=cR(r)?r.map(Fv):Fv(r),i={done:!1,value:e[0]},o=IR(n&&n.length===e.length?n:nS(e),t),a=Sd(o,e,{ease:Array.isArray(s)?s:kR(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function Eg(t,e){return e?t*(1e3/e):0}const CR=5;function rS(t,e,n){const r=Math.max(e-CR,0);return Eg(n-t(r),e-r)}const Wh=.001,AR=.01,NR=10,PR=.05,RR=1;function jR({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=es(PR,RR,o),t=es(AR,NR,jn(t)),o<1?(s=d=>{const h=d*o,f=h*t,p=h-n,g=gp(d,o),T=Math.exp(-f);return Wh-p/g*T},i=d=>{const f=d*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-f),x=gp(Math.pow(d,2),o);return(-s(d)+Wh>0?-1:1)*((p-g)*T)/x}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-Wh+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const a=5/t,l=VR(s,i,a);if(t=Us(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const DR=12;function VR(t,e,n){let r=n;for(let s=1;s<DR;s++)r=r-t(r)/e(r);return r}function gp(t,e){return t*Math.sqrt(1-e*e)}const MR=["duration","bounce"],LR=["stiffness","damping","mass"];function $v(t,e){return e.some(n=>t[n]!==void 0)}function OR(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!$v(t,LR)&&$v(t,MR)){const n=jR(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function sS({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=OR({...r,velocity:-jn(r.velocity||0)}),g=f||0,T=l/(2*Math.sqrt(a*d)),x=i-s,A=jn(Math.sqrt(a/d)),w=Math.abs(x)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let v;if(T<1){const E=gp(A,T);v=P=>{const L=Math.exp(-T*A*P);return i-L*((g+T*A*x)/E*Math.sin(E*P)+x*Math.cos(E*P))}}else if(T===1)v=E=>i-Math.exp(-A*E)*(x+(g+A*x)*E);else{const E=A*Math.sqrt(T*T-1);v=P=>{const L=Math.exp(-T*A*P),F=Math.min(E*P,300);return i-L*((g+T*A*x)*Math.sinh(F)+E*x*Math.cosh(F))/E}}return{calculatedDuration:p&&h||null,next:E=>{const P=v(E);if(p)o.done=E>=h;else{let L=g;E!==0&&(T<1?L=rS(v,E,P):L=0);const F=Math.abs(L)<=n,I=Math.abs(i-P)<=e;o.done=F&&I}return o.value=o.done?i:P,o}}}function zv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},g=_=>a!==void 0&&_<a||l!==void 0&&_>l,T=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let x=n*e;const A=f+x,w=o===void 0?A:o(A);w!==A&&(x=w-f);const v=_=>-x*Math.exp(-_/r),E=_=>w+v(_),P=_=>{const b=v(_),C=E(_);p.done=Math.abs(b)<=d,p.value=p.done?w:C};let L,F;const I=_=>{g(p.value)&&(L=_,F=sS({keyframes:[p.value,T(p.value)],velocity:rS(E,_,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return I(0),{calculatedDuration:null,next:_=>{let b=!1;return!F&&L===void 0&&(b=!0,P(_),I(_)),L!==void 0&&_>L?F.next(_-L):(!b&&P(_),p)}}}const FR=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ge.update(e,!0),stop:()=>wn(e),now:()=>Ge.isProcessing?Ge.timestamp:performance.now()}},Hv=2e4;function Wv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Hv;)e+=n,r=t.next(e);return e>=Hv?1/0:e}const UR={decay:zv,inertia:zv,tween:Au,keyframes:Au,spring:sS};function nl({autoplay:t=!0,delay:e=0,driver:n=FR,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:d,onComplete:h,onUpdate:f,...p}){let g=1,T=!1,x,A;const w=()=>{A=new Promise(X=>{x=X})};w();let v;const E=UR[s]||Au;let P;E!==Au&&typeof r[0]!="number"&&(P=Sd([0,100],r,{clamp:!1}),r=[0,100]);const L=E({...p,keyframes:r});let F;a==="mirror"&&(F=E({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let I="idle",_=null,b=null,C=null;L.calculatedDuration===null&&i&&(L.calculatedDuration=Wv(L));const{calculatedDuration:R}=L;let j=1/0,N=1/0;R!==null&&(j=R+o,N=j*(i+1)-o);let ce=0;const _e=X=>{if(b===null)return;g>0&&(b=Math.min(b,X)),g<0&&(b=Math.min(X-N/g,b)),_!==null?ce=_:ce=Math.round(X-b)*g;const ie=ce-e*(g>=0?1:-1),xe=g>=0?ie<0:ie>N;ce=Math.max(ie,0),I==="finished"&&_===null&&(ce=N);let ct=ce,Dt=L;if(i){const ys=Math.min(ce,N)/j;let ut=Math.floor(ys),St=ys%1;!St&&ys>=1&&(St=1),St===1&&ut--,ut=Math.min(ut,i+1),!!(ut%2)&&(a==="reverse"?(St=1-St,o&&(St-=o/j)):a==="mirror"&&(Dt=F)),ct=es(0,1,St)*j}const Xe=xe?{done:!1,value:r[0]}:Dt.next(ct);P&&(Xe.value=P(Xe.value));let{done:Je}=Xe;!xe&&R!==null&&(Je=g>=0?ce>=N:ce<=0);const Ro=_===null&&(I==="finished"||I==="running"&&Je);return f&&f(Xe.value),Ro&&B(),Xe},ye=()=>{v&&v.stop(),v=void 0},q=()=>{I="idle",ye(),x(),w(),b=C=null},B=()=>{I="finished",h&&h(),ye(),x()},Y=()=>{if(T)return;v||(v=n(_e));const X=v.now();l&&l(),_!==null?b=X-_:(!b||I==="finished")&&(b=X),I==="finished"&&w(),C=b,_=null,I="running",v.start()};t&&Y();const ee={then(X,ie){return A.then(X,ie)},get time(){return jn(ce)},set time(X){X=Us(X),ce=X,_!==null||!v||g===0?_=X:b=v.now()-X/g},get duration(){const X=L.calculatedDuration===null?Wv(L):L.calculatedDuration;return jn(X)},get speed(){return g},set speed(X){X===g||!v||(g=X,ee.time=jn(ce))},get state(){return I},play:Y,pause:()=>{I="paused",_=ce},stop:()=>{T=!0,I!=="idle"&&(I="idle",d&&d(),q())},cancel:()=>{C!==null&&_e(C),q()},complete:()=>{I="finished"},sample:X=>(b=0,_e(X))};return ee}function BR(t){let e;return()=>(e===void 0&&(e=t()),e)}const $R=BR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),yc=10,HR=2e4,WR=(t,e)=>e.type==="spring"||t==="backgroundColor"||!MT(e.ease);function qR(t,e,{onUpdate:n,onComplete:r,...s}){if(!($R()&&zR.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,d=!1;const h=()=>{l=new Promise(E=>{a=E})};h();let{keyframes:f,duration:p=300,ease:g,times:T}=s;if(WR(e,s)){const E=nl({...s,repeat:0,delay:0});let P={done:!1,value:f[0]};const L=[];let F=0;for(;!P.done&&F<HR;)P=E.sample(F),L.push(P.value),F+=yc;T=void 0,f=L,p=F-yc,g="linear"}const x=nR(t.owner.current,e,f,{...s,duration:p,ease:g,times:T}),A=()=>{d=!1,x.cancel()},w=()=>{d=!0,ge.update(A),a(),h()};return x.onfinish=()=>{d||(t.set(rR(f,s)),r&&r(),w())},{then(E,P){return l.then(E,P)},attachTimeline(E){return x.timeline=E,x.onfinish=null,Le},get time(){return jn(x.currentTime||0)},set time(E){x.currentTime=Us(E)},get speed(){return x.playbackRate},set speed(E){x.playbackRate=E},get duration(){return jn(p)},play:()=>{o||(x.play(),wn(A))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:E}=x;if(E){const P=nl({...s,autoplay:!1});t.setWithVelocity(P.sample(E-yc).value,P.sample(E).value,yc)}w()},complete:()=>{d||x.finish()},cancel:w}}function GR({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Le,pause:Le,stop:Le,then:i=>(i(),Promise.resolve()),cancel:Le,complete:Le});return e?nl({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const KR={type:"spring",stiffness:500,damping:25,restSpeed:10},QR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YR={type:"keyframes",duration:.8},XR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JR=(t,{keyframes:e})=>e.length>2?YR:si.has(t)?t.startsWith("scale")?QR(e[1]):KR:XR,yp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ts.test(e)||e==="0")&&!e.startsWith("url(")),ZR=new Set(["brightness","contrast","saturate","opacity"]);function ej(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_d)||[];if(!r)return t;const s=n.replace(r,"");let i=ZR.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const tj=/([a-z-]*)\(.*?\)/g,vp={...ts,getAnimatableNone:t=>{const e=t.match(tj);return e?e.map(ej).join(" "):t}},nj={...wT,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:vp,WebkitFilter:vp},Tg=t=>nj[t];function iS(t,e){let n=Tg(t);return n!==vp&&(n=ts),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oS=t=>/^0[^.\s]+$/.test(t);function rj(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||oS(t)}function sj(t,e,n,r){const s=yp(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),rj(i[d])&&l.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(a=i[d]);if(s&&l.length&&a)for(let d=0;d<l.length;d++){const h=l[d];i[h]=iS(e,a)}return i}function ij({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:d,...h}){return!!Object.keys(h).length}function Sg(t,e){return t[e]||t.default||t}const oj={skipAnimations:!1},bg=(t,e,n,r={})=>s=>{const i=Sg(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Us(o);const l=sj(e,t,n,i),d=l[0],h=l[l.length-1],f=yp(t,d),p=yp(t,h);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:T=>{e.set(T),i.onUpdate&&i.onUpdate(T)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(ij(i)||(g={...g,...JR(t,g)}),g.duration&&(g.duration=Us(g.duration)),g.repeatDelay&&(g.repeatDelay=Us(g.repeatDelay)),!f||!p||tR.current||i.type===!1||oj.skipAnimations)return GR(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=qR(e,t,g);if(T)return T}return nl(g)};function Nu(t){return!!(Et(t)&&t.add)}const aS=t=>/^\-?\d*\.?\d+$/.test(t);function Ig(t,e){t.indexOf(e)===-1&&t.push(e)}function kg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cg{constructor(){this.subscriptions=[]}add(e){return Ig(this.subscriptions,e),()=>kg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aj=t=>!isNaN(parseFloat(t)),Sa={current:void 0};class lj{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ge;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ge.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ge.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=aj(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cg);const r=this.events[e].add(n);return e==="change"?()=>{r(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Sa.current&&Sa.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Eg(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mn(t,e){return new lj(t,e)}const lS=t=>e=>e.test(t),cj={test:t=>t==="auto",parse:t=>t},cS=[ii,te,Rn,Er,gP,mP,cj],na=t=>cS.find(lS(t)),uj=[...cS,kt,ts],dj=t=>uj.find(lS(t));function hj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mn(n))}function Ag(t,e){const n=Td(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=NP(i[o]);hj(t,o,a)}}function xp(t,e){[...e].reverse().forEach(r=>{const s=t.getVariant(r);s&&Ag(t,s),t.variantChildren&&t.variantChildren.forEach(i=>{xp(i,e)})})}function fj(t,e){if(Array.isArray(e))return xp(t,e);if(typeof e=="string")return xp(t,[e]);Ag(t,e)}function pj(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],d=e[l];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),h!=null&&(typeof h=="string"&&(aS(h)||oS(h))?h=parseFloat(h):!dj(h)&&ts.test(d)&&(h=iS(l,d)),t.addValue(l,mn(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function mj(t,e){return e?(e[t]||e.default||e).from:void 0}function gj(t,e,n){const r={};for(const s in t){const i=mj(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function yj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vj(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function uS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f),g=a[f];if(!p||g===void 0||h&&yj(h,f))continue;const T={delay:n,elapsed:0,...Sg(i||{},f)};if(window.HandoffAppearAnimations){const w=t.getProps()[fT];if(w){const v=window.HandoffAppearAnimations(w,f,p,ge);v!==null&&(T.elapsed=v,T.isHandoff=!0)}}let x=!T.isHandoff&&!vj(p,g);if(T.type==="spring"&&(p.getVelocity()||T.velocity)&&(x=!1),p.animation&&(x=!1),x)continue;p.start(bg(f,p,g,t.shouldReduceMotion&&si.has(f)?{type:!1}:T));const A=p.animation;Nu(l)&&(l.add(f),A.then(()=>l.remove(f))),d.push(A)}return o&&Promise.all(d).then(()=>{o&&Ag(t,o)}),d}function wp(t,e,n={}){const r=Td(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(uS(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return xj(t,e,d+l,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,d]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function xj(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(t.variantChildren).sort(wj).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(wp(d,e,{...i,delay:n+l(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function wj(t,e){return t.sortNodePosition(e)}function dS(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>wp(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=wp(t,e,n);else{const s=typeof e=="function"?Td(t,e,n.custom):e;r=Promise.all(uS(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const _j=[...lg].reverse(),Ej=lg.length;function Tj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dS(t,n,r)))}function Sj(t){let e=Tj(t);const n=Ij();let r=!0;const s=(l,d)=>{const h=Td(t,d);if(h){const{transition:f,transitionEnd:p,...g}=h;l={...l,...g,...p}}return l};function i(l){e=l(t)}function o(l,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],g=new Set;let T={},x=1/0;for(let w=0;w<Ej;w++){const v=_j[w],E=n[v],P=h[v]!==void 0?h[v]:f[v],L=el(P),F=v===d?E.isActive:null;F===!1&&(x=w);let I=P===f[v]&&P!==h[v]&&L;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),E.protectedKeys={...T},!E.isActive&&F===null||!P&&!E.prevProp||xd(P)||typeof P=="boolean")continue;let b=bj(E.prevProp,P)||v===d&&E.isActive&&!I&&L||w>x&&L,C=!1;const R=Array.isArray(P)?P:[P];let j=R.reduce(s,{});F===!1&&(j={});const{prevResolvedValues:N={}}=E,ce={...N,...j},_e=ye=>{b=!0,g.has(ye)&&(C=!0,g.delete(ye)),E.needsAnimating[ye]=!0};for(const ye in ce){const q=j[ye],B=N[ye];if(T.hasOwnProperty(ye))continue;let Y=!1;ku(q)&&ku(B)?Y=!DT(q,B):Y=q!==B,Y?q!==void 0?_e(ye):g.add(ye):q!==void 0&&g.has(ye)?_e(ye):E.protectedKeys[ye]=!0}E.prevProp=P,E.prevResolvedValues=j,E.isActive&&(T={...T,...j}),r&&t.blockInitialAnimation&&(b=!1),b&&(!I||C)&&p.push(...R.map(ye=>({animation:ye,options:{type:v,...l}})))}if(g.size){const w={};g.forEach(v=>{const E=t.getBaseTarget(v);E!==void 0&&(w[v]=E)}),p.push({animation:w})}let A=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(p):Promise.resolve()}function a(l,d,h){var f;if(n[l].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var T;return(T=g.animationState)===null||T===void 0?void 0:T.setActive(l,d)}),n[l].isActive=d;const p=o(h,l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function bj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!DT(e,t):!1}function Ss(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ij(){return{animate:Ss(!0),whileInView:Ss(),whileHover:Ss(),whileTap:Ss(),whileDrag:Ss(),whileFocus:Ss(),exit:Ss()}}class kj extends ms{constructor(e){super(e),e.animationState||(e.animationState=Sj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Cj=0;class Aj extends ms{constructor(){super(...arguments),this.id=Cj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Nj={animation:{Feature:kj},exit:{Feature:Aj}},qv=(t,e)=>Math.abs(t-e);function Pj(t,e){const n=qv(t.x,e.x),r=qv(t.y,e.y);return Math.sqrt(n**2+r**2)}class hS{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Gh(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Pj(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:T}=f,{timestamp:x}=Ge;this.history.push({...T,timestamp:x});const{onStart:A,onMove:w}=this.handlers;p||(A&&A(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=qh(p,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:T,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Gh(f.type==="pointercancel"?this.lastMoveEventInfo:qh(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,A),T&&T(f,A)},!AT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ed(e),a=qh(o,this.transformPagePoint),{point:l}=a,{timestamp:d}=Ge;this.history=[{...l,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Gh(a,this.history)),this.removeListeners=qr(sr(this.contextWindow,"pointermove",this.handlePointerMove),sr(this.contextWindow,"pointerup",this.handlePointerUp),sr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function qh(t,e){return e?{point:e(t.point)}:t}function Gv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gh({point:t},e){return{point:t,delta:Gv(t,fS(e)),offset:Gv(t,Rj(e)),velocity:jj(e,.1)}}function Rj(t){return t[0]}function fS(t){return t[t.length-1]}function jj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=fS(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Us(e)));)n--;if(!r)return{x:0,y:0};const i=jn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Kt(t){return t.max-t.min}function _p(t,e=0,n=.01){return Math.abs(t-e)<=n}function Kv(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=Kt(n)/Kt(e),(_p(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(_p(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ba(t,e,n,r){Kv(t.x,e.x,n.x,r?r.originX:void 0),Kv(t.y,e.y,n.y,r?r.originY:void 0)}function Qv(t,e,n){t.min=n.min+e.min,t.max=t.min+Kt(e)}function Dj(t,e,n){Qv(t.x,e.x,n.x),Qv(t.y,e.y,n.y)}function Yv(t,e,n){t.min=e.min-n.min,t.max=t.min+Kt(e)}function Ia(t,e,n){Yv(t.x,e.x,n.x),Yv(t.y,e.y,n.y)}function Vj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function Xv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Mj(t,{top:e,left:n,bottom:r,right:s}){return{x:Xv(t.x,n,s),y:Xv(t.y,e,r)}}function Jv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Lj(t,e){return{x:Jv(t.x,e.x),y:Jv(t.y,e.y)}}function Oj(t,e){let n=.5;const r=Kt(t),s=Kt(e);return s>r?n=io(e.min,e.max-r,t.min):r>s&&(n=io(t.min,t.max-s,e.min)),es(0,1,n)}function Fj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ep=.35;function Uj(t=Ep){return t===!1?t=0:t===!0&&(t=Ep),{x:Zv(t,"left","right"),y:Zv(t,"top","bottom")}}function Zv(t,e,n){return{min:ex(t,e),max:ex(t,n)}}function ex(t,e){return typeof t=="number"?t:t[e]||0}const tx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:tx(),y:tx()}),nx=()=>({min:0,max:0}),ze=()=>({x:nx(),y:nx()});function Jt(t){return[t("x"),t("y")]}function pS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Bj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $j(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kh(t){return t===void 0||t===1}function Tp({scale:t,scaleX:e,scaleY:n}){return!Kh(t)||!Kh(e)||!Kh(n)}function ks(t){return Tp(t)||mS(t)||t.z||t.rotate||t.rotateX||t.rotateY}function mS(t){return rx(t.x)||rx(t.y)}function rx(t){return t&&t!=="0%"}function Pu(t,e,n){const r=t-n,s=e*r;return n+s}function sx(t,e,n,r,s){return s!==void 0&&(t=Pu(t,s,r)),Pu(t,n,r)+e}function Sp(t,e=0,n=1,r,s){t.min=sx(t.min,e,n,r,s),t.max=sx(t.max,e,n,r,s)}function gS(t,{x:e,y:n}){Sp(t.x,e.translate,e.scale,e.originPoint),Sp(t.y,n.translate,n.scale,n.originPoint)}function zj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,gS(t,o)),r&&ks(i.latestValues)&&Mi(t,i.latestValues))}e.x=ix(e.x),e.y=ix(e.y)}function ix(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ir(t,e){t.min=t.min+e,t.max=t.max+e}function ox(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Ne(t.min,t.max,i);Sp(t,e[n],e[r],o,e.scale)}const Hj=["x","scaleX","originX"],Wj=["y","scaleY","originY"];function Mi(t,e){ox(t.x,e,Hj),ox(t.y,e,Wj)}function yS(t,e){return pS($j(t.getBoundingClientRect(),e))}function qj(t,e,n){const r=yS(t,n),{scroll:s}=e;return s&&(Ir(r.x,s.offset.x),Ir(r.y,s.offset.y)),r}const vS=({current:t})=>t?t.ownerDocument.defaultView:null,Gj=new WeakMap;class Kj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ed(h,"page").point)},i=(h,f)=>{const{drag:p,dragPropagation:g,onDragStart:T}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=PT(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(A=>{let w=this.getAxisMotionValue(A).get()||0;if(Rn.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const E=v.layout.layoutBox[A];E&&(w=Kt(E)*(parseFloat(w)/100))}}this.originPoint[A]=w}),T&&ge.update(()=>T(h,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:T,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=f;if(g&&this.currentDirection===null){this.currentDirection=Qj(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",f.point,A),this.updateAxis("y",f.point,A),this.visualElement.render(),x&&x(h,f)},a=(h,f)=>this.stop(h,f),l=()=>Jt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new hS(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:vS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ge.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!vc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Vj(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ji(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Mj(s.layoutBox,n):this.constraints=!1,this.elastic=Uj(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Fj(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ji(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=qj(r,s.root,this.visualElement.getTransformPagePoint());let o=Lj(s.layout.layoutBox,i);if(n){const a=n(Bj(o));this.hasMutatedConstraints=!!a,a&&(o=pS(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=Jt(h=>{if(!vc(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,T)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(bg(e,r,0,n))}stopAnimation(){Jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jt(n=>{const{drag:r}=this.getProps();if(!vc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ji(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=Oj({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jt(o=>{if(!vc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];a.set(Ne(l,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;Gj.set(this.visualElement,this);const e=this.visualElement.current,n=sr(e,"pointerdown",l=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ji(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Zn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(Jt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ep,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function vc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Qj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Yj extends ms{constructor(e){super(e),this.removeGroupControls=Le,this.removeListeners=Le,this.controls=new Kj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Le}unmount(){this.removeGroupControls(),this.removeListeners()}}const ax=t=>(e,n)=>{t&&ge.update(()=>t(e,n))};class Xj extends ms{constructor(){super(...arguments),this.removePointerDownListener=Le}onPointerDown(e){this.session=new hS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ax(e),onStart:ax(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ge.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=sr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Jj(){const t=k.useContext(yd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=k.useId();return k.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const $c={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ra={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=lx(t,e.target.x),r=lx(t,e.target.y);return`${n}% ${r}%`}},Zj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ts.parse(t);if(s.length>5)return r;const i=ts.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const d=Ne(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class e4 extends Xu.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;lP(t4),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$c.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ge.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xS(t){const[e,n]=Jj(),r=k.useContext(ug);return Xu.createElement(e4,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(mT),isPresent:e,safeToRemove:n})}const t4={borderRadius:{...ra,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ra,borderTopRightRadius:ra,borderBottomLeftRadius:ra,borderBottomRightRadius:ra,boxShadow:Zj},wS=["TopLeft","TopRight","BottomLeft","BottomRight"],n4=wS.length,cx=t=>typeof t=="string"?parseFloat(t):t,ux=t=>typeof t=="number"||te.test(t);function r4(t,e,n,r,s,i){s?(t.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,s4(r)),t.opacityExit=Ne(e.opacity!==void 0?e.opacity:1,0,i4(r))):i&&(t.opacity=Ne(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<n4;o++){const a=`border${wS[o]}Radius`;let l=dx(e,a),d=dx(n,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||ux(l)===ux(d)?(t[a]=Math.max(Ne(cx(l),cx(d),r),0),(Rn.test(d)||Rn.test(l))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function dx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const s4=_S(0,.5,zT),i4=_S(.5,.95,Le);function _S(t,e,n){return r=>r<t?0:r>e?1:n(io(t,e,r))}function hx(t,e){t.min=e.min,t.max=e.max}function Xt(t,e){hx(t.x,e.x),hx(t.y,e.y)}function fx(t,e,n,r,s){return t-=e,t=Pu(t,1/n,r),s!==void 0&&(t=Pu(t,1/s,r)),t}function o4(t,e=0,n=1,r=.5,s,i=t,o=t){if(Rn.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(i.min,i.max,r);t===i&&(a-=e),t.min=fx(t.min,e,n,a,s),t.max=fx(t.max,e,n,a,s)}function px(t,e,[n,r,s],i,o){o4(t,e[n],e[r],e[s],e.scale,i,o)}const a4=["x","scaleX","originX"],l4=["y","scaleY","originY"];function mx(t,e,n,r){px(t.x,e,a4,n?n.x:void 0,r?r.x:void 0),px(t.y,e,l4,n?n.y:void 0,r?r.y:void 0)}function gx(t){return t.translate===0&&t.scale===1}function ES(t){return gx(t.x)&&gx(t.y)}function c4(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function TS(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function yx(t){return Kt(t.x)/Kt(t.y)}class u4{constructor(){this.members=[]}add(e){Ig(this.members,e),e.scheduleRender()}remove(e){if(kg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vx(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:d,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const d4=(t,e)=>t.depth-e.depth;class h4{constructor(){this.children=[],this.isDirty=!1}add(e){Ig(this.children,e),this.isDirty=!0}remove(e){kg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d4),this.isDirty=!1,this.children.forEach(e)}}function f4(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(wn(r),t(i-e))};return ge.read(r,!0),()=>wn(r)}function p4(t){window.MotionDebug&&window.MotionDebug.record(t)}function m4(t){return t instanceof SVGElement&&t.tagName!=="svg"}function g4(t,e,n){const r=Et(t)?t:mn(t);return r.start(bg("",r,e,n)),r.animation}const xx=["","X","Y","Z"],y4={visibility:"hidden"},wx=1e3;let v4=0;const Cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function SS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=v4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cs.totalNodes=Cs.resolvedTargetDeltas=Cs.recalculatedProjection=0,this.nodes.forEach(_4),this.nodes.forEach(I4),this.nodes.forEach(k4),this.nodes.forEach(E4),p4(Cs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new h4)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=m4(o),this.instance=o;const{layoutId:l,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=f4(p,250),$c.hasAnimatedSinceResize&&($c.hasAnimatedSinceResize=!1,this.nodes.forEach(Ex))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||R4,{onLayoutAnimationStart:A,onLayoutAnimationComplete:w}=h.getProps(),v=!this.targetLayout||!TS(this.targetLayout,T)||g,E=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const P={...Sg(x,"layout"),onPlay:A,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||Ex(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_x);return}this.isUpdating||this.nodes.forEach(S4),this.isUpdating=!1,this.nodes.forEach(b4),this.nodes.forEach(x4),this.nodes.forEach(w4),this.clearAllSnapshots();const a=performance.now();Ge.delta=es(0,1e3/60,a-Ge.timestamp),Ge.timestamp=a,Ge.isProcessing=!0,Oh.update.process(Ge),Oh.preRender.process(Ge),Oh.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(T4),this.sharedNodes.forEach(A4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!ES(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(a||ks(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),j4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ze();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ir(a.x,l.offset.x),Ir(a.y,l.offset.y)),a}removeElementScroll(o){const a=ze();Xt(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){Xt(a,o);const{scroll:p}=this.root;p&&(Ir(a.x,-p.offset.x),Ir(a.y,-p.offset.y))}Ir(a.x,h.offset.x),Ir(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=ze();Xt(l,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Mi(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ks(h.latestValues)&&Mi(l,h.latestValues)}return ks(this.latestValues)&&Mi(l,this.latestValues),l}removeTransform(o){const a=ze();Xt(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!ks(d.latestValues))continue;Tp(d.latestValues)&&d.updateSnapshot();const h=ze(),f=d.measurePageBox();Xt(h,f),mx(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ks(this.latestValues)&&mx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Ia(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Dj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),gS(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Ia(this.relativeTargetOrigin,this.target,g.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tp(this.parent.latestValues)||mS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Xt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;zj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:T}=a;if(!T){this.projectionTransform&&(this.projectionDelta=Vi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi());const x=this.projectionTransform;ba(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=vx(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,d=l?l.latestValues:{},h={...this.latestValues},f=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ze(),g=l?l.source:void 0,T=this.layout?this.layout.source:void 0,x=g!==T,A=this.getStack(),w=!A||A.members.length<=1,v=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(P4));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const L=P/1e3;Tx(f.x,o.x,L),Tx(f.y,o.y,L),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ia(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N4(this.relativeTarget,this.relativeTargetOrigin,p,L),E&&c4(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ze()),Xt(E,this.relativeTarget)),x&&(this.animationValues=h,r4(h,d,this.latestValues,L,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{$c.hasAnimatedSinceResize=!0,this.currentAnimation=g4(0,wx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:h}=o;if(!(!a||!l||!d)){if(this!==o&&this.layout&&d&&bS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||ze();const f=Kt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Kt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Xt(a,l),Mi(a,h),ba(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new u4),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const d={};for(let h=0;h<xx.length;h++){const f="rotate"+xx[h];l[f]&&(d[f]=l[f],o.setStaticValue(f,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return y4;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ks(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=vx(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x:g,y:T}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${T.origin*100}% 0`,f.animationValues?d.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in bu){if(p[x]===void 0)continue;const{correct:A,applyTo:w}=bu[x],v=d.transform==="none"?p[x]:A(p[x],f);if(w){const E=w.length;for(let P=0;P<E;P++)d[w[P]]=v}else d[x]=v}return this.options.layoutId&&(d.pointerEvents=f===this?Bc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(_x),this.root.sharedNodes.clear()}}}function x4(t){t.updateLayout()}function w4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Jt(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=Kt(p);p.min=r[f].min,p.max=p.min+g}):bS(i,n.layoutBox,r)&&Jt(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=Kt(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Vi();ba(a,r,n.layoutBox);const l=Vi();o?ba(l,t.applyTransform(s,!0),n.measuredBox):ba(l,r,n.layoutBox);const d=!ES(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const T=ze();Ia(T,n.layoutBox,p.layoutBox);const x=ze();Ia(x,r,g.layoutBox),TS(T,x)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=T,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _4(t){Cs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function T4(t){t.clearSnapshot()}function _x(t){t.clearMeasurements()}function S4(t){t.isLayoutDirty=!1}function b4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ex(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function I4(t){t.resolveTargetDelta()}function k4(t){t.calcProjection()}function C4(t){t.resetRotation()}function A4(t){t.removeLeadSnapshot()}function Tx(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Sx(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function N4(t,e,n,r){Sx(t.x,e.x,n.x,r),Sx(t.y,e.y,n.y,r)}function P4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const R4={duration:.45,ease:[.4,0,.1,1]},bx=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Ix=bx("applewebkit/")&&!bx("chrome/")?Math.round:Le;function kx(t){t.min=Ix(t.min),t.max=Ix(t.max)}function j4(t){kx(t.x),kx(t.y)}function bS(t,e,n){return t==="position"||t==="preserve-aspect"&&!_p(yx(e),yx(n),.2)}const D4=SS({attachResizeListener:(t,e)=>Zn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qh={current:void 0},IS=SS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qh.current){const t=new D4({});t.mount(window),t.setOptions({layoutScroll:!0}),Qh.current=t}return Qh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),V4={pan:{Feature:Xj},drag:{Feature:Yj,ProjectionNode:IS,MeasureLayout:xS}},M4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function L4(t){const e=M4.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function bp(t,e,n=1){const[r,s]=L4(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return aS(o)?parseFloat(o):o}else return fp(s)?bp(s,e,n+1):s}function O4(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!fp(i))return;const o=bp(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!fp(i))continue;const o=bp(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const F4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kS=t=>F4.has(t),U4=t=>Object.keys(t).some(kS),Cx=t=>t===ii||t===te,Ax=(t,e)=>parseFloat(t.split(", ")[e]),Nx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Ax(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Ax(i[1],t):0}},B4=new Set(["x","y","z"]),$4=wl.filter(t=>!B4.has(t));function z4(t){const e=[];return $4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const oo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Nx(4,13),y:Nx(5,14)};oo.translateX=oo.x;oo.translateY=oo.y;const H4=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{a[d]=oo[d](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(a[d]),t[d]=oo[d](l,i)}),t},W4=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(kS);let i=[],o=!1;const a=[];if(s.forEach(l=>{const d=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],f=na(h);const p=e[l];let g;if(ku(p)){const T=p.length,x=p[0]===null?1:0;h=p[x],f=na(h);for(let A=x;A<T&&p[A]!==null;A++)g?vg(na(p[A])===g):g=na(p[A])}else g=na(p);if(f!==g)if(Cx(f)&&Cx(g)){const T=d.get();typeof T=="string"&&d.set(parseFloat(T)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&g===te&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(h===0||p===0)?h===0?d.set(g.transform(h)):e[l]=f.transform(p):(o||(i=z4(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],d.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,d=H4(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),vd&&l!==null&&window.scrollTo({top:l}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function q4(t,e,n,r){return U4(e)?W4(t,e,n,r):{target:e,transitionEnd:r}}const G4=(t,e,n,r)=>{const s=O4(t,e,r);return e=s.target,r=s.transitionEnd,q4(t,e,n,r)},Ip={current:null},CS={current:!1};function K4(){if(CS.current=!0,!!vd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ip.current=t.matches;t.addListener(e),e()}else Ip.current=!1}function Q4(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Et(i))t.addValue(s,i),Nu(r)&&r.add(s);else if(Et(o))t.addValue(s,mn(i,{owner:t})),Nu(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,mn(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Px=new WeakMap,AS=Object.keys(tl),Y4=AS.length,Rx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],X4=cg.length;class J4{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ge.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=wd(n),this.isVariantNode=pT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];a[f]!==void 0&&Et(p)&&(p.set(a[f],!1),Nu(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Px.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),CS.current||K4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ip.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Px.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=si.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ge.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<Y4;l++){const d=AS[l],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:g}=tl[d];p&&(o=p),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:d,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!h||f&&ji(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Rx.length;r++){const s=Rx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Q4(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<X4;r++){const s=cg[r],i=this.props[s];(el(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mn(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=yg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Et(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class NS extends J4{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=gj(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){pj(this,r,o);const a=G4(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Z4(t){return window.getComputedStyle(t)}class e5 extends NS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(si.has(n)){const r=Tg(n);return r&&r.default||0}else{const r=Z4(e),s=(vT(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yS(e,n)}build(e,n,r,s){hg(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return gg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){ST(e,n,r,s)}}class t5 extends NS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(si.has(n)){const r=Tg(n);return r&&r.default||0}return n=bT.has(n)?n:ag(n),e.getAttribute(n)}measureInstanceViewportBox(){return ze()}scrapeMotionValuesFromProps(e,n){return kT(e,n)}build(e,n,r,s){pg(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){IT(e,n,r,s)}mount(e){this.isSVGTag=mg(e.tagName),super.mount(e)}}const n5=(t,e)=>dg(t)?new t5(e,{enableHardwareAcceleration:!1}):new e5(e,{enableHardwareAcceleration:!0}),r5={layout:{ProjectionNode:IS,MeasureLayout:xS}},s5={...Nj,...XP,...V4,...r5},V=oP((t,e)=>OP(t,e,s5,n5));function PS(){const t=k.useRef(!1);return ri(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function i5(){const t=PS(),[e,n]=k.useState(0),r=k.useCallback(()=>{t.current&&n(e+1)},[e]);return[k.useCallback(()=>ge.postRender(r),[r]),e]}class o5 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function a5({children:t,isPresent:e}){const n=k.useId(),r=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),k.createElement(o5,{isPresent:e,childRef:r,sizeRef:s},k.cloneElement(t,{ref:r}))}const Yh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=So(l5),l=k.useId(),d=k.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return k.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=k.createElement(a5,{isPresent:n},t)),k.createElement(yd.Provider,{value:d},t)};function l5(){return new Map}function c5(t){return k.useEffect(()=>()=>t(),[])}const As=t=>t.key||"";function u5(t,e){t.forEach(n=>{const r=As(n);e.set(r,n)})}function d5(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const At=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=k.useContext(ug).forceRender||i5()[0],l=PS(),d=d5(t);let h=d;const f=k.useRef(new Map).current,p=k.useRef(h),g=k.useRef(new Map).current,T=k.useRef(!0);if(ri(()=>{T.current=!1,u5(d,g),p.current=h}),c5(()=>{T.current=!0,g.clear(),f.clear()}),T.current)return k.createElement(k.Fragment,null,h.map(v=>k.createElement(Yh,{key:As(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},v)));h=[...h];const x=p.current.map(As),A=d.map(As),w=x.length;for(let v=0;v<w;v++){const E=x[v];A.indexOf(E)===-1&&!f.has(E)&&f.set(E,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((v,E)=>{if(A.indexOf(E)!==-1)return;const P=g.get(E);if(!P)return;const L=x.indexOf(E);let F=v;if(!F){const I=()=>{f.delete(E);const _=Array.from(g.keys()).filter(b=>!A.includes(b));if(_.forEach(b=>g.delete(b)),p.current=d.filter(b=>{const C=As(b);return C===E||_.includes(C)}),!f.size){if(l.current===!1)return;a(),r&&r()}};F=k.createElement(Yh,{key:As(P),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:i,mode:o},P),f.set(E,F)}h.splice(L,0,F)}),h=h.map(v=>{const E=v.key;return f.has(E)?v:k.createElement(Yh,{key:As(v),isPresent:!0,presenceAffectsLayout:i,mode:o},v)}),k.createElement(k.Fragment,null,f.size?h:h.map(v=>k.cloneElement(v)))};function RS(t){const e=So(()=>mn(t)),{isStatic:n}=k.useContext(md);if(n){const[,r]=k.useState(t);k.useEffect(()=>e.on("change",r),[])}return e}const h5=t=>t&&typeof t=="object"&&t.mix,f5=t=>h5(t)?t.mix:void 0;function p5(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=Sd(s,i,{mixer:f5(i[0]),...o});return e?a(r):a}function jS(t,e){const n=RS(e()),r=()=>n.set(e());return r(),ri(()=>{const s=()=>ge.update(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),wn(r)}}),n}function m5(t){Sa.current=[],t();const e=jS(Sa.current,t);return Sa.current=void 0,e}function Vs(t,e,n,r){if(typeof t=="function")return m5(t);const s=typeof e=="function"?e:p5(e,n,r);return Array.isArray(t)?jx(t,s):jx([t],([i])=>s(i))}function jx(t,e){const n=So(()=>[]);return jS(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function xc(t,e={}){const{isStatic:n}=k.useContext(md),r=k.useRef(null),s=RS(Et(t)?t.get():t),i=()=>{r.current&&r.current.stop()};return k.useInsertionEffect(()=>s.attach((o,a)=>{if(n)return a(o);if(i(),r.current=nl({keyframes:[s.get(),o],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a}),!Ge.isProcessing){const l=performance.now()-Ge.timestamp;l<30&&(r.current.time=jn(l))}return s.get()},i),[JSON.stringify(e)]),ri(()=>{if(Et(t))return t.on("change",o=>s.set(parseFloat(o)))},[s]),s}function g5(t,e,n){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const zc=new WeakMap;let Tr;function y5(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function v5({target:t,contentRect:e,borderBoxSize:n}){var r;(r=zc.get(t))===null||r===void 0||r.forEach(s=>{s({target:t,contentSize:e,get size(){return y5(t,n)}})})}function x5(t){t.forEach(v5)}function w5(){typeof ResizeObserver>"u"||(Tr=new ResizeObserver(x5))}function _5(t,e){Tr||w5();const n=g5(t);return n.forEach(r=>{let s=zc.get(r);s||(s=new Set,zc.set(r,s)),s.add(e),Tr==null||Tr.observe(r)}),()=>{n.forEach(r=>{const s=zc.get(r);s==null||s.delete(e),s!=null&&s.size||Tr==null||Tr.unobserve(r)})}}const Hc=new Set;let ka;function E5(){ka=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Hc.forEach(n=>n(e))},window.addEventListener("resize",ka)}function T5(t){return Hc.add(t),ka||E5(),()=>{Hc.delete(t),!Hc.size&&ka&&(ka=void 0)}}function S5(t,e){return typeof t=="function"?T5(t):_5(t,e)}const b5=50,Dx=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),I5=()=>({time:0,x:Dx(),y:Dx()}),k5={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Vx(t,e,n,r){const s=n[e],{length:i,position:o}=k5[e],a=s.current,l=n.time;s.current=t["scroll"+o],s.scrollLength=t["scroll"+i]-t["client"+i],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=io(0,s.scrollLength,s.current);const d=r-l;s.velocity=d>b5?0:Eg(s.current-a,d)}function C5(t,e,n){Vx(t,"x",e,n),Vx(t,"y",e,n),e.time=n}function A5(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const N5={All:[[0,0],[1,1]]},kp={start:0,center:.5,end:1};function Mx(t,e,n=0){let r=0;if(kp[t]!==void 0&&(t=kp[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const P5=[0,0];function R5(t,e,n,r){let s=Array.isArray(t)?t:P5,i=0,o=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,kp[t]?t:"0"]),i=Mx(s[0],n,r),o=Mx(s[1],e),i-o}const j5={x:0,y:0};function D5(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function V5(t,e,n){let{offset:r=N5.All}=n;const{target:s=t,axis:i="y"}=n,o=i==="y"?"height":"width",a=s!==t?A5(s,t):j5,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:D5(s),d={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let h=!e[i].interpolate;const f=r.length;for(let p=0;p<f;p++){const g=R5(r[p],d[o],l[o],a[i]);!h&&g!==e[i].interpolatorOffsets[p]&&(h=!0),e[i].offset[p]=g}h&&(e[i].interpolate=Sd(e[i].offset,nS(r)),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=e[i].interpolate(e[i].current)}function M5(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function L5(t,e,n,r={}){return{measure:()=>M5(t,r.target,n),update:s=>{C5(t,n,s),(r.offset||r.target)&&V5(t,n,r)},notify:()=>e(n)}}const sa=new WeakMap,Lx=new WeakMap,Xh=new WeakMap,Ox=t=>t===document.documentElement?window:t;function O5(t,{container:e=document.documentElement,...n}={}){let r=Xh.get(e);r||(r=new Set,Xh.set(e,r));const s=I5(),i=L5(e,t,s,n);if(r.add(i),!sa.has(e)){const a=()=>{for(const p of r)p.measure()},l=()=>{for(const p of r)p.update(Ge.timestamp)},d=()=>{for(const p of r)p.notify()},h=()=>{ge.read(a,!1,!0),ge.read(l,!1,!0),ge.update(d,!1,!0)};sa.set(e,h);const f=Ox(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&Lx.set(e,S5(e,h)),f.addEventListener("scroll",h,{passive:!0})}const o=sa.get(e);return ge.read(o,!1,!0),()=>{var a;wn(o);const l=Xh.get(e);if(!l||(l.delete(i),l.size))return;const d=sa.get(e);sa.delete(e),d&&(Ox(e).removeEventListener("scroll",d),(a=Lx.get(e))===null||a===void 0||a(),window.removeEventListener("resize",d))}}function Fx(t,e){eR(!!(!e||e.current))}const F5=()=>({scrollX:mn(0),scrollY:mn(0),scrollXProgress:mn(0),scrollYProgress:mn(0)});function DS({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=So(F5);return(n?ri:k.useEffect)(()=>(Fx("target",e),Fx("container",t),O5(({x:o,y:a})=>{s.scrollX.set(o.current),s.scrollXProgress.set(o.progress),s.scrollY.set(a.current),s.scrollYProgress.set(a.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function U5(t){t.values.forEach(e=>e.stop())}function B5(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const s=[];return t.forEach(i=>{s.push(dS(i,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return t.forEach(r=>{fj(r,n)})},stop(){t.forEach(n=>{U5(n)})},mount(){return()=>{e.stop()}}};return e}function $5(){const t=So(B5);return ri(t.mount,[]),t}const z5=$5;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...d},h)=>k.createElement("svg",{ref:h,...H5,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${W5(t)}`,a].join(" "),...d},[...e.map(([f,p])=>k.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=J("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=J("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=J("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v4",key:"jdggr9"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=J("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=J("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=J("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=J("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=J("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=J("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=J("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=J("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=J("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=J("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=J("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=J("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=J("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=J("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=J("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=J("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=J("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=J("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=J("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=J("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=J("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=J("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=J("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=J("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=J("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=J("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=J("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=J("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=J("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=J("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=J("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=J("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=J("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=J("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),mD=()=>{};var Gx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,g=d&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new yD;const p=i<<2|a>>4;if(r.push(p),d!==64){const g=a<<4&240|d>>2;if(r.push(g),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vD=function(t){const e=$S(t);return zS.encodeByteArray(e,!0)},Ru=function(t){return vD(t).replace(/\./g,"")},HS=function(t){try{return zS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=()=>xD().__FIREBASE_DEFAULTS__,_D=()=>{if(typeof process>"u"||typeof Gx>"u")return;const t=Gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ED=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HS(t[1]);return e&&JSON.parse(e)},Id=()=>{try{return mD()||wD()||_D()||ED()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=Id())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TD=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qS=()=>{var t;return(t=Id())==null?void 0:t.config},GS=t=>{var e;return(e=Id())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ru(JSON.stringify(n)),Ru(JSON.stringify(o)),""].join(".")}const Aa={};function ID(){const t={prod:[],emulator:[]};for(const e of Object.keys(Aa))Aa[e]?t.emulator.push(e):t.prod.push(e);return t}function kD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Kx=!1;function QS(t,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Aa[t]===e||Aa[t]||Kx)return;Aa[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=ID().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Kx=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=kD(r),g=n("text"),T=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),A=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),h(A,x);const P=d();l(v,w),E.append(v,T,A,P),document.body.appendChild(E)}i?(T.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function AD(){var e;const t=(e=Id())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ND(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RD(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jD(){return!AD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function DD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="FirebaseError";class Tn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VD,Object.setPrototypeOf(this,Tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oi.prototype.create)}}class oi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?MD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Tn(s,a,r)}}function MD(t,e){return t.replace(LD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const LD=/\{\$([^}]+)}/g;function OD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ss(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Qx(i)&&Qx(o)){if(!ss(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Qx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FD(t,e){const n=new UD(t,e);return n.subscribe.bind(n)}class UD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zh),s.error===void 0&&(s.error=Zh),s.complete===void 0&&(s.complete=Zh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1e3,zD=2,HD=4*60*60*1e3,WD=.5;function Yx(t,e=$D,n=zD){const r=e*Math.pow(n,t),s=Math.round(WD*r*(Math.random()-.5)*2);return Math.min(HD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class _n{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KD(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GD(t){return t===Ns?void 0:t}function KD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const YD={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},XD=ae.INFO,JD={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},ZD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=JD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kd{constructor(e){this.name=e,this._logLevel=XD,this._logHandler=ZD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const e3=(t,e)=>e.some(n=>t instanceof n);let Xx,Jx;function t3(){return Xx||(Xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n3(){return Jx||(Jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZS=new WeakMap,jp=new WeakMap,eb=new WeakMap,ef=new WeakMap,Rg=new WeakMap;function r3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZS.set(n,t)}).catch(()=>{}),Rg.set(e,t),e}function s3(t){if(jp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});jp.set(t,e)}let Dp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i3(t){Dp=t(Dp)}function o3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tf(this),e,...n);return eb.set(r,e.sort?e.sort():[e]),Qr(r)}:n3().includes(t)?function(...e){return t.apply(tf(this),e),Qr(ZS.get(this))}:function(...e){return Qr(t.apply(tf(this),e))}}function a3(t){return typeof t=="function"?o3(t):(t instanceof IDBTransaction&&s3(t),e3(t,t3())?new Proxy(t,Dp):t)}function Qr(t){if(t instanceof IDBRequest)return r3(t);if(ef.has(t))return ef.get(t);const e=a3(t);return e!==t&&(ef.set(t,e),Rg.set(e,t)),e}const tf=t=>Rg.get(t);function tb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Qr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qr(o.result),l.oldVersion,l.newVersion,Qr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const l3=["get","getKey","getAll","getAllKeys","count"],c3=["put","add","delete","clear"],nf=new Map;function Zx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nf.get(e))return nf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=c3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||l3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return nf.set(e,i),i}i3(t=>({...t,get:(e,n,r)=>Zx(e,n)||t.get(e,n,r),has:(e,n)=>!!Zx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vp="@firebase/app",ew="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new kd("@firebase/app"),h3="@firebase/app-compat",f3="@firebase/analytics-compat",p3="@firebase/analytics",m3="@firebase/app-check-compat",g3="@firebase/app-check",y3="@firebase/auth",v3="@firebase/auth-compat",x3="@firebase/database",w3="@firebase/data-connect",_3="@firebase/database-compat",E3="@firebase/functions",T3="@firebase/functions-compat",S3="@firebase/installations",b3="@firebase/installations-compat",I3="@firebase/messaging",k3="@firebase/messaging-compat",C3="@firebase/performance",A3="@firebase/performance-compat",N3="@firebase/remote-config",P3="@firebase/remote-config-compat",R3="@firebase/storage",j3="@firebase/storage-compat",D3="@firebase/firestore",V3="@firebase/ai",M3="@firebase/firestore-compat",L3="firebase",O3="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",F3={[Vp]:"fire-core",[h3]:"fire-core-compat",[p3]:"fire-analytics",[f3]:"fire-analytics-compat",[g3]:"fire-app-check",[m3]:"fire-app-check-compat",[y3]:"fire-auth",[v3]:"fire-auth-compat",[x3]:"fire-rtdb",[w3]:"fire-data-connect",[_3]:"fire-rtdb-compat",[E3]:"fire-fn",[T3]:"fire-fn-compat",[S3]:"fire-iid",[b3]:"fire-iid-compat",[I3]:"fire-fcm",[k3]:"fire-fcm-compat",[C3]:"fire-perf",[A3]:"fire-perf-compat",[N3]:"fire-rc",[P3]:"fire-rc-compat",[R3]:"fire-gcs",[j3]:"fire-gcs-compat",[D3]:"fire-fst",[M3]:"fire-fst-compat",[V3]:"fire-vertex","fire-js":"fire-js",[L3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Map,U3=new Map,Lp=new Map;function tw(t,e){try{t.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Un(t){const e=t.name;if(Lp.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,t);for(const n of rl.values())tw(n,t);for(const n of U3.values())tw(n,t);return!0}function ai(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new oi("app","Firebase",B3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=O3;function nb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Mp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Yr.create("bad-app-name",{appName:String(s)});if(n||(n=qS()),!n)throw Yr.create("no-options");const i=rl.get(s);if(i){if(ss(n,i.options)&&ss(r,i.config))return i;throw Yr.create("duplicate-app",{appName:s})}const o=new QD(s);for(const l of Lp.values())o.addComponent(l);const a=new $3(n,r,o);return rl.set(s,a),a}function Cd(t=Mp){const e=rl.get(t);if(!e&&t===Mp&&qS())return nb();if(!e)throw Yr.create("no-app",{appName:t});return e}function z3(){return Array.from(rl.values())}function sn(t,e,n){let r=F3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(o.join(" "));return}Un(new _n(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="firebase-heartbeat-database",W3=1,sl="firebase-heartbeat-store";let rf=null;function rb(){return rf||(rf=tb(H3,W3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),rf}async function q3(t){try{const n=(await rb()).transaction(sl),r=await n.objectStore(sl).get(sb(t));return await n.done,r}catch(e){if(e instanceof Tn)dr.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function nw(t,e){try{const r=(await rb()).transaction(sl,"readwrite");await r.objectStore(sl).put(e,sb(t)),await r.done}catch(n){if(n instanceof Tn)dr.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(r.message)}}}function sb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=1024,K3=30;class Q3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>K3){const o=J3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rw(),{heartbeatsToSend:r,unsentEntries:s}=Y3(this._heartbeatsCache.heartbeats),i=Ru(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return dr.warn(n),""}}}function rw(){return new Date().toISOString().substring(0,10)}function Y3(t,e=G3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sw(t){return Ru(JSON.stringify({version:2,heartbeats:t})).length}function J3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){Un(new _n("platform-logger",e=>new u3(e),"PRIVATE")),Un(new _n("heartbeat",e=>new Q3(e),"PRIVATE")),sn(Vp,ew,t),sn(Vp,ew,"esm2020"),sn("fire-js","")}Z3("");var iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,ib;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function b(){}b.prototype=_.prototype,I.D=_.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(C,R,j){for(var N=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)N[ce-2]=arguments[ce];return _.prototype[R].apply(C,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,_,b){b||(b=0);var C=Array(16);if(typeof _=="string")for(var R=0;16>R;++R)C[R]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(R=0;16>R;++R)C[R]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=I.g[0],b=I.g[1],R=I.g[2];var j=I.g[3],N=_+(j^b&(R^j))+C[0]+3614090360&4294967295;_=b+(N<<7&4294967295|N>>>25),N=j+(R^_&(b^R))+C[1]+3905402710&4294967295,j=_+(N<<12&4294967295|N>>>20),N=R+(b^j&(_^b))+C[2]+606105819&4294967295,R=j+(N<<17&4294967295|N>>>15),N=b+(_^R&(j^_))+C[3]+3250441966&4294967295,b=R+(N<<22&4294967295|N>>>10),N=_+(j^b&(R^j))+C[4]+4118548399&4294967295,_=b+(N<<7&4294967295|N>>>25),N=j+(R^_&(b^R))+C[5]+1200080426&4294967295,j=_+(N<<12&4294967295|N>>>20),N=R+(b^j&(_^b))+C[6]+2821735955&4294967295,R=j+(N<<17&4294967295|N>>>15),N=b+(_^R&(j^_))+C[7]+4249261313&4294967295,b=R+(N<<22&4294967295|N>>>10),N=_+(j^b&(R^j))+C[8]+1770035416&4294967295,_=b+(N<<7&4294967295|N>>>25),N=j+(R^_&(b^R))+C[9]+2336552879&4294967295,j=_+(N<<12&4294967295|N>>>20),N=R+(b^j&(_^b))+C[10]+4294925233&4294967295,R=j+(N<<17&4294967295|N>>>15),N=b+(_^R&(j^_))+C[11]+2304563134&4294967295,b=R+(N<<22&4294967295|N>>>10),N=_+(j^b&(R^j))+C[12]+1804603682&4294967295,_=b+(N<<7&4294967295|N>>>25),N=j+(R^_&(b^R))+C[13]+4254626195&4294967295,j=_+(N<<12&4294967295|N>>>20),N=R+(b^j&(_^b))+C[14]+2792965006&4294967295,R=j+(N<<17&4294967295|N>>>15),N=b+(_^R&(j^_))+C[15]+1236535329&4294967295,b=R+(N<<22&4294967295|N>>>10),N=_+(R^j&(b^R))+C[1]+4129170786&4294967295,_=b+(N<<5&4294967295|N>>>27),N=j+(b^R&(_^b))+C[6]+3225465664&4294967295,j=_+(N<<9&4294967295|N>>>23),N=R+(_^b&(j^_))+C[11]+643717713&4294967295,R=j+(N<<14&4294967295|N>>>18),N=b+(j^_&(R^j))+C[0]+3921069994&4294967295,b=R+(N<<20&4294967295|N>>>12),N=_+(R^j&(b^R))+C[5]+3593408605&4294967295,_=b+(N<<5&4294967295|N>>>27),N=j+(b^R&(_^b))+C[10]+38016083&4294967295,j=_+(N<<9&4294967295|N>>>23),N=R+(_^b&(j^_))+C[15]+3634488961&4294967295,R=j+(N<<14&4294967295|N>>>18),N=b+(j^_&(R^j))+C[4]+3889429448&4294967295,b=R+(N<<20&4294967295|N>>>12),N=_+(R^j&(b^R))+C[9]+568446438&4294967295,_=b+(N<<5&4294967295|N>>>27),N=j+(b^R&(_^b))+C[14]+3275163606&4294967295,j=_+(N<<9&4294967295|N>>>23),N=R+(_^b&(j^_))+C[3]+4107603335&4294967295,R=j+(N<<14&4294967295|N>>>18),N=b+(j^_&(R^j))+C[8]+1163531501&4294967295,b=R+(N<<20&4294967295|N>>>12),N=_+(R^j&(b^R))+C[13]+2850285829&4294967295,_=b+(N<<5&4294967295|N>>>27),N=j+(b^R&(_^b))+C[2]+4243563512&4294967295,j=_+(N<<9&4294967295|N>>>23),N=R+(_^b&(j^_))+C[7]+1735328473&4294967295,R=j+(N<<14&4294967295|N>>>18),N=b+(j^_&(R^j))+C[12]+2368359562&4294967295,b=R+(N<<20&4294967295|N>>>12),N=_+(b^R^j)+C[5]+4294588738&4294967295,_=b+(N<<4&4294967295|N>>>28),N=j+(_^b^R)+C[8]+2272392833&4294967295,j=_+(N<<11&4294967295|N>>>21),N=R+(j^_^b)+C[11]+1839030562&4294967295,R=j+(N<<16&4294967295|N>>>16),N=b+(R^j^_)+C[14]+4259657740&4294967295,b=R+(N<<23&4294967295|N>>>9),N=_+(b^R^j)+C[1]+2763975236&4294967295,_=b+(N<<4&4294967295|N>>>28),N=j+(_^b^R)+C[4]+1272893353&4294967295,j=_+(N<<11&4294967295|N>>>21),N=R+(j^_^b)+C[7]+4139469664&4294967295,R=j+(N<<16&4294967295|N>>>16),N=b+(R^j^_)+C[10]+3200236656&4294967295,b=R+(N<<23&4294967295|N>>>9),N=_+(b^R^j)+C[13]+681279174&4294967295,_=b+(N<<4&4294967295|N>>>28),N=j+(_^b^R)+C[0]+3936430074&4294967295,j=_+(N<<11&4294967295|N>>>21),N=R+(j^_^b)+C[3]+3572445317&4294967295,R=j+(N<<16&4294967295|N>>>16),N=b+(R^j^_)+C[6]+76029189&4294967295,b=R+(N<<23&4294967295|N>>>9),N=_+(b^R^j)+C[9]+3654602809&4294967295,_=b+(N<<4&4294967295|N>>>28),N=j+(_^b^R)+C[12]+3873151461&4294967295,j=_+(N<<11&4294967295|N>>>21),N=R+(j^_^b)+C[15]+530742520&4294967295,R=j+(N<<16&4294967295|N>>>16),N=b+(R^j^_)+C[2]+3299628645&4294967295,b=R+(N<<23&4294967295|N>>>9),N=_+(R^(b|~j))+C[0]+4096336452&4294967295,_=b+(N<<6&4294967295|N>>>26),N=j+(b^(_|~R))+C[7]+1126891415&4294967295,j=_+(N<<10&4294967295|N>>>22),N=R+(_^(j|~b))+C[14]+2878612391&4294967295,R=j+(N<<15&4294967295|N>>>17),N=b+(j^(R|~_))+C[5]+4237533241&4294967295,b=R+(N<<21&4294967295|N>>>11),N=_+(R^(b|~j))+C[12]+1700485571&4294967295,_=b+(N<<6&4294967295|N>>>26),N=j+(b^(_|~R))+C[3]+2399980690&4294967295,j=_+(N<<10&4294967295|N>>>22),N=R+(_^(j|~b))+C[10]+4293915773&4294967295,R=j+(N<<15&4294967295|N>>>17),N=b+(j^(R|~_))+C[1]+2240044497&4294967295,b=R+(N<<21&4294967295|N>>>11),N=_+(R^(b|~j))+C[8]+1873313359&4294967295,_=b+(N<<6&4294967295|N>>>26),N=j+(b^(_|~R))+C[15]+4264355552&4294967295,j=_+(N<<10&4294967295|N>>>22),N=R+(_^(j|~b))+C[6]+2734768916&4294967295,R=j+(N<<15&4294967295|N>>>17),N=b+(j^(R|~_))+C[13]+1309151649&4294967295,b=R+(N<<21&4294967295|N>>>11),N=_+(R^(b|~j))+C[4]+4149444226&4294967295,_=b+(N<<6&4294967295|N>>>26),N=j+(b^(_|~R))+C[11]+3174756917&4294967295,j=_+(N<<10&4294967295|N>>>22),N=R+(_^(j|~b))+C[2]+718787259&4294967295,R=j+(N<<15&4294967295|N>>>17),N=b+(j^(R|~_))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var b=_-this.blockSize,C=this.B,R=this.h,j=0;j<_;){if(R==0)for(;j<=b;)s(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<_;)if(C[R++]=I.charCodeAt(j++),R==this.blockSize){s(this,C),R=0;break}}else for(;j<_;)if(C[R++]=I[j++],R==this.blockSize){s(this,C),R=0;break}}this.h=R,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var b=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=b&255,b/=256;for(this.u(I),I=Array(16),_=b=0;4>_;++_)for(var C=0;32>C;C+=8)I[b++]=this.g[_]>>>C&255;return I};function i(I,_){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=_(I)}function o(I,_){this.h=_;for(var b=[],C=!0,R=I.length-1;0<=R;R--){var j=I[R]|0;C&&j==_||(b[R]=j,C=!1)}this.g=b}var a={};function l(I){return-128<=I&&128>I?i(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return A(d(-I));for(var _=[],b=1,C=0;I>=b;C++)_[C]=I/b|0,b*=4294967296;return new o(_,0)}function h(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return A(h(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(_,8)),C=f,R=0;R<I.length;R+=8){var j=Math.min(8,I.length-R),N=parseInt(I.substring(R,R+j),_);8>j?(j=d(Math.pow(_,j)),C=C.j(j).add(d(N))):(C=C.j(b),C=C.add(d(N)))}return C}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-A(this).m();for(var I=0,_=1,b=0;b<this.g.length;b++){var C=this.i(b);I+=(0<=C?C:4294967296+C)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(x(this))return"-"+A(this).toString(I);for(var _=d(Math.pow(I,6)),b=this,C="";;){var R=P(b,_).g;b=w(b,R.j(_));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=R,T(b))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=w(this,I),x(I)?-1:T(I)?0:1};function A(I){for(var _=I.g.length,b=[],C=0;C<_;C++)b[C]=~I.g[C];return new o(b,~I.h).add(p)}t.abs=function(){return x(this)?A(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),b=[],C=0,R=0;R<=_;R++){var j=C+(this.i(R)&65535)+(I.i(R)&65535),N=(j>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);C=N>>>16,j&=65535,N&=65535,b[R]=N<<16|j}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(I,_){return I.add(A(_))}t.j=function(I){if(T(this)||T(I))return f;if(x(this))return x(I)?A(this).j(A(I)):A(A(this).j(I));if(x(I))return A(this.j(A(I)));if(0>this.l(g)&&0>I.l(g))return d(this.m()*I.m());for(var _=this.g.length+I.g.length,b=[],C=0;C<2*_;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<I.g.length;R++){var j=this.i(C)>>>16,N=this.i(C)&65535,ce=I.i(R)>>>16,_e=I.i(R)&65535;b[2*C+2*R]+=N*_e,v(b,2*C+2*R),b[2*C+2*R+1]+=j*_e,v(b,2*C+2*R+1),b[2*C+2*R+1]+=N*ce,v(b,2*C+2*R+1),b[2*C+2*R+2]+=j*ce,v(b,2*C+2*R+2)}for(C=0;C<_;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=_;C<2*_;C++)b[C]=0;return new o(b,0)};function v(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function E(I,_){this.g=I,this.h=_}function P(I,_){if(T(_))throw Error("division by zero");if(T(I))return new E(f,f);if(x(I))return _=P(A(I),_),new E(A(_.g),A(_.h));if(x(_))return _=P(I,A(_)),new E(A(_.g),_.h);if(30<I.g.length){if(x(I)||x(_))throw Error("slowDivide_ only works with positive integers.");for(var b=p,C=_;0>=C.l(I);)b=L(b),C=L(C);var R=F(b,1),j=F(C,1);for(C=F(C,2),b=F(b,2);!T(C);){var N=j.add(C);0>=N.l(I)&&(R=R.add(b),j=N),C=F(C,1),b=F(b,1)}return _=w(I,R.j(_)),new E(R,_)}for(R=f;0<=I.l(_);){for(b=Math.max(1,Math.floor(I.m()/_.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=d(b),N=j.j(_);x(N)||0<N.l(I);)b-=C,j=d(b),N=j.j(_);T(j)&&(j=p),R=R.add(j),I=w(I,N)}return new E(R,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),b=[],C=0;C<_;C++)b[C]=this.i(C)&I.i(C);return new o(b,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),b=[],C=0;C<_;C++)b[C]=this.i(C)|I.i(C);return new o(b,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),b=[],C=0;C<_;C++)b[C]=this.i(C)^I.i(C);return new o(b,this.h^I.h)};function L(I){for(var _=I.g.length+1,b=[],C=0;C<_;C++)b[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(b,I.h)}function F(I,_){var b=_>>5;_%=32;for(var C=I.g.length-b,R=[],j=0;j<C;j++)R[j]=0<_?I.i(j+b)>>>_|I.i(j+b+1)<<32-_:I.i(j+b);return new o(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ib=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Xr=o}).apply(typeof iw<"u"?iw:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ob,ua,ab,Wc,Op,lb,cb,ub;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,y){return c==Array.prototype||c==Object.prototype||(c[m]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<c.length;++m){var y=c[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var y=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var D=c[S];if(!(D in y))break e;y=y[D]}c=c[c.length-1],S=y[c],m=m(S),m!=S&&m!=null&&e(y,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var y=0,S=!1,D={next:function(){if(!S&&y<c.length){var O=y++;return{value:m(O,c[O]),done:!1}}return S=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function d(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,y){return c.call.apply(c.bind,arguments)}function f(c,m,y){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,S),c.apply(m,D)}}return function(){return c.apply(m,arguments)}}function p(c,m,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(c,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,m){function y(){}y.prototype=m.prototype,c.aa=m.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(S,D,O){for(var W=Array(arguments.length-2),we=2;we<arguments.length;we++)W[we-2]=arguments[we];return m.prototype[D].apply(S,W)}}function x(c){const m=c.length;if(0<m){const y=Array(m);for(let S=0;S<m;S++)y[S]=c[S];return y}return[]}function A(c,m){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(l(S)){const D=c.length||0,O=S.length||0;c.length=D+O;for(let W=0;W<O;W++)c[D+W]=S[W]}else c.push(S)}}class w{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var L=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function F(c,m,y){for(const S in c)m.call(y,c[S],S,c)}function I(c,m){for(const y in c)m.call(void 0,c[y],y,c)}function _(c){const m={};for(const y in c)m[y]=c[y];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,m){let y,S;for(let D=1;D<arguments.length;D++){S=arguments[D];for(y in S)c[y]=S[y];for(let O=0;O<b.length;O++)y=b[O],Object.prototype.hasOwnProperty.call(S,y)&&(c[y]=S[y])}}function R(c){var m=1;c=c.split(":");const y=[];for(;0<m&&c.length;)y.push(c.shift()),m--;return c.length&&y.push(c.join(":")),y}function j(c){a.setTimeout(()=>{throw c},0)}function N(){var c=Y;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,y){const S=_e.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var _e=new w(()=>new ye,c=>c.reset());class ye{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let q,B=!1,Y=new ce,ee=()=>{const c=a.Promise.resolve(void 0);q=()=>{c.then(X)}};var X=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(y){j(y)}var m=_e;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}B=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return c}();function Dt(c,m){if(xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(L){e:{try{P(m.nodeName);var D=!0;break e}catch{}D=!1}D||(m=null)}}else y=="mouseover"?m=c.fromElement:y=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}T(Dt,xe);var Xe={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Ro=0;function ys(c,m,y,S,D){this.listener=c,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=D,this.key=++Ro,this.da=this.fa=!1}function ut(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function St(c){this.src=c,this.g={},this.h=0}St.prototype.add=function(c,m,y,S,D){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var W=jo(c,m,S,D);return-1<W?(m=c[W],y||(m.fa=!1)):(m=new ys(m,this.src,O,!!S,D),m.fa=y,c.push(m)),m};function vs(c,m){var y=m.type;if(y in c.g){var S=c.g[y],D=Array.prototype.indexOf.call(S,m,void 0),O;(O=0<=D)&&Array.prototype.splice.call(S,D,1),O&&(ut(m),c.g[y].length==0&&(delete c.g[y],c.h--))}}function jo(c,m,y,S){for(var D=0;D<c.length;++D){var O=c[D];if(!O.da&&O.listener==m&&O.capture==!!y&&O.ha==S)return D}return-1}var M="closure_lm_"+(1e6*Math.random()|0),H={};function he(c,m,y,S,D){if(Array.isArray(m)){for(var O=0;O<m.length;O++)he(c,m[O],y,S,D);return null}return y=wy(y),c&&c[Je]?c.K(m,y,d(S)?!!S.capture:!1,D):Be(c,m,y,!1,S,D)}function Be(c,m,y,S,D,O){if(!m)throw Error("Invalid event type");var W=d(D)?!!D.capture:!!D,we=ci(c);if(we||(c[M]=we=new St(c)),y=we.add(m,y,S,W,O),y.proxy)return y;if(S=Ze(),y.proxy=S,S.src=c,S.listener=y,c.addEventListener)ct||(D=W),D===void 0&&(D=!1),c.addEventListener(m.toString(),S,D);else if(c.attachEvent)c.attachEvent(Dl(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ze(){function c(y){return m.call(c.src,c.listener,y)}const m=Gd;return c}function gr(c,m,y,S,D){if(Array.isArray(m))for(var O=0;O<m.length;O++)gr(c,m[O],y,S,D);else S=d(S)?!!S.capture:!!S,y=wy(y),c&&c[Je]?(c=c.i,m=String(m).toString(),m in c.g&&(O=c.g[m],y=jo(O,y,S,D),-1<y&&(ut(O[y]),Array.prototype.splice.call(O,y,1),O.length==0&&(delete c.g[m],c.h--)))):c&&(c=ci(c))&&(m=c.g[m.toString()],c=-1,m&&(c=jo(m,y,S,D)),(y=-1<c?m[c]:null)&&Hn(y))}function Hn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Je])vs(m.i,c);else{var y=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(y,S,c.capture):m.detachEvent?m.detachEvent(Dl(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=ci(m))?(vs(y,c),y.h==0&&(y.src=null,m[M]=null)):ut(c)}}}function Dl(c){return c in H?H[c]:H[c]="on"+c}function Gd(c,m){if(c.da)c=!0;else{m=new Dt(m,this);var y=c.listener,S=c.ha||c.src;c.fa&&Hn(c),c=y.call(S,m)}return c}function ci(c){return c=c[M],c instanceof St?c:null}var xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function wy(c){return typeof c=="function"?c:(c[xs]||(c[xs]=function(m){return c.handleEvent(m)}),c[xs])}function dt(){ie.call(this),this.i=new St(this),this.M=this,this.F=null}T(dt,ie),dt.prototype[Je]=!0,dt.prototype.removeEventListener=function(c,m,y,S){gr(this,c,m,y,S)};function bt(c,m){var y,S=c.F;if(S)for(y=[];S;S=S.F)y.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new xe(m,c);else if(m instanceof xe)m.target=m.target||c;else{var D=m;m=new xe(S,c),C(m,D)}if(D=!0,y)for(var O=y.length-1;0<=O;O--){var W=m.g=y[O];D=Vl(W,S,!0,m)&&D}if(W=m.g=c,D=Vl(W,S,!0,m)&&D,D=Vl(W,S,!1,m)&&D,y)for(O=0;O<y.length;O++)W=m.g=y[O],D=Vl(W,S,!1,m)&&D}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var y=c.g[m],S=0;S<y.length;S++)ut(y[S]);delete c.g[m],c.h--}}this.F=null},dt.prototype.K=function(c,m,y,S){return this.i.add(String(c),m,!1,y,S)},dt.prototype.L=function(c,m,y,S){return this.i.add(String(c),m,!0,y,S)};function Vl(c,m,y,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var D=!0,O=0;O<m.length;++O){var W=m[O];if(W&&!W.da&&W.capture==y){var we=W.listener,rt=W.ha||W.src;W.fa&&vs(c.i,W),D=we.call(rt,S)!==!1&&D}}return D&&!S.defaultPrevented}function _y(c,m,y){if(typeof c=="function")y&&(c=p(c,y));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Ey(c){c.g=_y(()=>{c.g=null,c.i&&(c.i=!1,Ey(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class A2 extends ie{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ey(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Do(c){ie.call(this),this.h=c,this.g={}}T(Do,ie);var Ty=[];function Sy(c){F(c.g,function(m,y){this.g.hasOwnProperty(y)&&Hn(m)},c),c.g={}}Do.prototype.N=function(){Do.aa.N.call(this),Sy(this)},Do.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kd=a.JSON.stringify,N2=a.JSON.parse,P2=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Qd(){}Qd.prototype.h=null;function by(c){return c.h||(c.h=c.i())}function Iy(){}var Vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yd(){xe.call(this,"d")}T(Yd,xe);function Xd(){xe.call(this,"c")}T(Xd,xe);var ws={},ky=null;function Ml(){return ky=ky||new dt}ws.La="serverreachability";function Cy(c){xe.call(this,ws.La,c)}T(Cy,xe);function Mo(c){const m=Ml();bt(m,new Cy(m))}ws.STAT_EVENT="statevent";function Ay(c,m){xe.call(this,ws.STAT_EVENT,c),this.stat=m}T(Ay,xe);function It(c){const m=Ml();bt(m,new Ay(m,c))}ws.Ma="timingevent";function Ny(c,m){xe.call(this,ws.Ma,c),this.size=m}T(Ny,xe);function Lo(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Oo(){this.g=!0}Oo.prototype.xa=function(){this.g=!1};function R2(c,m,y,S,D,O){c.info(function(){if(c.g)if(O)for(var W="",we=O.split("&"),rt=0;rt<we.length;rt++){var me=we[rt].split("=");if(1<me.length){var ht=me[0];me=me[1];var ft=ht.split("_");W=2<=ft.length&&ft[1]=="type"?W+(ht+"="+me+"&"):W+(ht+"=redacted&")}}else W=null;else W=O;return"XMLHTTP REQ ("+S+") [attempt "+D+"]: "+m+`
`+y+`
`+W})}function j2(c,m,y,S,D,O,W){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+D+"]: "+m+`
`+y+`
`+O+" "+W})}function ui(c,m,y,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+V2(c,y)+(S?" "+S:"")})}function D2(c,m){c.info(function(){return"TIMEOUT: "+m})}Oo.prototype.info=function(){};function V2(c,m){if(!c.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var S=y[c];if(!(2>S.length)){var D=S[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var W=1;W<D.length;W++)D[W]=""}}}}return Kd(y)}catch{return m}}var Ll={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Py={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jd;function Ol(){}T(Ol,Qd),Ol.prototype.g=function(){return new XMLHttpRequest},Ol.prototype.i=function(){return{}},Jd=new Ol;function yr(c,m,y,S){this.j=c,this.i=m,this.l=y,this.R=S||1,this.U=new Do(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ry}function Ry(){this.i=null,this.g="",this.h=!1}var jy={},Zd={};function eh(c,m,y){c.L=1,c.v=$l(Wn(m)),c.m=y,c.P=!0,Dy(c,null)}function Dy(c,m){c.F=Date.now(),Fl(c),c.A=Wn(c.v);var y=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ky(y.i,"t",S),c.C=0,y=c.j.J,c.h=new Ry,c.g=h0(c.j,y?m:null,!c.m),0<c.O&&(c.M=new A2(p(c.Y,c,c.g),c.O)),m=c.U,y=c.g,S=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Ty[0]=D.toString()),D=Ty);for(var O=0;O<D.length;O++){var W=he(y,D[O],S||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Mo(),R2(c.i,c.u,c.A,c.l,c.R,c.m)}yr.prototype.ca=function(c){c=c.target;const m=this.M;m&&qn(c)==3?m.j():this.Y(c)},yr.prototype.Y=function(c){try{if(c==this.g)e:{const ft=qn(this.g);var m=this.g.Ba();const fi=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||t0(this.g)))){this.J||ft!=4||m==7||(m==8||0>=fi?Mo(3):Mo(2)),th(this);var y=this.g.Z();this.X=y;t:if(Vy(this)){var S=t0(this.g);c="";var D=S.length,O=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_s(this),Fo(this);var W="";break t}this.h.i=new a.TextDecoder}for(m=0;m<D;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(O&&m==D-1)});S.length=0,this.h.g+=c,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,j2(this.i,this.u,this.A,this.l,this.R,ft,y),this.o){if(this.T&&!this.K){t:{if(this.g){var we,rt=this.g;if((we=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(we)){var me=we;break t}}me=null}if(y=me)ui(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nh(this,y);else{this.o=!1,this.s=3,It(12),_s(this),Fo(this);break e}}if(this.P){y=!0;let cn;for(;!this.J&&this.C<W.length;)if(cn=M2(this,W),cn==Zd){ft==4&&(this.s=4,It(14),y=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==jy){this.s=4,It(15),ui(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else ui(this.i,this.l,cn,null),nh(this,cn);if(Vy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||W.length!=0||this.h.h||(this.s=1,It(16),y=!1),this.o=this.o&&y,!y)ui(this.i,this.l,W,"[Invalid Chunked Response]"),_s(this),Fo(this);else if(0<W.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),lh(ht),ht.M=!0,It(11))}}else ui(this.i,this.l,W,null),nh(this,W);ft==4&&_s(this),this.o&&!this.J&&(ft==4?l0(this.j,this):(this.o=!1,Fl(this)))}else Z2(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),_s(this),Fo(this)}}}catch{}finally{}};function Vy(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function M2(c,m){var y=c.C,S=m.indexOf(`
`,y);return S==-1?Zd:(y=Number(m.substring(y,S)),isNaN(y)?jy:(S+=1,S+y>m.length?Zd:(m=m.slice(S,S+y),c.C=S+y,m)))}yr.prototype.cancel=function(){this.J=!0,_s(this)};function Fl(c){c.S=Date.now()+c.I,My(c,c.I)}function My(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lo(p(c.ba,c),m)}function th(c){c.B&&(a.clearTimeout(c.B),c.B=null)}yr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(D2(this.i,this.A),this.L!=2&&(Mo(),It(17)),_s(this),this.s=2,Fo(this)):My(this,this.S-c)};function Fo(c){c.j.G==0||c.J||l0(c.j,c)}function _s(c){th(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Sy(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function nh(c,m){try{var y=c.j;if(y.G!=0&&(y.g==c||rh(y.h,c))){if(!c.K&&rh(y.h,c)&&y.G==3){try{var S=y.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var D=S;if(D[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Kl(y),ql(y);else break e;ah(y),It(18)}}else y.za=D[1],0<y.za-y.T&&37500>D[2]&&y.F&&y.v==0&&!y.C&&(y.C=Lo(p(y.Za,y),6e3));if(1>=Fy(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ts(y,11)}else if((c.K||y.g==c)&&Kl(y),!v(m))for(D=y.Da.g.parse(m),m=0;m<D.length;m++){let me=D[m];if(y.T=me[0],me=me[1],y.G==2)if(me[0]=="c"){y.K=me[1],y.ia=me[2];const ht=me[3];ht!=null&&(y.la=ht,y.j.info("VER="+y.la));const ft=me[4];ft!=null&&(y.Aa=ft,y.j.info("SVER="+y.Aa));const fi=me[5];fi!=null&&typeof fi=="number"&&0<fi&&(S=1.5*fi,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const cn=c.g;if(cn){const Yl=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yl){var O=S.h;O.g||Yl.indexOf("spdy")==-1&&Yl.indexOf("quic")==-1&&Yl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(sh(O,O.h),O.h=null))}if(S.D){const ch=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(S.ya=ch,Te(S.I,S.D,ch))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var W=c;if(S.qa=d0(S,S.J?S.ia:null,S.W),W.K){Uy(S.h,W);var we=W,rt=S.L;rt&&(we.I=rt),we.B&&(th(we),Fl(we)),S.g=W}else o0(S);0<y.i.length&&Gl(y)}else me[0]!="stop"&&me[0]!="close"||Ts(y,7);else y.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Ts(y,7):oh(y):me[0]!="noop"&&y.l&&y.l.ta(me),y.v=0)}}Mo(4)}catch{}}var L2=class{constructor(c,m){this.g=c,this.map=m}};function Ly(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oy(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Fy(c){return c.h?1:c.g?c.g.size:0}function rh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function sh(c,m){c.g?c.g.add(m):c.h=m}function Uy(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ly.prototype.cancel=function(){if(this.i=By(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function By(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const y of c.g.values())m=m.concat(y.D);return m}return x(c.i)}function O2(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],y=c.length,S=0;S<y;S++)m.push(c[S]);return m}m=[],y=0;for(S in c)m[y++]=c[S];return m}function F2(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var y=0;y<c;y++)m.push(y);return m}m=[],y=0;for(const S in c)m[y++]=S;return m}}}function $y(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var y=F2(c),S=O2(c),D=S.length,O=0;O<D;O++)m.call(void 0,S[O],y&&y[O],c)}var zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U2(c,m){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var S=c[y].indexOf("="),D=null;if(0<=S){var O=c[y].substring(0,S);D=c[y].substring(S+1)}else O=c[y];m(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Es(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Es){this.h=c.h,Ul(this,c.j),this.o=c.o,this.g=c.g,Bl(this,c.s),this.l=c.l;var m=c.i,y=new $o;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Hy(this,y),this.m=c.m}else c&&(m=String(c).match(zy))?(this.h=!1,Ul(this,m[1]||"",!0),this.o=Uo(m[2]||""),this.g=Uo(m[3]||"",!0),Bl(this,m[4]),this.l=Uo(m[5]||"",!0),Hy(this,m[6]||"",!0),this.m=Uo(m[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}Es.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Bo(m,Wy,!0),":");var y=this.g;return(y||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Bo(m,Wy,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Bo(y,y.charAt(0)=="/"?z2:$2,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Bo(y,W2)),c.join("")};function Wn(c){return new Es(c)}function Ul(c,m,y){c.j=y?Uo(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Bl(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Hy(c,m,y){m instanceof $o?(c.i=m,q2(c.i,c.h)):(y||(m=Bo(m,H2)),c.i=new $o(m,c.h))}function Te(c,m,y){c.i.set(m,y)}function $l(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Uo(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bo(c,m,y){return typeof c=="string"?(c=encodeURI(c).replace(m,B2),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function B2(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wy=/[#\/\?@]/g,$2=/[#\?:]/g,z2=/[#\?]/g,H2=/[#\?@]/g,W2=/#/g;function $o(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function vr(c){c.g||(c.g=new Map,c.h=0,c.i&&U2(c.i,function(m,y){c.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=$o.prototype,t.add=function(c,m){vr(this),this.i=null,c=di(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(m),this.h+=1,this};function qy(c,m){vr(c),m=di(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Gy(c,m){return vr(c),m=di(c,m),c.g.has(m)}t.forEach=function(c,m){vr(this),this.g.forEach(function(y,S){y.forEach(function(D){c.call(m,D,S,this)},this)},this)},t.na=function(){vr(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let S=0;S<m.length;S++){const D=c[S];for(let O=0;O<D.length;O++)y.push(m[S])}return y},t.V=function(c){vr(this);let m=[];if(typeof c=="string")Gy(this,c)&&(m=m.concat(this.g.get(di(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)m=m.concat(c[y])}return m},t.set=function(c,m){return vr(this),this.i=null,c=di(this,c),Gy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Ky(c,m,y){qy(c,m),0<y.length&&(c.i=null,c.g.set(di(c,m),x(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var S=m[y];const O=encodeURIComponent(String(S)),W=this.V(S);for(S=0;S<W.length;S++){var D=O;W[S]!==""&&(D+="="+encodeURIComponent(String(W[S]))),c.push(D)}}return this.i=c.join("&")};function di(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function q2(c,m){m&&!c.j&&(vr(c),c.i=null,c.g.forEach(function(y,S){var D=S.toLowerCase();S!=D&&(qy(this,S),Ky(this,D,y))},c)),c.j=m}function G2(c,m){const y=new Oo;if(a.Image){const S=new Image;S.onload=g(xr,y,"TestLoadImage: loaded",!0,m,S),S.onerror=g(xr,y,"TestLoadImage: error",!1,m,S),S.onabort=g(xr,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=g(xr,y,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function K2(c,m){const y=new Oo,S=new AbortController,D=setTimeout(()=>{S.abort(),xr(y,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(O=>{clearTimeout(D),O.ok?xr(y,"TestPingServer: ok",!0,m):xr(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(D),xr(y,"TestPingServer: error",!1,m)})}function xr(c,m,y,S,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),S(y)}catch{}}function Q2(){this.g=new P2}function Y2(c,m,y){const S=y||"";try{$y(c,function(D,O){let W=D;d(D)&&(W=Kd(D)),m.push(S+O+"="+encodeURIComponent(W))})}catch(D){throw m.push(S+"type="+encodeURIComponent("_badmap")),D}}function zl(c){this.l=c.Ub||null,this.j=c.eb||!1}T(zl,Qd),zl.prototype.g=function(){return new Hl(this.l,this.j)},zl.prototype.i=function(c){return function(){return c}}({});function Hl(c,m){dt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Hl,dt),t=Hl.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ho(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?zo(this):Ho(this),this.readyState==3&&Qy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,zo(this))},t.Qa=function(c){this.g&&(this.response=c,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ho(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=m.next();return c.join(`\r
`)};function Ho(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yy(c){let m="";return F(c,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function ih(c,m,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=Yy(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Te(c,m,y))}function Ve(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ve,dt);var X2=/^https?$/i,J2=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jd.g(),this.v=this.o?by(this.o):by(Jd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(O){Xy(this,O);return}if(c=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var D in S)y.set(D,S[D]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const O of S.keys())y.set(O,S.get(O));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(O=>O.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(J2,m,void 0))||S||D||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,W]of y)this.g.setRequestHeader(O,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{e0(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){Xy(this,O)}};function Xy(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Jy(c),Wl(c)}function Jy(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,bt(this,"complete"),bt(this,"abort"),Wl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wl(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zy(this):this.bb())},t.bb=function(){Zy(this)};function Zy(c){if(c.h&&typeof o<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)_y(c.Ea,0,c);else if(bt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const W=c.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var S;if(S=W===0){var D=String(c.D).match(zy)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),S=!X2.test(D?D.toLowerCase():"")}y=S}if(y)bt(c,"complete"),bt(c,"success");else{c.m=6;try{var O=2<qn(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",Jy(c)}}finally{Wl(c)}}}}function Wl(c,m){if(c.g){e0(c);const y=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||bt(c,"ready");try{y.onreadystatechange=S}catch{}}}function e0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),N2(m)}};function t0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Z2(c){const m={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(v(c[S]))continue;var y=R(c[S]);const D=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const O=m[D]||[];m[D]=O,O.push(y)}I(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wo(c,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||m}function n0(c){this.Aa=0,this.i=[],this.j=new Oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wo("baseRetryDelayMs",5e3,c),this.cb=Wo("retryDelaySeedMs",1e4,c),this.Wa=Wo("forwardChannelMaxRetries",2,c),this.wa=Wo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ly(c&&c.concurrentRequestLimit),this.Da=new Q2,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=n0.prototype,t.la=8,t.G=1,t.connect=function(c,m,y,S){It(0),this.W=c,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=d0(this,null,this.W),Gl(this)};function oh(c){if(r0(c),c.G==3){var m=c.U++,y=Wn(c.I);if(Te(y,"SID",c.K),Te(y,"RID",m),Te(y,"TYPE","terminate"),qo(c,y),m=new yr(c,c.j,m),m.L=2,m.v=$l(Wn(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=h0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Fl(m)}u0(c)}function ql(c){c.g&&(lh(c),c.g.cancel(),c.g=null)}function r0(c){ql(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gl(c){if(!Oy(c.h)&&!c.s){c.s=!0;var m=c.Ga;q||ee(),B||(q(),B=!0),Y.add(m,c),c.B=0}}function ek(c,m){return Fy(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lo(p(c.Ga,c,m),c0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const D=new yr(this,this.j,c);let O=this.o;if(this.S&&(O?(O=_(O),C(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=i0(this,D,m),y=Wn(this.I),Te(y,"RID",c),Te(y,"CVER",22),this.D&&Te(y,"X-HTTP-Session-Id",this.D),qo(this,y),O&&(this.O?m="headers="+encodeURIComponent(String(Yy(O)))+"&"+m:this.m&&ih(y,this.m,O)),sh(this.h,D),this.Ua&&Te(y,"TYPE","init"),this.P?(Te(y,"$req",m),Te(y,"SID","null"),D.T=!0,eh(D,y,null)):eh(D,y,m),this.G=2}}else this.G==3&&(c?s0(this,c):this.i.length==0||Oy(this.h)||s0(this))};function s0(c,m){var y;m?y=m.l:y=c.U++;const S=Wn(c.I);Te(S,"SID",c.K),Te(S,"RID",y),Te(S,"AID",c.T),qo(c,S),c.m&&c.o&&ih(S,c.m,c.o),y=new yr(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),m&&(c.i=m.D.concat(c.i)),m=i0(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sh(c.h,y),eh(y,S,m)}function qo(c,m){c.H&&F(c.H,function(y,S){Te(m,S,y)}),c.l&&$y({},function(y,S){Te(m,S,y)})}function i0(c,m,y){y=Math.min(c.i.length,y);var S=c.l?p(c.l.Na,c.l,c):null;e:{var D=c.i;let O=-1;for(;;){const W=["count="+y];O==-1?0<y?(O=D[0].g,W.push("ofs="+O)):O=0:W.push("ofs="+O);let we=!0;for(let rt=0;rt<y;rt++){let me=D[rt].g;const ht=D[rt].map;if(me-=O,0>me)O=Math.max(0,D[rt].g-100),we=!1;else try{Y2(ht,W,"req"+me+"_")}catch{S&&S(ht)}}if(we){S=W.join("&");break e}}}return c=c.i.splice(0,y),m.D=c,S}function o0(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;q||ee(),B||(q(),B=!0),Y.add(m,c),c.v=0}}function ah(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lo(p(c.Fa,c),c0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,a0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lo(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),ql(this),a0(this))};function lh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function a0(c){c.g=new yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Wn(c.qa);Te(m,"RID","rpc"),Te(m,"SID",c.K),Te(m,"AID",c.T),Te(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(m,"TO",c.ja),Te(m,"TYPE","xmlhttp"),qo(c,m),c.m&&c.o&&ih(m,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=$l(Wn(m)),y.m=null,y.P=!0,Dy(y,c)}t.Za=function(){this.C!=null&&(this.C=null,ql(this),ah(this),It(19))};function Kl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function l0(c,m){var y=null;if(c.g==m){Kl(c),lh(c),c.g=null;var S=2}else if(rh(c.h,m))y=m.D,Uy(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var D=c.B;S=Ml(),bt(S,new Ny(S,y)),Gl(c)}else o0(c);else if(D=m.s,D==3||D==0&&0<m.X||!(S==1&&ek(c,m)||S==2&&ah(c)))switch(y&&0<y.length&&(m=c.h,m.i=m.i.concat(y)),D){case 1:Ts(c,5);break;case 4:Ts(c,10);break;case 3:Ts(c,6);break;default:Ts(c,2)}}}function c0(c,m){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*m}function Ts(c,m){if(c.j.info("Error code "+m),m==2){var y=p(c.fb,c),S=c.Xa;const D=!S;S=new Es(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ul(S,"https"),$l(S),D?G2(S.toString(),y):K2(S.toString(),y)}else It(2);c.G=0,c.l&&c.l.sa(m),u0(c),r0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function u0(c){if(c.G=0,c.ka=[],c.l){const m=By(c.h);(m.length!=0||c.i.length!=0)&&(A(c.ka,m),A(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function d0(c,m,y){var S=y instanceof Es?Wn(y):new Es(y);if(S.g!="")m&&(S.g=m+"."+S.g),Bl(S,S.s);else{var D=a.location;S=D.protocol,m=m?m+"."+D.hostname:D.hostname,D=+D.port;var O=new Es(null);S&&Ul(O,S),m&&(O.g=m),D&&Bl(O,D),y&&(O.l=y),S=O}return y=c.D,m=c.ya,y&&m&&Te(S,y,m),Te(S,"VER",c.la),qo(c,S),S}function h0(c,m,y){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ve(new zl({eb:y})):new Ve(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function f0(){}t=f0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ql(){}Ql.prototype.g=function(c,m){return new $t(c,m)};function $t(c,m){dt.call(this),this.g=new n0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!v(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new hi(this)}T($t,dt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){oh(this.g)},$t.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Kd(c),c=y);m.i.push(new L2(m.Ya++,c)),m.G==3&&Gl(m)},$t.prototype.N=function(){this.g.l=null,delete this.j,oh(this.g),delete this.g,$t.aa.N.call(this)};function p0(c){Yd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const y in m){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}T(p0,Yd);function m0(){Xd.call(this),this.status=1}T(m0,Xd);function hi(c){this.g=c}T(hi,f0),hi.prototype.ua=function(){bt(this.g,"a")},hi.prototype.ta=function(c){bt(this.g,new p0(c))},hi.prototype.sa=function(c){bt(this.g,new m0)},hi.prototype.ra=function(){bt(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,ub=function(){return new Ql},cb=function(){return Ml()},lb=ws,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ll.NO_ERROR=0,Ll.TIMEOUT=8,Ll.HTTP_ERROR=6,Wc=Ll,Py.COMPLETE="complete",ab=Py,Iy.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ua=Iy,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,ob=Ve}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const ow="@firebase/firestore",aw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new kd("@firebase/firestore");function yi(){return Ys.logLevel}function G(t,...e){if(Ys.logLevel<=ae.DEBUG){const n=e.map(jg);Ys.debug(`Firestore (${Io}): ${t}`,...n)}}function hr(t,...e){if(Ys.logLevel<=ae.ERROR){const n=e.map(jg);Ys.error(`Firestore (${Io}): ${t}`,...n)}}function co(t,...e){if(Ys.logLevel<=ae.WARN){const n=e.map(jg);Ys.warn(`Firestore (${Io}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,db(t,r,n)}function db(t,e,n){let r=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hr(r),new Error(r)}function je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||db(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class tV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nV{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new hb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class rV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=oV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Fp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return sf(s)===sf(i)?le(s,i):sf(s)?1:-1}return le(t.length,e.length)}const aV=55296,lV=57343;function sf(t){const e=t.charCodeAt(0);return e>=aV&&e<=lV}function uo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="__name__";class In{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return In.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof In?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=In.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return le(e.length,n.length)}static compareSegments(e,n){const r=In.isNumericId(e),s=In.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?In.extractNumericId(e).compare(In.extractNumericId(n)):Fp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class ke extends In{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const cV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends In{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return cV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cw}static keyField(){return new wt([cw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(ke.fromString(e))}static fromName(e){return new Z(ke.fromString(e).popFirst(5))}static empty(){return new Z(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new ke(e.slice()))}}function uV(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uw(t){if(Z.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ad(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function Up(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ad(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function Il(t,e){if(!pb(t))throw new Q(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=-62135596800,hw=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hw);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dw)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hw}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Il(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:qe("string",Ce._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new Ce(0,0))}static max(){return new re(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=-1;function dV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=re.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new is(s,Z.empty(),e)}function hV(t){return new is(t.readTime,t.key,il)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(re.min(),Z.empty(),il)}static max(){return new is(re.max(),Z.empty(),il)}}function fV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==pV)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function gV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=-1;function Rd(t){return t==null}function ju(t){return t===0&&1/t==-1/0}function vV(t){return typeof t=="number"&&Number.isInteger(t)&&!ju(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="";function xV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fw(e)),e=wV(t.get(n),e);return fw(e)}function wV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case mb:n+="";break;default:n+=i}}return n}function fw(t){return t+mb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=i??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new it(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mw(this.data.getIterator())}getIteratorFrom(e){return new mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Mr([])}unionWith(e){let n=new Ye(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yb("Invalid base64 string: "+i):i}}(e);return new lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const _V=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=_V.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function as(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="server_timestamp",xb="__type__",wb="__previous_value__",_b="__local_write_time__";function Dg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xb])==null?void 0:r.stringValue)===vb}function jd(t){const e=t.mapValue.fields[wb];return Dg(e)?jd(e):e}function ol(t){const e=os(t.mapValue.fields[_b].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const Du="(default)";class al{constructor(e,n){this.projectId=e,this.database=n||Du}static empty(){return new al("","")}get isDefaultDatabase(){return this.database===Du}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",TV="__max__",Ec={mapValue:{}},Tb="__vector__",Vu="value";function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dg(t)?4:bV(t)?9007199254740991:SV(t)?10:11:se(28295,{value:t})}function Bn(t,e){if(t===e)return!0;const n=ls(t);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ol(t).isEqual(ol(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=os(s.timestampValue),a=os(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return as(s.bytesValue).isEqual(as(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Oe(s.geoPointValue.latitude)===Oe(i.geoPointValue.latitude)&&Oe(s.geoPointValue.longitude)===Oe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Oe(s.integerValue)===Oe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Oe(s.doubleValue),a=Oe(i.doubleValue);return o===a?ju(o)===ju(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(pw(o)!==pw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bn(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function ll(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function ho(t,e){if(t===e)return 0;const n=ls(t),r=ls(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Oe(i.integerValue||i.doubleValue),l=Oe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gw(t.timestampValue,e.timestampValue);case 4:return gw(ol(t),ol(e));case 5:return Fp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=as(i),l=as(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=le(a[d],l[d]);if(h!==0)return h}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=le(Oe(i.latitude),Oe(o.latitude));return a!==0?a:le(Oe(i.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,T,x;const a=i.fields||{},l=o.fields||{},d=(p=a[Vu])==null?void 0:p.arrayValue,h=(g=l[Vu])==null?void 0:g.arrayValue,f=le(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:yw(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ec.mapValue&&o===Ec.mapValue)return 0;if(i===Ec.mapValue)return 1;if(o===Ec.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Fp(l[f],h[f]);if(p!==0)return p;const g=ho(a[l[f]],d[h[f]]);if(g!==0)return g}return le(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=os(t),r=os(e),s=le(n.seconds,r.seconds);return s!==0?s:le(n.nanos,r.nanos)}function yw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ho(n[s],r[s]);if(i)return i}return le(n.length,r.length)}function fo(t){return Bp(t)}function Bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return as(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Bp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Bp(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function qc(t){switch(ls(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(t);return e?16+qc(e):16;case 5:return 2*t.stringValue.length;case 6:return as(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+qc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Co(r.fields,(i,o)=>{s+=i.length+qc(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function vw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $p(t){return!!t&&"integerValue"in t}function Vg(t){return!!t&&"arrayValue"in t}function xw(t){return!!t&&"nullValue"in t}function ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function of(t){return!!t&&"mapValue"in t}function SV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Eb])==null?void 0:r.stringValue)===Tb}function Na(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Na(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Na(t.arrayValue.values[n]);return e}return{...t}}function bV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!of(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Na(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];of(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new An(Na(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,re.min(),re.min(),re.min(),An.empty(),0)}static newFoundDocument(e,n,r,s){return new xt(e,1,n,re.min(),r,s,0)}static newNoDocument(e,n){return new xt(e,2,n,re.min(),re.min(),An.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,re.min(),re.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.position=e,this.inclusive=n}}function _w(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=ho(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ew(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function IV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{}class We extends Sb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CV(e,n,r):n==="array-contains"?new PV(e,r):n==="in"?new RV(e,r):n==="not-in"?new jV(e,r):n==="array-contains-any"?new DV(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AV(e,r):new NV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends Sb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new En(e,n)}matches(e){return bb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bb(t){return t.op==="and"}function Ib(t){return kV(t)&&bb(t)}function kV(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function zp(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(Ib(t))return t.filters.map(e=>zp(e)).join(",");{const e=t.filters.map(n=>zp(n)).join(",");return`${t.op}(${e})`}}function kb(t,e){return t instanceof We?function(r,s){return s instanceof We&&r.op===s.op&&r.field.isEqual(s.field)&&Bn(r.value,s.value)}(t,e):t instanceof En?function(r,s){return s instanceof En&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&kb(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function Cb(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(Cb).join(" ,")+"}"}(t):"Filter"}class CV extends We{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class AV extends We{constructor(e,n){super(e,"in",n),this.keys=Ab("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NV extends We{constructor(e,n){super(e,"not-in",n),this.keys=Ab("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ab(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class PV extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vg(n)&&ll(n.arrayValue,this.value)}}class RV extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}}class jV extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ll(this.value.arrayValue,n)}}class DV extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Tw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new VV(t,e,n,r,s,i,o)}function Mg(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fo(r)).join(",")),e.Te=n}return e.Te}function Lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ew(t.startAt,e.startAt)&&Ew(t.endAt,e.endAt)}function Hp(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MV(t,e,n,r,s,i,o,a){return new kl(t,e,n,r,s,i,o,a)}function Nb(t){return new kl(t)}function Sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Pb(t){return t.collectionGroup!==null}function Pa(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Lu(i,r))}),n.has(wt.keyField().canonicalString())||e.Ie.push(new Lu(wt.keyField(),r))}return e.Ie}function Dn(t){const e=de(t);return e.Ee||(e.Ee=LV(e,Pa(t))),e.Ee}function LV(t,e){if(t.limitType==="F")return Tw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Lu(s.field,i)});const n=t.endAt?new Mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mu(t.startAt.position,t.startAt.inclusive):null;return Tw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wp(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qp(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dd(t,e){return Lg(Dn(t),Dn(e))&&t.limitType===e.limitType}function Rb(t){return`${Mg(Dn(t))}|lt:${t.limitType}`}function vi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Cb(s)).join(", ")}]`),Rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fo(s)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Pa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=_w(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Pa(r),s)||r.endAt&&!function(o,a,l){const d=_w(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Pa(r),s))}(t,e)}function OV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jb(t){return(e,n)=>{let r=!1;for(const s of Pa(t)){const i=FV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FV(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?ho(l,d):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return gb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new Ue(Z.comparator);function cs(){return UV}const Db=new Ue(Z.comparator);function da(...t){let e=Db;for(const n of t)e=e.insert(n.key,n);return e}function BV(t){let e=Db;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ms(){return Ra()}function Vb(){return Ra()}function Ra(){return new li(t=>t.toString(),(t,e)=>t.isEqual(e))}const $V=new Ye(Z.comparator);function fe(...t){let e=$V;for(const n of t)e=e.add(n);return e}const zV=new Ye(le);function HV(){return zV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ju(e)?"-0":e}}function Mb(t){return{integerValue:""+t}}function WV(t,e){return vV(e)?Mb(e):Og(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function qV(t,e,n){return t instanceof Gp?function(s,i){const o={fields:{[xb]:{stringValue:vb},[_b]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Dg(i)&&(i=jd(i)),i&&(o.fields[wb]=i),{mapValue:o}}(n,e):t instanceof Ou?Lb(t,e):t instanceof Fu?Ob(t,e):function(s,i){const o=KV(s,i),a=bw(o)+bw(s.Ae);return $p(o)&&$p(s.Ae)?Mb(a):Og(s.serializer,a)}(t,e)}function GV(t,e,n){return t instanceof Ou?Lb(t,e):t instanceof Fu?Ob(t,e):n}function KV(t,e){return t instanceof Kp?function(r){return $p(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gp extends Md{}class Ou extends Md{constructor(e){super(),this.elements=e}}function Lb(t,e){const n=Fb(e);for(const r of t.elements)n.some(s=>Bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fu extends Md{constructor(e){super(),this.elements=e}}function Ob(t,e){let n=Fb(e);for(const r of t.elements)n=n.filter(s=>!Bn(s,r));return{arrayValue:{values:n}}}class Kp extends Md{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bw(t){return Oe(t.integerValue||t.doubleValue)}function Fb(t){return Vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ou&&s instanceof Ou||r instanceof Fu&&s instanceof Fu?uo(r.elements,s.elements,Bn):r instanceof Kp&&s instanceof Kp?Bn(r.Ae,s.Ae):r instanceof Gp&&s instanceof Gp}(t.transform,e.transform)}class $s{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $s}static exists(e){return new $s(void 0,e)}static updateTime(e){return new $s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fg{}function Ub(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new XV(t.key,$s.none()):new Ug(t.key,t.data,$s.none());{const n=t.data,r=An.empty();let s=new Ye(wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ld(t.key,r,new Mr(s.toArray()),$s.none())}}function YV(t,e,n){t instanceof Ug?function(s,i,o){const a=s.value.clone(),l=kw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ld?function(s,i,o){if(!Gc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=kw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Bb(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ja(t,e,n,r){return t instanceof Ug?function(i,o,a,l){if(!Gc(i.precondition,o))return a;const d=i.value.clone(),h=Cw(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ld?function(i,o,a,l){if(!Gc(i.precondition,o))return a;const d=Cw(i.fieldTransforms,l,o),h=o.data;return h.setAll(Bb(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Gc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Iw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uo(r,s,(i,o)=>QV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ug extends Fg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ld extends Fg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Bb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kw(t,e,n){const r=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,GV(o,a,n[s]))}return r}function Cw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,qV(i,o,e))}return r}class XV extends Fg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&YV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Vb();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Ub(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,r)=>Iw(n,r))&&uo(this.baseMutations,e.baseMutations,(n,r)=>Iw(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,ue;function $b(t){if(t===void 0)return hr("GRPC error has no .code"),z.UNKNOWN;switch(t){case $e.OK:return z.OK;case $e.CANCELLED:return z.CANCELLED;case $e.UNKNOWN:return z.UNKNOWN;case $e.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case $e.INTERNAL:return z.INTERNAL;case $e.UNAVAILABLE:return z.UNAVAILABLE;case $e.UNAUTHENTICATED:return z.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case $e.NOT_FOUND:return z.NOT_FOUND;case $e.ALREADY_EXISTS:return z.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return z.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case $e.ABORTED:return z.ABORTED;case $e.OUT_OF_RANGE:return z.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return z.UNIMPLEMENTED;case $e.DATA_LOSS:return z.DATA_LOSS;default:return se(39323,{code:t})}}(ue=$e||($e={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new Xr([4294967295,4294967295],0);function Aw(t){const e=tM().encode(t),n=new ib;return n.update(e),new Uint8Array(n.digest())}function Nw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Xr([n,r],0),new Xr([s,i],0)]}class Bg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ha(`Invalid padding: ${n}`);if(r<0)throw new ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ha(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Xr.fromNumber(r)));return s.compare(nM)===1&&(s=new Xr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Aw(e),[r,s]=Nw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Aw(e),[r,s]=Nw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Od(re.min(),s,new Ue(le),cs(),fe())}}class Cl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cl(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class zb{constructor(e,n){this.targetId=e,this.Ce=n}}class Hb{constructor(e,n,r=lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Pw{constructor(){this.ve=0,this.Fe=Rw(),this.Me=lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new Cl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Rw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rM{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=Tc(),this.He=Tc(),this.Ye=new Ue(le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Hp(i))if(r===0){const o=new Z(i.path);this.et(n,o,xt.newNoDocument(o,re.min()))}else je(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=as(r).toUint8Array()}catch(l){if(l instanceof yb)return co("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Bg(o,s,i)}catch(l){return co(l instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Hp(a.target)){const l=new Z(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,xt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=fe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Od(e,n,this.Ye,this.je,r);return this.je=cs(),this.Je=Tc(),this.He=Tc(),this.Ye=new Ue(le),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Pw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ye(le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ye(le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tc(){return new Ue(Z.comparator)}function Rw(){return new Ue(Z.comparator)}const sM={asc:"ASCENDING",desc:"DESCENDING"},iM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oM={and:"AND",or:"OR"};class aM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qp(t,e){return t.useProto3Json||Rd(e)?e:{value:e}}function Yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hi(t){return je(!!t,49232),re.fromTimestamp(function(n){const r=os(n);return new Ce(r.seconds,r.nanos)}(t))}function qb(t,e){return Xp(t,e).canonicalString()}function Xp(t,e){const n=function(s){return new ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Gb(t){const e=ke.fromString(t);return je(Jb(e),10190,{key:e.toString()}),e}function af(t,e){const n=Gb(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(Qb(n))}function Kb(t,e){return qb(t.databaseId,e)}function lM(t){const e=Gb(t);return e.length===4?ke.emptyPath():Qb(e)}function jw(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qb(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(je(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?z.UNKNOWN:$b(d.code);return new Q(h,d.message||"")}(o);n=new Hb(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=af(t,r.document.name),i=Hi(r.document.updateTime),o=r.document.createTime?Hi(r.document.createTime):re.min(),a=new An({mapValue:{fields:r.document.fields}}),l=xt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Kc(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=af(t,r.document),i=r.readTime?Hi(r.readTime):re.min(),o=xt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Kc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=af(t,r.document),i=r.removedTargetIds||[];n=new Kc([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new eM(s,i),a=r.targetId;n=new zb(a,o)}}return n}function uM(t,e){return{documents:[Kb(t,e.path)]}}function dM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Kb(t,s);const i=function(d){if(d.length!==0)return Xb(En.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:xi(p.field),direction:pM(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Qp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function hM(t){let e=lM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=Yb(f);return p instanceof En&&Ib(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(T){return new Lu(wi(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Rd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Mu(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,g=f.values||[];return new Mu(g,p)}(n.endAt)),MV(e,s,o,i,a,"F",l,d)}function fM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wi(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wi(n.unaryFilter.field);return We.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wi(n.unaryFilter.field);return We.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wi(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return We.create(wi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(r=>Yb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function pM(t){return sM[t]}function mM(t){return iM[t]}function gM(t){return oM[t]}function xi(t){return{fieldPath:t.canonicalString()}}function wi(t){return wt.fromServerFormat(t.fieldPath)}function Xb(t){return t instanceof We?function(n){if(n.op==="=="){if(ww(n.value))return{unaryFilter:{field:xi(n.field),op:"IS_NAN"}};if(xw(n.value))return{unaryFilter:{field:xi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ww(n.value))return{unaryFilter:{field:xi(n.field),op:"IS_NOT_NAN"}};if(xw(n.value))return{unaryFilter:{field:xi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xi(n.field),op:mM(n.op),value:n.value}}}(t):t instanceof En?function(n){const r=n.getFilters().map(s=>Xb(s));return r.length===1?r[0]:{compositeFilter:{op:gM(n.op),filters:r}}}(t):se(54877,{filter:t})}function Jb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,s,i=re.min(),o=re.min(),a=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.yt=e}}function vM(t){const e=hM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Cn=new wM}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(is.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class wM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ye(ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ye(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class Vt{static withCacheSize(e){return new Vt(e,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt.DEFAULT_COLLECTION_PERCENTILE=10,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vt.DEFAULT=new Vt(Zb,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vt.DISABLED=new Vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="LruGarbageCollector",_M=1048576;function Mw([t,e],[n,r]){const s=le(t,n);return s===0?le(e,r):s}class EM{constructor(e){this.Ir=e,this.buffer=new Ye(Mw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Mw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(Vw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?G(Vw,"Ignoring IndexedDB error during garbage collection: ",n):await Nd(n)}await this.Vr(3e5)})}}class SM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Pd.ce);const r=new EM(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Dw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),yi()<=ae.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function bM(t,e){return new SM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.changes=new li(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ja(r.mutation,s,Mr.empty(),Ce.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const s=Ms();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=da();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ms();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=cs();const o=Ra(),a=function(){return Ra()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ld)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ja(h.mutation,d,h.mutation.getFieldMask(),Ce.now())):o.set(d.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new kM(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ra();let s=new Ue((o,a)=>o-a),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Mr.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||fe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=Vb();h.forEach(p=>{if(!i.has(p)){const g=Ub(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Pb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Ms());let a=il,l=i;return o.next(d=>U.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,fe())).next(h=>({batchId:a,changes:BV(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=da();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=da();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const d=function(f,p){return new kl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let a=da();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&ja(h.mutation,d,Mr.empty(),Ce.now()),Vd(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Hi(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:vM(s.bundledQuery),readTime:Hi(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.overlays=new Ue(Z.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ms();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ms(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ms(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ms(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZV(n,r));let i=this.qr.get(n);i===void 0&&(i=fe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Qr=new Ye(et.$r),this.Ur=new Ye(et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new et(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new ke([])),r=new et(n,e),s=new et(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new ke([])),r=new et(n,e),s=new et(n,e+1);let i=fe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new et(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||le(e.Yr,n.Yr)}static Kr(e,n){return le(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(et.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?yV:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),s=new et(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(le);return n.forEach(s=>{const i=new et(s,0),o=new et(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new et(new Z(i),0);let a=new Ye(le);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new et(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.ri=e,this.docs=function(){return new Ue(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():xt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=cs();const o=n.path,a=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||fV(hV(h),r)<=0||(s.has(h.key)||Vd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DM(this)}getSize(e){return U.resolve(this.size)}}class DM extends IM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.persistence=e,this.si=new li(n=>Mg(n),Lg),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new $g,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pd(0),this.li=!1,this.li=!0,this.hi=new PM,this.referenceDelegate=e(this),this.Pi=new VM(this),this.indexManager=new xM,this.remoteDocumentCache=function(s){return new jM(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new yM(n),this.Ii=new AM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new RM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new MM(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class MM extends mV{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.Ri=new $g,this.Vi=null}static mi(e){return new zg(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=Z.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uu{constructor(e,n){this.persistence=e,this.pi=new li(r=>xV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=bM(this,n)}static mi(e,n){return new Uu(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,re.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qc(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=fe(),s=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return jD()?8:gV(Tt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new LM;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(yi()<=ae.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",vi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(yi()<=ae.DEBUG&&G("QueryEngine","Query:",vi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(yi()<=ae.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",vi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):U.resolve())}ys(e,n){if(Sw(n))return U.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=qp(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=fe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,qp(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return Sw(n)||s.isEqual(re.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(yi()<=ae.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vi(n)),this.vs(e,o,n,dV(s,il)).next(a=>a))})}Ds(e,n){let r=new Ye(jb(e));return n.forEach((s,i)=>{Vd(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return yi()<=ae.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",vi(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="LocalStore",FM=3e8;class UM{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ue(le),this.xs=new li(i=>Mg(i),Lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function BM(t,e,n,r){return new UM(t,e,n,r)}async function tI(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=fe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function nI(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function $M(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(lt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(x,A,w){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=FM?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&a.push(n.Pi.updateTargetData(i,g))});let l=cs(),d=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(zM(i,o,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(re.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function zM(t,e,n){let r=fe(),s=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=cs();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(Wg,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:s}})}function HM(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Lr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Jp(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ko(o))throw o;G(Wg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Lw(t,e,n){const r=de(t);let s=re.min(),i=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=de(l),p=f.xs.get(h);return p!==void 0?U.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,Dn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:re.min(),n?i:fe())).next(a=>(WM(r,OV(e),a),{documents:a,Qs:i})))}function WM(t,e,n){let r=t.Os.get(e)||re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Ow{constructor(){this.activeTargetIds=HV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qM{constructor(){this.Mo=new Ow,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="ConnectivityMonitor";class Uw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(Fw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(Fw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function Zp(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="RestConnection",KM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Du?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Zp(),a=this.zo(e,n.toUriEncodedString());G(lf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(a),h=bo(d);return this.Jo(e,a,l,r,h).then(f=>(G(lf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw co(lf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=KM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class XM extends QM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Zp();return new Promise((a,l)=>{const d=new ob;d.setWithCredentials(!0),d.listenOnce(ab.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Wc.NO_ERROR:const f=d.getResponseJson();G(gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Wc.TIMEOUT:G(gt,`RPC '${e}' ${o} timed out`),l(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const p=d.getStatus();if(G(gt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const x=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(T.status);l(new Q(x,T.message))}else l(new Q(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Q(z.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{G(gt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);G(gt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Zp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ub(),a=cb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");G(gt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let p=!1,g=!1;const T=new YM({Yo:A=>{g?G(gt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(p||(G(gt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(gt,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},Zo:()=>f.close()}),x=(A,w,v)=>{A.listen(w,E=>{try{v(E)}catch(P){setTimeout(()=>{throw P},0)}})};return x(f,ua.EventType.OPEN,()=>{g||(G(gt,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),x(f,ua.EventType.CLOSE,()=>{g||(g=!0,G(gt,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(f))}),x(f,ua.EventType.ERROR,A=>{g||(g=!0,co(gt,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),x(f,ua.EventType.MESSAGE,A=>{var w;if(!g){const v=A.data[0];je(!!v,16349);const E=v,P=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(P){G(gt,`RPC '${e}' stream ${s} received error:`,P);const L=P.status;let F=function(b){const C=$e[b];if(C!==void 0)return $b(C)}(L),I=P.message;F===void 0&&(F=z.INTERNAL,I="Unknown error status: "+L+" with message "+P.message),g=!0,T.a_(new Q(F,I)),f.close()}else G(gt,`RPC '${e}' stream ${s} received:`,v),T.u_(v)}}),x(a,lb.STAT_EVENT,A=>{A.stat===Op.PROXY?G(gt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Op.NOPROXY&&G(gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new aM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="PersistentStream";class JM{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(Bw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(Bw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZM extends JM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cM(this.serializer,e),r=function(i){if(!("targetChange"in i))return re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Hi(o.readTime):re.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Hp(l)?{documents:uM(i,l)}:{query:dM(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Wb(i,o.resumeToken);const d=Qp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Yp(i,o.snapshotVersion.toTimestamp());const d=Qp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=fM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jw(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{}class tL extends eL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Xp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Xp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class nL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class rL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Nl(this)&&(G(mo,"Restarting streams for network reachability change."),await async function(l){const d=de(l);d.Ea.add(4),await Al(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ud(d)}(this))})}),this.Ra=new nL(r,s)}}async function Ud(t){if(Nl(t))for(const e of t.da)await e(!0)}async function Al(t){for(const e of t.da)await e(!1)}function sI(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qg(n)?Kg(n):Ao(n).O_()&&Gg(n,e))}function qg(t,e){const n=de(t),r=Ao(n);n.Ia.delete(e),r.O_()&&iI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Nl(n)&&n.Ra.set("Unknown"))}function Gg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).Y_(e)}function iI(t,e){t.Va.Ue(e),Ao(t).Z_(e)}function Kg(t){t.Va=new rM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.Ra.ua()}function Qg(t){return Nl(t)&&!Ao(t).x_()&&t.Ia.size>0}function Nl(t){return de(t).Ea.size===0}function oI(t){t.Va=void 0}async function sL(t){t.Ra.set("Online")}async function iL(t){t.Ia.forEach((e,n)=>{Gg(t,e)})}async function oL(t,e){oI(t),Qg(t)?(t.Ra.ha(e),Kg(t)):t.Ra.set("Unknown")}async function aL(t,e,n){if(t.Ra.set("Online"),e instanceof Hb&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){G(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $w(t,r)}else if(e instanceof Kc?t.Va.Ze(e):e instanceof zb?t.Va.st(e):t.Va.tt(e),!n.isEqual(re.min()))try{const r=await nI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),iI(i,l);const f=new Lr(h.target,l,d,h.sequenceNumber);Gg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(mo,"Failed to raise snapshot:",r),await $w(t,r)}}async function $w(t,e,n){if(!ko(e))throw e;t.Ea.add(1),await Al(t),t.Ra.set("Offline"),n||(n=()=>nI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(mo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ud(t)})}async function zw(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),G(mo,"RemoteStore received new credentials");const r=Nl(n);n.Ea.add(3),await Al(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ud(n)}async function lL(t,e){const n=de(t);e?(n.Ea.delete(2),await Ud(n)):e||(n.Ea.add(2),await Al(n),n.Ra.set("Unknown"))}function Ao(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new ZM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:sL.bind(null,t),t_:iL.bind(null,t),r_:oL.bind(null,t),H_:aL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Qg(t)?Kg(t):t.Ra.set("Unknown")):(await t.ma.stop(),oI(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Yg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aI(t,e){if(hr("AsyncQueue",`${e}: ${t}`),ko(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{static emptySet(e){return new Wi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=da(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.ga=new Ue(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class go{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new go(e,n,Wi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class uL{constructor(){this.queries=Ww(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=Ww(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function Ww(){return new li(t=>Rb(t),Dd)}async function dL(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new cL,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=aI(o,`Initialization of query '${vi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Xg(n)}async function hL(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fL(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Xg(n)}function pL(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Xg(t){t.Ca.forEach(e=>{e.next()})}var em,qw;(qw=em||(em={})).Ma="default",qw.Cache="cache";class mL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.key=e}}class cI{constructor(e){this.key=e}}class gL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=jb(e),this.tu=new Wi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Hw,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Vd(this.query,f)?f:null,T=!!p&&this.mutatedKeys.has(p.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;p&&g?p.data.isEqual(g.data)?T!==x&&(r.track({type:3,doc:g}),A=!0):this.su(p,g)||(r.track({type:2,doc:g}),A=!0,(l&&this.eu(g,l)>0||d&&this.eu(g,d)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),A=!0):p&&!g&&(r.track({type:1,doc:p}),A=!0,(l||d)&&(a=!0)),A&&(g?(o=o.add(g),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,T){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:A})}};return x(g)-x(T)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new go(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new cI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new lI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jg="SyncEngine";class yL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vL{constructor(e){this.key=e,this.hu=!1}}class xL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new li(a=>Rb(a),Dd),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(Z.comparator),this.Au=new Map,this.Ru=new $g,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wL(t,e,n=!0){const r=pI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await uI(r,e,n,!0),s}async function _L(t,e){const n=pI(t);await uI(n,e,!0,!1)}async function uI(t,e,n,r){const s=await HM(t.localStore,Dn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await EL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&sI(t.remoteStore,s),a}async function EL(t,e,n,r,s){t.pu=(f,p,g)=>async function(x,A,w,v){let E=A.view.ru(w);E.Cs&&(E=await Lw(x.localStore,A.query,!1).then(({documents:I})=>A.view.ru(I,E)));const P=v&&v.targetChanges.get(A.targetId),L=v&&v.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges(E,x.isPrimaryClient,P,L);return Kw(x,A.targetId,F.au),F.snapshot}(t,f,p,g);const i=await Lw(t.localStore,e,!0),o=new gL(e,i.Qs),a=o.ru(i.documents),l=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);Kw(t,n,d.au);const h=new yL(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function TL(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Dd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&qg(r.remoteStore,s.targetId),tm(r,s.targetId)}).catch(Nd)):(tm(r,s.targetId),await Jp(r.localStore,s.targetId,!0))}async function SL(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qg(n.remoteStore,r.targetId))}async function dI(t,e){const n=de(t);try{const r=await $M(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?je(o.hu,14607):s.removedDocuments.size>0&&(je(o.hu,42227),o.hu=!1))}),await fI(n,r,e)}catch(r){await Nd(r)}}function Gw(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(d=!0)}),d&&Xg(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bL(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ue(Z.comparator);o=o.insert(i,xt.newNoDocument(i,re.min()));const a=fe().add(i),l=new Od(re.min(),new Map,new Ue(le),o,a);await dI(r,l),r.du=r.du.remove(i),r.Au.delete(e),Zg(r)}else await Jp(r.localStore,e,!1).then(()=>tm(r,e,n)).catch(Nd)}function tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||hI(t,r)})}function hI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zg(t))}function Kw(t,e,n){for(const r of n)r instanceof lI?(t.Ru.addReference(r.key,e),IL(t,r)):r instanceof cI?(G(Jg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hI(t,r.key)):se(19791,{wu:r})}function IL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(Jg,"New document in limbo: "+n),t.Eu.add(r),Zg(t))}function Zg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(ke.fromString(e)),r=t.fu.next();t.Au.set(r,new vL(n)),t.du=t.du.insert(n,r),sI(t.remoteStore,new Lr(Dn(Nb(n.path)),r,"TargetPurposeLimboResolution",Pd.ce))}}async function fI(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Hg.As(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,d){const h=de(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,p=>U.forEach(p.Es,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>U.forEach(p.ds,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!ko(f))throw f;G(Wg,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const g=h.Ms.get(p),T=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(p,x)}}}(r.localStore,i))}async function kL(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){G(Jg,"User change. New user:",e.toKey());const r=await tI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Q(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fI(n,r.Ls)}}function CL(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let s=fe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function pI(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bL.bind(null,e),e.Pu.H_=fL.bind(null,e.eventManager),e.Pu.yu=pL.bind(null,e.eventManager),e}class Bu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BM(this.persistence,new OM,e.initialUser,this.serializer)}Cu(e){return new eI(zg.mi,this.serializer)}Du(e){return new qM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bu.provider={build:()=>new Bu};class AL extends Bu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof Uu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vt.withCacheSize(this.cacheSizeBytes):Vt.DEFAULT;return new eI(r=>Uu.mi(r,n),this.serializer)}}class nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kL.bind(null,this.syncEngine),await lL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uL}()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),r=function(i){return new XM(i)}(e.databaseInfo);return function(i,o,a,l){return new tL(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new rL(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Gw(this.syncEngine,n,0),function(){return Uw.v()?new Uw:new GM}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new xL(s,i,o,a,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);G(mo,"RemoteStore shutting down."),i.Ea.add(5),await Al(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class PL{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yt.UNAUTHENTICATED,this.clientId=fb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(us,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(us,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function uf(t,e){t.asyncQueue.verifyOperationInProgress(),G(us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await tI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RL(t);G(us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>zw(e.remoteStore,s)),t._onlineComponents=e}async function RL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(us,"Using user provided OfflineComponentProvider");try{await uf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await uf(t,new Bu)}}else G(us,"Using default OfflineComponentProvider"),await uf(t,new AL(void 0));return t._offlineComponents}async function jL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(us,"Using user provided OnlineComponentProvider"),await Qw(t,t._uninitializedComponentsProvider._online)):(G(us,"Using default OnlineComponentProvider"),await Qw(t,new nm))),t._onlineComponents}async function DL(t){const e=await jL(t),n=e.eventManager;return n.onListen=wL.bind(null,e.syncEngine),n.onUnlisten=TL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_L.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SL.bind(null,e.syncEngine),n}function VL(t,e,n={}){const r=new Bs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new NL({next:p=>{h.Nu(),o.enqueueAndForget(()=>hL(i,f)),p.fromCache&&l.source==="server"?d.reject(new Q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new mL(a,h,{includeMetadataChanges:!0,qa:!0});return dL(i,f)}(await DL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firestore.googleapis.com",Xw=!0;class Jw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gI,this.ssl=Xw}else this.host=e.host,this.ssl=e.ssl??Xw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_M)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ey{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eV;switch(r.type){case"firstParty":return new sV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Yw.get(n);r&&(G("ComponentProvider","Removing Datastore"),Yw.delete(n),r.terminate())}(this),Promise.resolve()}}function ML(t,e,n,r={}){var d;t=Up(t,ey);const s=bo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(KS(`https://${a}`),QS("Firestore",!0)),i.host!==gI&&i.host!==a&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!ss(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=yt.MOCK_USER;else{h=bD(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yt(p)}t._authCredentials=new tV(new hb(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Il(n,Nt._jsonSchema))return new Nt(e,r||null,new Z(ke.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:qe("string",Nt._jsonSchemaVersion),referencePath:qe("string")};class qi extends No{constructor(e,n,r){super(e,n,Nb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new Z(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function LL(t,e,...n){if(t=ln(t),t instanceof ey){const r=ke.fromString(e,...n);return uw(r),new qi(t,null,r)}{if(!(t instanceof Nt||t instanceof qi))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return uw(r),new qi(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="AsyncQueue";class e1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rI(this,"async_queue_retry"),this._c=()=>{const r=cf();r&&G(Zw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Bs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;G(Zw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",t1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Yg.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:t1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function t1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yI extends ey{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new e1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function OL(t,e){const n=typeof t=="object"?t:Cd(),r=typeof t=="string"?t:Du,s=ai(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=TD("firestore");i&&ML(s,...i)}return s}function FL(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UL(t),t._firestoreClient}function UL(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,d,h){return new EV(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,mI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new PL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tn(lt.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tn(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Il(e,tn._jsonSchema))return tn.fromBase64String(e.bytes)}}tn._jsonSchemaVersion="firestore/bytes/1.0",tn._jsonSchema={type:qe("string",tn._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vn._jsonSchemaVersion}}static fromJSON(e){if(Il(e,Vn._jsonSchema))return new Vn(e.latitude,e.longitude)}}Vn._jsonSchemaVersion="firestore/geoPoint/1.0",Vn._jsonSchema={type:qe("string",Vn._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Il(e,Mn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mn(e.vectorValues);throw new Q(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mn._jsonSchemaVersion="firestore/vectorValue/1.0",Mn._jsonSchema={type:qe("string",Mn._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=/^__.*__$/;function wI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class ty{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wI(this.Ac)&&BL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $L{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(e)}Cc(e,n,r,s=!1){return new ty({Ac:e,methodName:n,Dc:r,path:wt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zL(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new $L(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HL(t,e,n,r=!1){return ny(n,t.Cc(r?4:3,e))}function ny(t,e){if(_I(t=ln(t)))return qL("Unsupported field value:",e,t),WL(t,e);if(t instanceof xI)return function(r,s){if(!wI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=ny(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ce.fromDate(r);return{timestampValue:Yp(s.serializer,i)}}if(r instanceof Ce){const i=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yp(s.serializer,i)}}if(r instanceof Vn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tn)return{bytesValue:Wb(s.serializer,r._byteString)};if(r instanceof Nt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mn)return function(o,a){return{mapValue:{fields:{[Eb]:{stringValue:Tb},[Vu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Og(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Ad(r)}`)}(t,e)}function WL(t,e){const n={};return gb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,s)=>{const i=ny(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function _I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Vn||t instanceof tn||t instanceof Nt||t instanceof xI||t instanceof Mn)}function qL(t,e,n){if(!_I(n)||!pb(n)){const r=Ad(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}const GL=new RegExp("[~\\*/\\[\\]]");function KL(t,e,n){if(e.search(GL)>=0)throw rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vI(...e.split("."))._internalPath}catch{throw rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q(z.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QL extends EI{data(){return super.data()}}function ry(t,e){return typeof e=="string"?KL(t,e):e instanceof vI?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sy{}class XL extends sy{}function JL(t,e,...n){let r=[];e instanceof sy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof iy).length,a=i.filter(l=>l instanceof Bd).length;if(o>1||o>0&&a>0)throw new Q(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Bd extends XL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bd(e,n,r)}_apply(e){const n=this._parse(e);return TI(e._query,n),new No(e.firestore,e.converter,Wp(e._query,n))}_parse(e){const n=zL(e.firestore);return function(i,o,a,l,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){r1(f,h);const T=[];for(const x of f)T.push(n1(l,i,x));p={arrayValue:{values:T}}}else p=n1(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||r1(f,h),p=HL(a,o,f,h==="in"||h==="not-in");return We.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ZL(t,e,n){const r=e,s=ry("where",t);return Bd._create(s,r,n)}class iy extends sy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)TI(o,l),o=Wp(o,l)}(e._query,n),new No(e.firestore,e.converter,Wp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function n1(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new Q(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pb(e)&&n.indexOf("/")!==-1)throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!Z.isDocumentKey(r))throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vw(t,new Z(r))}if(n instanceof Nt)return vw(t,n._key);throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ad(n)}.`)}function r1(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e6{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Vu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Oe(o.doubleValue));return new Mn(n)}convertGeoPoint(e){return new Vn(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const n=os(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);je(Jb(r),9688,{name:e});const s=new al(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||hr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gi extends EI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:qe("string",Gi._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Qc extends Gi{data(e={}){return super.data(e)}}class Ki{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new bc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qc(this._firestore,this._userDataWriter,r.key,r,new bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Qc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new bc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Qc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new bc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:t6(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ki._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}Ki._jsonSchemaVersion="firestore/querySnapshot/1.0",Ki._jsonSchema={type:qe("string",Ki._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class n6 extends e6{constructor(e){super(),this.firestore=e}convertBytes(e){return new tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function r6(t){t=Up(t,No);const e=Up(t.firestore,yI),n=FL(e),r=new n6(e);return YL(t._query),VL(n,t._query).then(s=>new Ki(e,r,t,s))}(function(e,n=!0){(function(s){Io=s})(gs),Un(new _n("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new yI(new nV(r.getProvider("auth-internal")),new iV(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),sn(ow,aw,e),sn(ow,aw,"esm2020")})();var s6="firebase",i6="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(s6,i6,"app");const SI="@firebase/installations",oy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1e4,II=`w:${oy}`,kI="FIS_v2",o6="https://firebaseinstallations.googleapis.com/v1",a6=60*60*1e3,l6="installations",c6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xs=new oi(l6,c6,u6);function CI(t){return t instanceof Tn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI({projectId:t}){return`${o6}/projects/${t}/installations`}function NI(t){return{token:t.token,requestStatus:2,expiresIn:h6(t.expiresIn),creationTime:Date.now()}}async function PI(t,e){const r=(await e.json()).error;return Xs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function RI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function d6(t,{refreshToken:e}){const n=RI(t);return n.append("Authorization",f6(e)),n}async function jI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function h6(t){return Number(t.replace("s","000"))}function f6(t){return`${kI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=AI(t),s=RI(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:kI,appId:t.appId,sdkVersion:II},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await jI(()=>fetch(r,a));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:NI(d.authToken)}}else throw await PI("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=/^[cdef][\w-]{21}$/,sm="";function y6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=v6(t);return g6.test(n)?n:sm}catch{return sm}}function v6(t){return m6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Map;function MI(t,e){const n=$d(t);LI(n,e),x6(n,e)}function LI(t,e){const n=VI.get(t);if(n)for(const r of n)r(e)}function x6(t,e){const n=w6();n&&n.postMessage({key:t,fid:e}),_6()}let Ls=null;function w6(){return!Ls&&"BroadcastChannel"in self&&(Ls=new BroadcastChannel("[Firebase] FID Change"),Ls.onmessage=t=>{LI(t.data.key,t.data.fid)}),Ls}function _6(){VI.size===0&&Ls&&(Ls.close(),Ls=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="firebase-installations-database",T6=1,Js="firebase-installations-store";let df=null;function ay(){return df||(df=tb(E6,T6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Js)}}})),df}async function $u(t,e){const n=$d(t),s=(await ay()).transaction(Js,"readwrite"),i=s.objectStore(Js),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&MI(t,e.fid),e}async function OI(t){const e=$d(t),r=(await ay()).transaction(Js,"readwrite");await r.objectStore(Js).delete(e),await r.done}async function zd(t,e){const n=$d(t),s=(await ay()).transaction(Js,"readwrite"),i=s.objectStore(Js),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&MI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ly(t){let e;const n=await zd(t.appConfig,r=>{const s=S6(r),i=b6(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===sm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function S6(t){const e=t||{fid:y6(),registrationStatus:0};return FI(e)}function b6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Xs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=I6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:k6(t)}:{installationEntry:e}}async function I6(t,e){try{const n=await p6(t,e);return $u(t.appConfig,n)}catch(n){throw CI(n)&&n.customData.serverCode===409?await OI(t.appConfig):await $u(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function k6(t){let e=await s1(t.appConfig);for(;e.registrationStatus===1;)await DI(100),e=await s1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ly(t);return r||n}return e}function s1(t){return zd(t,e=>{if(!e)throw Xs.create("installation-not-found");return FI(e)})}function FI(t){return C6(t)?{fid:t.fid,registrationStatus:0}:t}function C6(t){return t.registrationStatus===1&&t.registrationTime+bI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6({appConfig:t,heartbeatServiceProvider:e},n){const r=N6(t,n),s=d6(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:II,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await jI(()=>fetch(r,a));if(l.ok){const d=await l.json();return NI(d)}else throw await PI("Generate Auth Token",l)}function N6(t,{fid:e}){return`${AI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cy(t,e=!1){let n;const r=await zd(t.appConfig,i=>{if(!UI(i))throw Xs.create("not-registered");const o=i.authToken;if(!e&&j6(o))return i;if(o.requestStatus===1)return n=P6(t,e),i;{if(!navigator.onLine)throw Xs.create("app-offline");const a=V6(i);return n=R6(t,a),a}});return n?await n:r.authToken}async function P6(t,e){let n=await i1(t.appConfig);for(;n.authToken.requestStatus===1;)await DI(100),n=await i1(t.appConfig);const r=n.authToken;return r.requestStatus===0?cy(t,e):r}function i1(t){return zd(t,e=>{if(!UI(e))throw Xs.create("not-registered");const n=e.authToken;return M6(n)?{...e,authToken:{requestStatus:0}}:e})}async function R6(t,e){try{const n=await A6(t,e),r={...e,authToken:n};return await $u(t.appConfig,r),n}catch(n){if(CI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await $u(t.appConfig,r)}throw n}}function UI(t){return t!==void 0&&t.registrationStatus===2}function j6(t){return t.requestStatus===2&&!D6(t)}function D6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+a6}function V6(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function M6(t){return t.requestStatus===1&&t.requestTime+bI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t){const e=t,{installationEntry:n,registrationPromise:r}=await ly(e);return r?r.catch(console.error):cy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e=!1){const n=t;return await F6(n),(await cy(n,e)).token}async function F6(t){const{registrationPromise:e}=await ly(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){if(!t||!t.options)throw hf("App Configuration");if(!t.name)throw hf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hf(t){return Xs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="installations",B6="installations-internal",$6=t=>{const e=t.getProvider("app").getImmediate(),n=U6(e),r=ai(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},z6=t=>{const e=t.getProvider("app").getImmediate(),n=ai(e,BI).getImmediate();return{getId:()=>L6(n),getToken:s=>O6(n,s)}};function H6(){Un(new _n(BI,$6,"PUBLIC")),Un(new _n(B6,z6,"PRIVATE"))}H6();sn(SI,oy);sn(SI,oy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="analytics",W6="firebase_id",q6="origin",G6=60*1e3,K6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new kd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qt=new oi("analytics","Analytics",Q6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){if(!t.startsWith(uy)){const e=qt.create("invalid-gtag-resource",{gtagURL:t});return Bt.warn(e.message),""}return t}function $I(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function X6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function J6(t,e){const n=X6("firebase-js-sdk-policy",{createScriptURL:Y6}),r=document.createElement("script"),s=`${uy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Z6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eO(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await $I(n)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){Bt.error(a)}t("config",s,i)}async function tO(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await $I(n);for(const l of o){const d=a.find(f=>f.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Bt.error(i)}}function nO(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await tO(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await eO(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Bt.error(a)}}return s}function rO(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=nO(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function sO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(uy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=30,oO=1e3;class aO{constructor(e={},n=oO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zI=new aO;function lO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function cO(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:lO(n)},s=K6.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function uO(t,e=zI,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw qt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw qt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fO;return setTimeout(async()=>{a.abort()},G6),HI({appId:r,apiKey:s,measurementId:i},o,a,e)}async function HI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=zI){var a;const{appId:i,measurementId:o}=t;try{await dO(r,e)}catch(l){if(o)return Bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await cO(t);return s.deleteThrottleMetadata(i),l}catch(l){const d=l;if(!hO(d)){if(s.deleteThrottleMetadata(i),o)return Bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?Yx(n,s.intervalMillis,iO):Yx(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),Bt.debug(`Calling attemptFetch again in ${h} millis`),HI(t,f,r,s)}}function dO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hO(t){if(!(t instanceof Tn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class fO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(){if(XS())try{await JS()}catch(t){return Bt.warn(qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bt.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gO(t,e,n,r,s,i,o){const a=uO(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Bt.error(p)),e.push(a);const l=mO().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([a,l]);sO(i)||J6(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[q6]="firebase",f.update=!0,h!=null&&(f[W6]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.app=e}_delete(){return delete Da[this.app.options.appId],Promise.resolve()}}let Da={},o1=[];const a1={};let ff="dataLayer",vO="gtag",l1,WI,c1=!1;function xO(){const t=[];if(YS()&&t.push("This is a browser extension environment."),DD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=qt.create("invalid-analytics-context",{errorInfo:e});Bt.warn(n.message)}}function wO(t,e,n){xO();const r=t.options.appId;if(!r)throw qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qt.create("no-api-key");if(Da[r]!=null)throw qt.create("already-exists",{id:r});if(!c1){Z6(ff);const{wrappedGtag:i,gtagCore:o}=rO(Da,o1,a1,ff,vO);WI=i,l1=o,c1=!0}return Da[r]=gO(t,o1,a1,e,l1,ff,n),new yO(t)}function _O(t=Cd()){t=ln(t);const e=ai(t,zu);return e.isInitialized()?e.getImmediate():EO(t)}function EO(t,e={}){const n=ai(t,zu);if(n.isInitialized()){const s=n.getImmediate();if(ss(e,n.getOptions()))return s;throw qt.create("already-initialized")}return n.initialize({options:e})}function TO(t,e,n,r){t=ln(t),pO(WI,Da[t.app.options.appId],e,n,r).catch(s=>Bt.error(s))}const u1="@firebase/analytics",d1="0.10.18";function SO(){Un(new _n(zu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return wO(r,s,n)},"PUBLIC")),Un(new _n("analytics-internal",t,"PRIVATE")),sn(u1,d1),sn(u1,d1,"esm2020");function t(e){try{const n=e.getProvider(zu).getImmediate();return{logEvent:(r,s,i)=>TO(n,r,s,i)}}catch(n){throw qt.create("interop-component-reg-failed",{reason:n})}}}SO();function qI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bO=qI,GI=new oi("auth","Firebase",qI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new kd("@firebase/auth");function IO(t,...e){Hu.logLevel<=ae.WARN&&Hu.warn(`Auth (${gs}): ${t}`,...e)}function Yc(t,...e){Hu.logLevel<=ae.ERROR&&Hu.error(`Auth (${gs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw dy(t,...e)}function Ln(t,...e){return dy(t,...e)}function KI(t,e,n){const r={...bO(),[e]:n};return new oi("auth","Firebase",r).create(e,{appName:t.name})}function zs(t){return KI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GI.create(t,...e)}function ne(t,e,...n){if(!t)throw dy(e,...n)}function er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function pr(t,e){t||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function kO(){return h1()==="http:"||h1()==="https:"}function h1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kO()||YS()||"connection"in navigator)?navigator.onLine:!0}function AO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=CD()||PD()}get(){return CO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RO=new Pl(3e4,6e4);function fy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Po(t,e,n,r,s={}){return YI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=bl({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return ND()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&bo(t.emulatorConfig.host)&&(d.credentials="include"),QI.fetch()(await XI(t,t.config.apiHost,n,a),d)})}async function YI(t,e,n){t._canInitEmulator=!1;const r={...NO,...e};try{const s=new DO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ic(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ic(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw KI(t,h,d);fr(t,h)}}catch(s){if(s instanceof Tn)throw s;fr(t,"network-request-failed",{message:String(s)})}}async function jO(t,e,n,r,s={}){const i=await Po(t,e,n,r,s);return"mfaPendingCredential"in i&&fr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function XI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?hy(t.config,s):`${t.config.apiScheme}://${s}`;return PO.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class DO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),RO.get())})}}function Ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ln(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return Po(t,"POST","/v1/accounts:delete",e)}async function Wu(t,e){return Po(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MO(t,e=!1){const n=ln(t),r=await n.getIdToken(e),s=py(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Va(pf(s.auth_time)),issuedAtTime:Va(pf(s.iat)),expirationTime:Va(pf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function pf(t){return Number(t)*1e3}function py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const s=HS(n);return s?JSON.parse(s):(Yc("Failed to decode base64 JWT payload"),null)}catch(s){return Yc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function f1(t){const e=py(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tn&&LO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await cl(t,Wu(e,{idToken:n}));ne(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?JI(s.providerUserInfo):[],o=UO(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function FO(t){const e=ln(t);await qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e){const n=await YI(t,{},async()=>{const r=bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await XI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&bo(t.emulatorConfig.host)&&(l.credentials="include"),QI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $O(t,e){return Po(t,"POST","/v2/accounts:revokeToken",fy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=f1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await BO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Qi;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ne(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qi,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new OO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new om(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MO(this,e)}reload(){return FO(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await cl(this,VO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:T,stsTokenManager:x}=n;ne(f&&x,e,"internal-error");const A=Qi.fromJSON(this.name,x);ne(typeof f=="string",e,"internal-error"),_r(r,e.name),_r(s,e.name),ne(typeof p=="boolean",e,"internal-error"),ne(typeof g=="boolean",e,"internal-error"),_r(i,e.name),_r(o,e.name),_r(a,e.name),_r(l,e.name),_r(d,e.name),_r(h,e.name);const w=new gn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:A,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(w.providerData=T.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Qi;s.updateFromServerResponse(n);const i=new gn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?JI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Qi;a.updateFromIdToken(r);const l=new gn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;function tr(t){pr(t instanceof Function,"Expected a class definition");let e=p1.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZI.type="NONE";const m1=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,e,n){return`firebase:${t}:${e}:${n}`}class Yi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Xc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Xc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wu(this.auth,{idToken:e}).catch(()=>{});return n?gn._fromGetAccountInfoResponse(this.auth,n,e):null}return gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yi(tr(m1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||tr(m1);const o=Xc(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await Wu(e,{idToken:h}).catch(()=>{});if(!p)break;f=await gn._fromGetAccountInfoResponse(e,p,h)}else f=gn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Yi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Yi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i2(e))return"Blackberry";if(o2(e))return"Webos";if(t2(e))return"Safari";if((e.includes("chrome/")||n2(e))&&!e.includes("edge/"))return"Chrome";if(s2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function e2(t=Tt()){return/firefox\//i.test(t)}function t2(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n2(t=Tt()){return/crios\//i.test(t)}function r2(t=Tt()){return/iemobile/i.test(t)}function s2(t=Tt()){return/android/i.test(t)}function i2(t=Tt()){return/blackberry/i.test(t)}function o2(t=Tt()){return/webos/i.test(t)}function my(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zO(t=Tt()){var e;return my(t)&&!!((e=window.navigator)!=null&&e.standalone)}function HO(){return RD()&&document.documentMode===10}function a2(t=Tt()){return my(t)||s2(t)||o2(t)||i2(t)||/windows phone/i.test(t)||r2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e=[]){let n;switch(t){case"Browser":n=g1(Tt());break;case"Worker":n=`${g1(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e={}){return Po(t,"GET","/v2/passwordPolicy",fy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=6;class KO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new WO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Yi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wu(this,{idToken:e}),r=await gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(zs(this));const n=e?ln(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qO(this),n=new KO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $O(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Yi.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&IO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gy(t){return ln(t)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=FD(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YO(t){yy=t}function XO(t){return yy.loadJS(t)}function JO(){return yy.gapiScript}function ZO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e){const n=ai(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ss(i,e??{}))return s;fr(s,"already-initialized")}return n.initialize({options:e})}function t9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n9(t,e,n){const r=gy(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=c2(e),{host:o,port:a}=r9(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(ss(d,r.config.emulator)&&ss(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,bo(o)?(KS(`${i}//${o}${l}`),QS("Auth",!0)):s9()}function c2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r9(t){const e=c2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:v1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:v1(o)}}}function v1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(t,e){return jO(t,"POST","/v1/accounts:signInWithIdp",fy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9="http://localhost";class Zs extends u2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Zs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xi(e,n)}buildRequest(){const e={requestUri:i9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends d2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Rl{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yn.credential(n,r)}catch{return null}}}Yn.GOOGLE_SIGN_IN_METHOD="google.com";Yn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Rl{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Rl{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await gn._fromIdTokenResponse(e,r,s),o=x1(r);return new yo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=x1(r);return new yo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function x1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Tn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Gu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Gu(e,n,r,s)}}function h2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Gu._fromErrorAndOperation(t,i,e,r):i})}async function o9(t,e,n=!1){const r=await cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(zs(r));const s="reauthenticate";try{const i=await cl(t,h2(r,s,e,t),n);ne(i.idToken,r,"internal-error");const o=py(i.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),yo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e,n=!1){if(Cn(t.app))return Promise.reject(zs(t));const r="signIn",s=await h2(t,r,e),i=await yo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function c9(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function u9(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}const Ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=1e3,h9=10;class p2 extends f2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);HO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,h9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},d9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}p2.type="LOCAL";const f9=p2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2 extends f2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}m2.type="SESSION";const g2=m2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await p9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=vy("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function g9(t){On().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function y9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function x9(){return y2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebaseLocalStorageDb",w9=1,Qu="firebaseLocalStorage",x2="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wd(t,e){return t.transaction([Qu],e?"readwrite":"readonly").objectStore(Qu)}function _9(){const t=indexedDB.deleteDatabase(v2);return new jl(t).toPromise()}function am(){const t=indexedDB.open(v2,w9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qu,{keyPath:x2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qu)?e(r):(r.close(),await _9(),e(await am()))})})}async function w1(t,e,n){const r=Wd(t,!0).put({[x2]:e,value:n});return new jl(r).toPromise()}async function E9(t,e){const n=Wd(t,!1).get(e),r=await new jl(n).toPromise();return r===void 0?null:r.value}function _1(t,e){const n=Wd(t,!0).delete(e);return new jl(n).toPromise()}const T9=800,S9=3;class w2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>S9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hd._getInstance(x9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await y9(),!this.activeServiceWorker)return;this.sender=new m9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await w1(e,Ku,"1"),await _1(e,Ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>w1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>E9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Wd(s,!1).getAll();return new jl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w2.type="LOCAL";const b9=w2;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e){return e?tr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends u2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k9(t){return l9(t.auth,new xy(t),t.bypassAuthState)}function C9(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),a9(n,new xy(t),t.bypassAuthState)}async function A9(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),o9(n,new xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k9;case"linkViaPopup":case"linkViaRedirect":return A9;case"reauthViaPopup":case"reauthViaRedirect":return C9;default:fr(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new Pl(2e3,1e4);class Li extends _2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Li.currentPopupAction&&Li.currentPopupAction.cancel(),Li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N9.get())};e()}}Li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="pendingRedirect",Jc=new Map;class R9 extends _2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const r=await j9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j9(t,e){const n=M9(e),r=V9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function D9(t,e){Jc.set(t._key(),e)}function V9(t){return tr(t._redirectPersistence)}function M9(t){return Xc(P9,t.config.apiKey,t.name)}async function L9(t,e,n=!1){if(Cn(t.app))return Promise.reject(zs(t));const r=gy(t),s=I9(r,e),o=await new R9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=10*60*1e3;class F9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!E2(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O9&&this.cachedEventUids.clear(),this.cachedEventUids.has(E1(e))}saveEventToCache(e){this.cachedEventUids.add(E1(e)),this.lastProcessedEventTime=Date.now()}}function E1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function E2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e={}){return Po(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z9=/^https?/;async function H9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B9(t);for(const n of e)try{if(W9(n))return}catch{}fr(t,"unauthorized-domain")}function W9(t){const e=im(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!z9.test(n))return!1;if($9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new Pl(3e4,6e4);function T1(){const t=On().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G9(t){return new Promise((e,n)=>{var s,i,o;function r(){T1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T1(),n(Ln(t,"network-request-failed"))},timeout:q9.get()})}if((i=(s=On().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=On().gapi)!=null&&o.load)r();else{const a=ZO("iframefcb");return On()[a]=()=>{gapi.load?r():n(Ln(t,"network-request-failed"))},XO(`${JO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function K9(t){return Zc=Zc||G9(t),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new Pl(5e3,15e3),Y9="__/auth/iframe",X9="emulator/auth/iframe",J9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eF(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hy(e,X9):`https://${t.config.authDomain}/${Y9}`,r={apiKey:e.apiKey,appName:t.name,v:gs},s=Z9.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${bl(r).slice(1)}`}async function tF(t){const e=await K9(t),n=On().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:eF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J9,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ln(t,"network-request-failed"),a=On().setTimeout(()=>{i(o)},Q9.get());function l(){On().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rF=500,sF=600,iF="_blank",oF="http://localhost";class S1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aF(t,e,n,r=rF,s=sF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...nF,width:r.toString(),height:s.toString(),top:i,left:o},d=Tt().toLowerCase();n&&(a=n2(d)?iF:n),e2(d)&&(e=e||oF,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,T])=>`${p}${g}=${T},`,"");if(zO(d)&&a!=="_self")return lF(e||"",a),new S1(null);const f=window.open(e||"",a,h);ne(f,t,"popup-blocked");try{f.focus()}catch{}return new S1(f)}function lF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="__/auth/handler",uF="emulator/auth/handler",dF=encodeURIComponent("fac");async function b1(t,e,n,r,s,i){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gs,eventId:s};if(e instanceof d2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Rl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${dF}=${encodeURIComponent(l)}`:"";return`${hF(t)}?${bl(a).slice(1)}${d}`}function hF({config:t}){return t.emulator?hy(t,uF):`https://${t.authDomain}/${cF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="webStorageSupport";class fF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g2,this._completeRedirectFn=L9,this._overrideRedirectResult=D9}async _openPopup(e,n,r,s){var o;pr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await b1(e,n,r,im(),s);return aF(e,i,vy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await b1(e,n,r,im(),s);return g9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(pr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tF(e),r=new F9(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mf,{type:mf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[mf];i!==void 0&&n(!!i),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return a2()||t2()||my()}}const pF=fF;var I1="@firebase/auth",k1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yF(t){Un(new _n("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l2(t)},d=new QO(r,s,i,l);return t9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Un(new _n("auth-internal",e=>{const n=gy(e.getProvider("auth").getImmediate());return(r=>new mF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(I1,k1,gF(t)),sn(I1,k1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=5*60,xF=GS("authIdTokenMaxAge")||vF;let C1=null;const wF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xF)return;const s=n==null?void 0:n.token;C1!==s&&(C1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _F(t=Cd()){const e=ai(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e9(t,{popupRedirectResolver:pF,persistence:[b9,f9,g2]}),r=GS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=wF(i.toString());u9(n,o,()=>o(n.currentUser)),c9(n,a=>o(a))}}const s=WS("auth");return s&&n9(n,`http://${s}`),n}function EF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}YO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ln("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",EF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yF("Browser");const TF={apiKey:"AIzaSyBGn7NtE-rFOGYP6nWGPaAXb_mK-i4hdjg",authDomain:"trekandstay-fade6.firebaseapp.com",projectId:"trekandstay-fade6",storageBucket:"trekandstay-fade6.appspot.com",messagingSenderId:"1086551379927",appId:"1:1086551379927:web:8502d2414d95e4e53b0592",measurementId:"G-X0L1D0QFC6"};console.log("[firebase] Init (SDK",gs+")");const ei=z3().length?Cd():nb(TF);console.log("[firebase] App ready:",ei.name);const SF=_F(ei);new Yn;console.log(" Firebase Auth initialized");let T2=null;if(typeof window<"u")try{T2=_O(ei),console.log(" Firebase Analytics initialized")}catch(t){console.warn(" Firebase Analytics initialization failed (normal in development):",t)}let kr=null,ul;const bF=performance.now();try{ul=OL(ei),console.log("[firebase] Firestore ready")}catch(t){kr=t,console.error("[firebase] Firestore init failed:",t)}globalThis.__FIREBASE_DIAG={ts:new Date().toISOString(),elapsedMs:+(performance.now()-bF).toFixed(2),projectId:ei.options.projectId,appName:ei.name,firestoreOk:!!ul&&!kr,firstError:kr?kr instanceof Error?{name:kr.name,message:kr.message}:String(kr):null,sdkVersion:gs};kr&&console.warn(" Firestore diagnostics (initial):",globalThis.__FIREBASE_DIAG);console.log("[firebase] Status:",{app:!!ei,auth:!!SF,db:!!ul,analytics:!!T2});function IF(){if(!ul){const t=globalThis,e=typeof t.__FIREBASE_DIAG=="object"?t.__FIREBASE_DIAG:{value:t.__FIREBASE_DIAG};throw new Error("Firestore unavailable. Diagnostics: "+JSON.stringify(e))}return ul}const kF="http://localhost:8000/api",CF=()=>{const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Token ${t}`}}};async function mi(t,e={}){try{const n=await fetch(`${kF}${t}`,{headers:CF(),...e});if(!n.ok)throw new Error(`API Error: ${n.status}`);return{data:await n.json(),success:!0}}catch(n){return console.error(`API call failed for ${t}:`,n),{data:null,success:!1,error:n instanceof Error?n.message:"Unknown error"}}}const A1={async getLeads(t={}){const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r&&e.append(n,String(r))}),await mi(`/leads/?${e.toString()}`)},async updateLeadStage(t,e,n=""){return await mi(`/leads/${t}/change-stage/`,{method:"POST",body:JSON.stringify({stage:e,notes:n})})},async getLeadEvents(t){return await mi(`/leads/${t}/events/`)},async createLead(t){return await mi("/leads/",{method:"POST",body:JSON.stringify(t)})},async createBooking(t){return await mi("/bookings/",{method:"POST",body:JSON.stringify(t)})},async updateBookingStatus(t,e){return await mi(`/bookings/${t}/status/`,{method:"PATCH",body:JSON.stringify({status:e})})}};class AF{constructor(){this.events=[],this.sessionId=this.generateSessionId(),this.startTime=Date.now(),this.conversionFunnel={page_view:0,hero_interaction:0,booking_modal_open:0,lead_capture_open:0,seat_selection:0,payment_initiated:0,booking_completed:0,lead_submitted:0},this.initializeTracking()}generateSessionId(){return`tas_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getUtmParameters(){const e=new URLSearchParams(window.location.search);return{utm_source:e.get("utm_source")||"",utm_medium:e.get("utm_medium")||"",utm_campaign:e.get("utm_campaign")||""}}initializeTracking(){this.track("page_view",{page_title:document.title,page_url:window.location.href,...this.getUtmParameters()});let e=0;const n=()=>{const r=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100);r>e&&(e=r,r>=25&&r%25===0&&this.track("scroll_depth",{depth_percent:r}))};window.addEventListener("scroll",n,{passive:!0}),[30,60,120,300].forEach(r=>{setTimeout(()=>{this.track("time_on_page_milestone",{seconds_spent:r})},r*1e3)}),document.addEventListener("visibilitychange",()=>{this.track("visibility_change",{hidden:document.hidden,time_spent:Date.now()-this.startTime})}),window.addEventListener("beforeunload",()=>{this.track("page_exit",{total_time_spent:Date.now()-this.startTime,final_scroll_depth:e}),this.flush()})}track(e,n={}){const r={event_type:e,page:window.location.pathname,timestamp:Date.now(),session_id:this.sessionId,properties:{...n,time_since_page_load:Date.now()-this.startTime},user_agent:navigator.userAgent,screen_resolution:`${window.screen.width}x${window.screen.height}`,viewport_size:`${window.innerWidth}x${window.innerHeight}`,referrer:document.referrer,...this.getUtmParameters()};this.events.push(r),e in this.conversionFunnel&&this.conversionFunnel[e]++;const s=["booking_completed","lead_submitted","payment_initiated"];(this.events.length>=10||s.includes(e))&&this.flush(),console.log("Analytics Event:",r)}trackInteraction(e,n,r={}){this.track("user_interaction",{element:e,action:n,...r})}trackBookingFlow(e,n={}){this.track("booking_flow",{step:e,funnel_position:e,...n})}trackLeadCapture(e,n={}){this.track("lead_capture_flow",{step:e,...n})}trackTripInterest(e,n,r){this.track("trip_interest",{trip_id:e,trip_name:n,action:r,interested_in:n})}trackConversion(e,n){this.track("conversion",{conversion_type:e,amount:n,conversion_value:n||0,funnel_completion:this.conversionFunnel})}trackError(e,n={}){this.track("error",{error_message:e,...n})}getConversionFunnel(){return{...this.conversionFunnel}}getSessionData(){return{session_id:this.sessionId,events_count:this.events.length,session_duration:Date.now()-this.startTime,conversion_funnel:this.conversionFunnel}}async flush(){if(this.events.length===0)return;const e=[...this.events];this.events=[];try{await fetch("/api/analytics/track/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:e,session_data:this.getSessionData()})})}catch(n){console.error("Analytics tracking failed:",n),this.events.unshift(...e)}}trackExperiment(e,n){this.track("ab_test",{experiment_name:e,variant:n,experiment_id:`${e}_${n}`})}trackClick(e,n,r){this.track("click_heatmap",{click_x:e,click_y:n,element:r,viewport_width:window.innerWidth,viewport_height:window.innerHeight})}trackHover(e,n){this.track("hover_data",{element:e,hover_duration:n})}}const jr=new AF,gi=(t,e={})=>{jr.trackBookingFlow(t,e)},NF=(t,e={})=>{jr.trackLeadCapture(t,e)},N1=(t,e)=>{jr.trackConversion(t,e)},PF=({className:t=""})=>{const e=k.useRef(null),{scrollYProgress:n}=DS({target:e,offset:["start end","end start"]}),r={stiffness:100,damping:30,restDelta:.001},s=xc(Vs(n,[0,1],[0,-50]),r),i=xc(Vs(n,[0,1],[0,-100]),r),o=xc(Vs(n,[0,1],[0,-150]),r),a=xc(Vs(n,[0,.5,1],[1,.8,.3]),r);return u.jsxs("div",{ref:e,className:`absolute inset-0 overflow-hidden ${t}`,children:[u.jsx(V.div,{className:"absolute inset-0",animate:{background:["linear-gradient(135deg, rgba(5, 150, 105, 0.4) 0%, rgba(8, 145, 178, 0.4) 50%, rgba(168, 85, 247, 0.4) 100%)","linear-gradient(225deg, rgba(168, 85, 247, 0.4) 0%, rgba(5, 150, 105, 0.4) 50%, rgba(8, 145, 178, 0.4) 100%)","linear-gradient(315deg, rgba(8, 145, 178, 0.4) 0%, rgba(168, 85, 247, 0.4) 50%, rgba(5, 150, 105, 0.4) 100%)","linear-gradient(135deg, rgba(5, 150, 105, 0.4) 0%, rgba(8, 145, 178, 0.4) 50%, rgba(168, 85, 247, 0.4) 100%)"]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{opacity:a}}),u.jsx(V.div,{className:"absolute bottom-0 left-0 w-full h-64 opacity-20",style:{y:o},children:u.jsx("div",{className:"flex items-end justify-center h-full",children:[...Array(5)].map((l,d)=>u.jsx(V.div,{className:"bg-gradient-to-t from-emerald-600 to-emerald-400",style:{width:`${120+d*40}px`,height:`${100+d*20}px`,clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",marginLeft:d>0?"-20px":"0"},animate:{scale:[1,1.02,1],opacity:[.2,.3,.2]},transition:{duration:8+d*2,repeat:1/0,ease:"easeInOut",delay:d*.5}},d))})}),u.jsx(V.div,{className:"absolute bottom-0 left-0 w-full h-48 opacity-30",style:{y:i},children:u.jsx("div",{className:"flex items-end justify-center h-full",children:[...Array(4)].map((l,d)=>u.jsx(V.div,{className:"bg-gradient-to-t from-teal-600 to-teal-400",style:{width:`${100+d*35}px`,height:`${80+d*15}px`,clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",marginLeft:d>0?"-15px":"0"},animate:{scale:[1,1.01,1],opacity:[.3,.4,.3]},transition:{duration:6+d*1.5,repeat:1/0,ease:"easeInOut",delay:d*.3}},d))})}),u.jsx(V.div,{className:"absolute bottom-0 left-0 w-full h-32 opacity-40",style:{y:s},children:u.jsx("div",{className:"flex items-end justify-center h-full",children:[...Array(3)].map((l,d)=>u.jsx(V.div,{className:"bg-gradient-to-t from-cyan-600 to-cyan-400",style:{width:`${80+d*30}px`,height:`${60+d*10}px`,clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",marginLeft:d>0?"-10px":"0"},animate:{scale:[1,1.005,1],opacity:[.4,.5,.4]},transition:{duration:4+d,repeat:1/0,ease:"easeInOut",delay:d*.2}},d))})}),u.jsx(V.div,{className:"absolute top-1/4 left-10 opacity-20",animate:{y:[-20,20,-20],rotate:[0,5,-5,0],scale:[1,1.1,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:u.jsx(Gr,{className:"w-16 h-16 text-emerald-300"})}),u.jsx(V.div,{className:"absolute top-1/3 right-16 opacity-15",animate:{y:[20,-20,20],rotate:[0,-3,3,0],scale:[1,.9,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},children:u.jsx(OS,{className:"w-20 h-20 text-teal-300"})}),u.jsx(V.div,{className:"absolute top-1/2 left-1/3 opacity-10",animate:{y:[-10,10,-10],x:[-5,5,-5],scale:[1,1.2,1]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:4},children:u.jsx(Ap,{className:"w-12 h-12 text-cyan-300"})}),u.jsx("div",{className:"absolute inset-0",children:[...Array(15)].map((l,d)=>u.jsx(V.div,{className:"absolute w-2 h-2 bg-emerald-300 rounded-full opacity-20",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[-50,50,-50],opacity:[.2,.5,.2],scale:[.5,1,.5]},transition:{duration:15+Math.random()*10,repeat:1/0,ease:"easeInOut",delay:Math.random()*5}},d))})]})},RF=({onTripSelect:t,className:e=""})=>{const[n,r]=k.useState(!1),[s,i]=k.useState("map"),[o,a]=k.useState({difficulty:3,groupSize:4,season:"monsoon",region:"maharashtra"}),l=[{id:"maharashtra",name:"Maharashtra",icon:Gr,color:"emerald",trips:12},{id:"goa",name:"Goa",icon:pD,color:"blue",trips:8},{id:"karnataka",name:"Karnataka",icon:OS,color:"green",trips:15},{id:"rajasthan",name:"Rajasthan",icon:K5,color:"orange",trips:6}],d=[{id:"monsoon",name:"Monsoon",months:"Jun-Sep",icon:"",color:"blue"},{id:"winter",name:"Winter",months:"Oct-Feb",icon:"",color:"cyan"},{id:"summer",name:"Summer",months:"Mar-May",icon:"",color:"yellow"}],h=[{level:1,label:"Easy",description:"Beginner friendly",color:"green"},{level:2,label:"Moderate",description:"Some experience needed",color:"yellow"},{level:3,label:"Challenging",description:"Good fitness required",color:"orange"},{level:4,label:"Expert",description:"Advanced trekkers only",color:"red"},{level:5,label:"Extreme",description:"Professional level",color:"purple"}],f=g=>{const T=o.groupSize>4?.1:0,x=o.season==="monsoon"?1.2:1;return Math.round(g*(1-T)*x)},p=[{id:1,name:"Waterfall Rappelling Adventure",basePrice:8500,difficulty:3,region:"maharashtra",season:["monsoon"],rating:4.8,image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=400&h=300&fit=crop"},{id:2,name:"Fort Exploration Trek",basePrice:6500,difficulty:2,region:"maharashtra",season:["winter","summer"],rating:4.6,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop"}].filter(g=>g.difficulty<=o.difficulty&&g.region===o.region&&g.season.includes(o.season));return u.jsxs(u.Fragment,{children:[u.jsx(V.button,{onClick:()=>r(!0),className:`fixed bottom-20 left-6 z-40 bg-gradient-to-r from-emerald-500 to-teal-500 text-white p-4 rounded-full shadow-2xl hover:shadow-emerald-500/25 ${e}`,whileHover:{scale:1.1},whileTap:{scale:.9},animate:{boxShadow:["0 0 0 0 rgba(16, 185, 129, 0.7)","0 0 0 10px rgba(16, 185, 129, 0)","0 0 0 20px rgba(16, 185, 129, 0)"]},transition:{duration:2,repeat:1/0},children:u.jsx(ns,{className:"w-6 h-6"})}),u.jsx(At,{children:n&&u.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl z-10",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:" Discover Your Perfect Trek"}),u.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx(US,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"flex space-x-1 mt-4 bg-gray-100 rounded-lg p-1",children:[{id:"map",label:"Regions",icon:ns},{id:"difficulty",label:"Difficulty",icon:Gr},{id:"season",label:"Season",icon:Qs},{id:"group",label:"Group Size",icon:bd}].map(g=>u.jsxs("button",{onClick:()=>i(g.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md transition-all duration-200 ${s===g.id?"bg-white text-emerald-600 shadow-sm":"text-gray-600 hover:text-emerald-600"}`,children:[u.jsx(g.icon,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:g.label})]},g.id))})]}),u.jsxs("div",{className:"p-6",children:[s==="map"&&u.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select Your Adventure Region"}),u.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.map(g=>{const T=g.icon;return u.jsx(V.button,{onClick:()=>a({...o,region:g.id}),className:`p-6 rounded-xl border-2 transition-all duration-200 text-left ${o.region===g.id?`border-${g.color}-500 bg-${g.color}-50`:"border-gray-200 hover:border-gray-300"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg bg-${g.color}-100`,children:u.jsx(T,{className:`w-6 h-6 text-${g.color}-600`})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h5",{className:"font-semibold text-gray-800",children:g.name}),u.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[g.trips," adventures available"]}),u.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[[...Array(5)].map((x,A)=>u.jsx(rs,{className:"w-3 h-3 text-yellow-400 fill-current"},A)),u.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"4.8 avg rating"})]})]})]})},g.id)})})]}),s==="difficulty"&&u.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Choose Your Challenge Level"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Gr,{className:"w-5 h-5 text-emerald-600"}),u.jsx("div",{className:"flex-1",children:u.jsx("input",{type:"range",min:"1",max:"5",value:o.difficulty,onChange:g=>a({...o,difficulty:parseInt(g.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${(o.difficulty-1)*25}%, #e5e7eb ${(o.difficulty-1)*25}%, #e5e7eb 100%)`}})}),u.jsxs("span",{className:"text-sm font-medium text-gray-600 w-12",children:["Level ",o.difficulty]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:h.map(g=>u.jsxs(V.div,{className:`p-4 rounded-lg border text-center transition-all duration-200 ${o.difficulty>=g.level?`border-${g.color}-500 bg-${g.color}-50`:"border-gray-200 bg-gray-50"}`,animate:{scale:o.difficulty>=g.level?1.05:1},children:[u.jsx("div",{className:"font-semibold text-sm",children:g.label}),u.jsx("div",{className:"text-xs text-gray-600 mt-1",children:g.description})]},g.level))})]})]}),s==="season"&&u.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Best Time to Adventure"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:d.map(g=>u.jsxs(V.button,{onClick:()=>a({...o,season:g.id}),className:`p-6 rounded-xl border-2 transition-all duration-200 ${o.season===g.id?`border-${g.color}-500 bg-${g.color}-50`:"border-gray-200 hover:border-gray-300"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx("div",{className:"text-3xl mb-2",children:g.icon}),u.jsx("h5",{className:"font-semibold text-gray-800",children:g.name}),u.jsx("p",{className:"text-gray-600 text-sm",children:g.months})]},g.id))})]}),s==="group"&&u.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(G5,{className:"w-5 h-5 text-emerald-600"}),u.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Group Size & Pricing"})]}),u.jsxs("div",{className:"bg-emerald-50 p-6 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("span",{className:"text-gray-700",children:"Group Size:"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>a({...o,groupSize:Math.max(1,o.groupSize-1)}),className:"w-8 h-8 rounded-full bg-emerald-200 flex items-center justify-center hover:bg-emerald-300 transition-colors",children:"-"}),u.jsx("span",{className:"text-xl font-bold text-emerald-600 w-12 text-center",children:o.groupSize}),u.jsx("button",{onClick:()=>a({...o,groupSize:Math.min(20,o.groupSize+1)}),className:"w-8 h-8 rounded-full bg-emerald-200 flex items-center justify-center hover:bg-emerald-300 transition-colors",children:"+"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Base Price (per person):"}),u.jsx("span",{children:"8,500"})]}),o.groupSize>4&&u.jsxs("div",{className:"flex justify-between text-sm text-emerald-600",children:[u.jsx("span",{children:"Group Discount (10%):"}),u.jsx("span",{children:"-850"})]}),o.season==="monsoon"&&u.jsxs("div",{className:"flex justify-between text-sm text-blue-600",children:[u.jsx("span",{children:"Peak Season (+20%):"}),u.jsx("span",{children:"+1,700"})]}),u.jsx("hr",{className:"my-2"}),u.jsxs("div",{className:"flex justify-between font-semibold",children:[u.jsx("span",{children:"Total per person:"}),u.jsxs("span",{className:"text-emerald-600",children:["",f(8500).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[u.jsxs("span",{children:["Total for ",o.groupSize," people:"]}),u.jsxs("span",{className:"text-emerald-600",children:["",(f(8500)*o.groupSize).toLocaleString()]})]})]})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[u.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Perfect Matches (",p.length,")"]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:p.map(g=>u.jsx(V.div,{className:"bg-gray-50 rounded-xl p-4 hover:bg-gray-100 transition-colors cursor-pointer",whileHover:{scale:1.02},onClick:()=>{t==null||t(g),r(!1)},children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("img",{src:g.image,alt:g.name,className:"w-20 h-20 rounded-lg object-cover"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h5",{className:"font-semibold text-gray-800",children:g.name}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx(rs,{className:"w-3 h-3 text-yellow-400 fill-current"}),u.jsx("span",{className:"text-sm text-gray-600",children:g.rating})]}),u.jsxs("div",{className:"flex items-center justify-between mt-2",children:[u.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:["",f(g.basePrice).toLocaleString()]}),u.jsx(pn,{className:"w-4 h-4 text-gray-400"})]})]})]})},g.id))})]})]})]})})}),u.jsx("style",{children:`
        input[type="range"]::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #10b981;
          cursor: pointer;
        }
        input[type="range"]::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #10b981;
          cursor: pointer;
          border: none;
        }
      `})]})},jF=({tripData:t,onActionClick:e,className:n=""})=>{const[r,s]=k.useState(!1),[i,o]=k.useState(null),[a,l]=k.useState([]),[d,h]=k.useState(!1),f=[{id:"whatsapp",icon:lo,label:"WhatsApp Inquiry",action:"whatsapp",color:"green",delay:.1,position:{bottom:"140px",right:"20px"}},{id:"call",icon:Kr,label:"Quick Call",action:"call",color:"blue",delay:.2,position:{bottom:"120px",right:"80px"}},{id:"wishlist",icon:ao,label:"Add to Wishlist",action:"wishlist",color:"red",delay:.3,position:{bottom:"200px",right:"60px"}},{id:"share",icon:cD,label:"Share Adventure",action:"share",color:"purple",delay:.4,position:{bottom:"180px",right:"120px"}},{id:"photos",icon:VS,label:"View Gallery",action:"gallery",color:"indigo",delay:.5,position:{bottom:"240px",right:"40px"}}],p=g=>{switch(l(T=>[...T,g.id].slice(-3)),a.length>=2&&(h(!0),setTimeout(()=>h(!1),2e3)),g.action){case"whatsapp":const T=`Hi! I'm interested in ${(t==null?void 0:t.name)||"your adventure trips"}. Can you share more details?`;window.open(`https://wa.me/919902937730?text=${encodeURIComponent(T)}`,"_blank");break;case"call":window.open("tel:+919902937730","_self");break;case"wishlist":break;case"share":navigator.share?navigator.share({title:(t==null?void 0:t.name)||"Amazing Adventure",text:"Check out this amazing adventure!",url:window.location.href}):navigator.clipboard.writeText(window.location.href);break}e==null||e(g.action,{bubble:g,tripData:t})};return k.useEffect(()=>{const g=setTimeout(()=>{s(!0),setTimeout(()=>s(!1),3e3)},5e3);return()=>clearTimeout(g)},[]),u.jsxs("div",{className:`fixed bottom-6 right-6 z-40 ${n}`,children:[u.jsx(At,{children:d&&u.jsxs(V.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"absolute -top-16 -left-8 pointer-events-none",children:[u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-4 py-2 rounded-full font-bold text-sm shadow-lg",children:" Engagement Streak!"}),[...Array(8)].map((g,T)=>u.jsx(V.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",initial:{x:0,y:0,opacity:1},animate:{x:Math.random()*100-50,y:-Math.random()*50-20,opacity:0},transition:{duration:1}},T))]})}),u.jsx(At,{children:f.map(g=>{const T=g.icon;return r||i===g.id?u.jsx(V.div,{initial:{opacity:0,scale:0,x:50,y:50},animate:{opacity:1,scale:1,x:0,y:0,rotate:[0,5,-5,0]},exit:{opacity:0,scale:0,x:50,y:50},transition:{delay:g.delay,duration:.3,type:"spring",stiffness:300,damping:20},className:"absolute",style:{bottom:g.position.bottom,right:g.position.right},children:u.jsxs("div",{className:"relative group",children:[u.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"absolute right-full top-1/2 -translate-y-1/2 mr-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:[u.jsx("div",{className:"bg-black/80 text-white px-3 py-1 rounded-lg text-sm whitespace-nowrap",children:g.label}),u.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 border-4 border-transparent border-l-black/80"})]}),u.jsx(V.button,{onClick:()=>p(g),className:`w-12 h-12 bg-gradient-to-r from-${g.color}-500 to-${g.color}-600 text-white rounded-full shadow-lg flex items-center justify-center hover:shadow-${g.color}-500/25 transition-all duration-200`,whileHover:{scale:1.1,rotate:10,boxShadow:"0 0 20px rgba(0,0,0,0.3)"},whileTap:{scale:.9},animate:{y:[0,-5,0],boxShadow:["0 4px 20px rgba(0,0,0,0.1)","0 8px 25px rgba(0,0,0,0.15)","0 4px 20px rgba(0,0,0,0.1)"]},transition:{y:{duration:3,repeat:1/0,ease:"easeInOut"},boxShadow:{duration:2,repeat:1/0,ease:"easeInOut"}},children:u.jsx(T,{className:"w-5 h-5"})}),a.includes(g.id)&&u.jsx(V.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center",children:u.jsx(dD,{className:"w-2 h-2 text-white"})})]})},g.id):null})}),u.jsxs(V.button,{onClick:()=>s(!r),className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-full shadow-2xl flex items-center justify-center relative overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},animate:{rotate:r?45:0,boxShadow:["0 0 0 0 rgba(16, 185, 129, 0.7)","0 0 0 10px rgba(16, 185, 129, 0)","0 0 0 20px rgba(16, 185, 129, 0)"]},transition:{boxShadow:{duration:2,repeat:1/0}},children:[u.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-r from-teal-400 to-emerald-400",animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"}}),u.jsx("div",{className:"relative z-10",children:r?u.jsx(V.div,{initial:{rotate:0},animate:{rotate:45},transition:{type:"spring",stiffness:300,damping:20},children:u.jsx(BS,{className:"w-6 h-6"})}):u.jsx(V.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:u.jsx(LS,{className:"w-6 h-6"})})}),a.length>0&&u.jsx(V.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:a.length})]}),a.length>0&&u.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute -top-12 left-0 right-0 text-center",children:u.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1 text-xs font-medium text-gray-700 shadow-lg",children:[" Engagement: ",a.length,"/3"]})}),u.jsx(At,{children:!r&&a.length===0&&u.jsx(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute -left-20 top-1/2 -translate-y-1/2",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg",children:"Tap to explore! "})})})]})},DF=({location:t="Maharashtra",compact:e=!1,className:n=""})=>{const[r,s]=k.useState(null),[i,o]=k.useState(!1),[a,l]=k.useState(!0);k.useEffect(()=>{const p=async()=>{l(!0),await new Promise(x=>setTimeout(x,1500));const T={location:t,temperature:24,condition:"partly-cloudy",humidity:68,windSpeed:12,visibility:8.5,pressure:1012,forecast:[{day:"Today",high:26,low:18,condition:"partly-cloudy",rainChance:20},{day:"Tomorrow",high:28,low:20,condition:"sunny",rainChance:5},{day:"Day 3",high:25,low:19,condition:"rainy",rainChance:85},{day:"Day 4",high:23,low:17,condition:"cloudy",rainChance:45},{day:"Day 5",high:27,low:21,condition:"sunny",rainChance:10}],trekingCondition:{status:"good",recommendation:"Great weather for trekking! Pack light rain gear just in case.",factors:["Comfortable temperature","Low rain chance","Good visibility"]},lastUpdated:new Date().toLocaleTimeString()};s(T),l(!1)};p();const g=setInterval(p,5*60*1e3);return()=>clearInterval(g)},[t]);const d=(p,g="w-6 h-6")=>{const T=`${g} transition-all duration-300`;switch(p){case"sunny":return u.jsx(Wx,{className:`${T} text-yellow-500`});case"partly-cloudy":return u.jsx(Ap,{className:`${T} text-blue-400`});case"cloudy":return u.jsx(Ap,{className:`${T} text-gray-500`});case"rainy":return u.jsx(J5,{className:`${T} text-blue-600`});case"snowy":return u.jsx(Z5,{className:`${T} text-blue-200`});default:return u.jsx(Wx,{className:`${T} text-yellow-500`})}},h=p=>{switch(p){case"sunny":return{animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"}};case"rainy":return{animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}};case"cloudy":case"partly-cloudy":return{animate:{x:[-2,2,-2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}};default:return{}}},f=p=>{switch(p){case"excellent":return"text-green-600 bg-green-100";case"good":return"text-emerald-600 bg-emerald-100";case"moderate":return"text-yellow-600 bg-yellow-100";case"poor":return"text-orange-600 bg-orange-100";case"dangerous":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return a?u.jsx(V.div,{className:`bg-white/20 backdrop-blur-md rounded-xl p-4 border border-white/30 ${n}`,animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-white/30 rounded-full animate-spin"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"h-4 bg-white/30 rounded mb-2"}),u.jsx("div",{className:"h-3 bg-white/20 rounded w-3/4"})]})]})}):r?e?u.jsx(V.button,{onClick:()=>o(!0),className:`bg-white/10 backdrop-blur-md rounded-lg p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 ${n}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(V.div,{...h(r.condition),children:d(r.condition,"w-5 h-5")}),u.jsxs("span",{className:"text-white font-medium",children:[r.temperature,"C"]}),u.jsx(ns,{className:"w-3 h-3 text-white/70"})]})}):u.jsxs(u.Fragment,{children:[u.jsxs(V.div,{className:`bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20 ${n}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ns,{className:"w-4 h-4 text-emerald-400"}),u.jsx("h3",{className:"text-white font-semibold",children:r.location})]}),u.jsx("button",{onClick:()=>o(!0),className:"text-white/70 hover:text-white transition-colors",children:u.jsx(Pg,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx(V.div,{className:"flex-shrink-0",...h(r.condition),children:d(r.condition,"w-12 h-12")}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[r.temperature,"C"]}),u.jsx("div",{className:"text-white/80 capitalize",children:r.condition.replace("-"," ")})]}),u.jsxs("div",{className:"text-right text-sm text-white/70",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(sD,{className:"w-3 h-3"}),u.jsxs("span",{children:[r.humidity,"%"]})]}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx(qx,{className:"w-3 h-3"}),u.jsxs("span",{children:[r.windSpeed," km/h"]})]})]})]}),u.jsxs("div",{className:`rounded-lg p-3 mb-4 ${f(r.trekingCondition.status)}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(eD,{className:"w-4 h-4"}),u.jsxs("span",{className:"font-semibold capitalize",children:["Trek Condition: ",r.trekingCondition.status]})]}),u.jsx("p",{className:"text-sm opacity-90",children:r.trekingCondition.recommendation})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm",children:[u.jsx(Qs,{className:"w-3 h-3"}),u.jsx("span",{children:"5-Day Outlook"})]}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:r.forecast.map((p,g)=>u.jsxs(V.div,{className:"bg-white/10 rounded-lg p-2 text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:g*.1},children:[u.jsx("div",{className:"text-xs text-white/70 mb-1",children:p.day}),u.jsx(V.div,{className:"mb-2",...h(p.condition),children:d(p.condition,"w-4 h-4 mx-auto")}),u.jsxs("div",{className:"text-xs text-white font-medium",children:[p.high,""]}),u.jsxs("div",{className:"text-xs text-white/60",children:[p.low,""]}),p.rainChance>30&&u.jsxs("div",{className:"text-xs text-blue-300 mt-1",children:[p.rainChance,"%"]})]},p.day))})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/50 mt-4",children:[u.jsx(Sl,{className:"w-3 h-3"}),u.jsxs("span",{children:["Updated: ",r.lastUpdated]})]})]}),u.jsx(At,{children:i&&u.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Weather Details"}),u.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(uD,{className:"w-5 h-5 text-blue-600"}),u.jsx("span",{className:"font-semibold",children:"Temperature"})]}),u.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.temperature,"C"]})]}),u.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(MS,{className:"w-5 h-5 text-cyan-600"}),u.jsx("span",{className:"font-semibold",children:"Visibility"})]}),u.jsxs("div",{className:"text-2xl font-bold text-cyan-600",children:[r.visibility," km"]})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(qx,{className:"w-5 h-5 text-green-600"}),u.jsx("span",{className:"font-semibold",children:"Pressure"})]}),u.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.pressure," hPa"]})]})]}),u.jsxs("div",{className:"bg-emerald-50 p-6 rounded-xl",children:[u.jsx("h3",{className:"text-lg font-semibold text-emerald-800 mb-3",children:"Trekking Recommendations"}),u.jsx("div",{className:"space-y-2",children:r.trekingCondition.factors.map((p,g)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),u.jsx("span",{className:"text-emerald-700",children:p})]},g))})]})]})})})})]}):null},P1=({primaryText:t="Book Your Adventure Now",secondaryText:e="Limited Time Offer",onClick:n,disabled:r=!1,variant:s="primary",size:i="lg",showCountdown:o=!0,className:a=""})=>{const[l,d]=k.useState(!1),[h,f]=k.useState(0),[p,g]=k.useState(!1),[T,x]=k.useState(15*60),A=z5();k.useEffect(()=>{if(!o)return;const I=setInterval(()=>{x(_=>_<=1?(clearInterval(I),0):_-1)},1e3);return()=>clearInterval(I)},[o]),k.useEffect(()=>{const I=setInterval(()=>{!l&&h<3&&A.start({scale:[1,1.05,1],boxShadow:["0 0 0 0 rgba(16, 185, 129, 0.7)","0 0 0 15px rgba(16, 185, 129, 0)","0 0 0 0 rgba(16, 185, 129, 0)"]})},8e3);return()=>clearInterval(I)},[l,h,A]);const w=()=>{f(I=>I+1),h>=2&&(g(!0),setTimeout(()=>g(!1),2e3)),A.start({scale:[1,.95,1.05,1],rotate:[0,-2,2,0]}),n==null||n()},v=I=>{const _=Math.floor(I/60),b=I%60;return`${_}:${b.toString().padStart(2,"0")}`},E=()=>{switch(s){case"primary":return"from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600";case"secondary":return"from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600";case"premium":return"from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600";case"urgency":return"from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600";default:return"from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600"}},P=()=>{switch(i){case"sm":return"px-6 py-3 text-sm";case"md":return"px-8 py-4 text-base";case"lg":return"px-10 py-5 text-lg";case"xl":return"px-12 py-6 text-xl";default:return"px-10 py-5 text-lg"}},F=h>=5?Bx:h>=3?iD:s==="premium"?rs:s==="urgency"?BS:pn;return u.jsxs("div",{className:`relative inline-block ${a}`,children:[u.jsx(At,{children:p&&u.jsxs(V.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"absolute inset-0 pointer-events-none",children:[[...Array(12)].map((I,_)=>u.jsx(V.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",style:{left:"50%",top:"50%"},initial:{x:0,y:0,opacity:1},animate:{x:Math.cos(_*30*Math.PI/180)*100,y:Math.sin(_*30*Math.PI/180)*100,opacity:0},transition:{duration:1.5,ease:"easeOut"}},_)),u.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full opacity-30",initial:{scale:0},animate:{scale:3},exit:{scale:0},transition:{duration:.6}})]})}),o&&T>0&&u.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"absolute -top-3 -right-3 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full z-10",children:[" ",v(T)]}),h>=3&&u.jsxs(V.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"absolute -top-3 -left-3 bg-yellow-500 text-white text-xs font-bold px-2 py-1 rounded-full z-10 flex items-center gap-1",children:[u.jsx(Bx,{className:"w-3 h-3"}),"VIP"]}),u.jsxs(V.button,{onClick:w,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),disabled:r,animate:A,className:`
          relative overflow-hidden font-bold text-white rounded-full shadow-2xl transition-all duration-300 
          bg-gradient-to-r ${E()} ${P()}
          hover:shadow-emerald-500/25 disabled:opacity-50 disabled:cursor-not-allowed
          transform-gpu
        `,whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[u.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent",animate:{x:l?["0%","100%"]:"0%",opacity:l?[0,1,0]:0},transition:{duration:l?.8:0,ease:"easeInOut"}}),u.jsx(At,{children:l&&u.jsx(u.Fragment,{children:[...Array(6)].map((I,_)=>u.jsx(V.div,{className:"absolute",style:{left:`${20+_*15}%`,top:`${20+_%2*40}%`},initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1,0],rotate:[0,180]},exit:{opacity:0},transition:{duration:1.5,delay:_*.1,repeat:1/0,repeatDelay:1},children:u.jsx(Pp,{className:"w-3 h-3 text-white"})},_))})}),u.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[u.jsx(V.div,{animate:{rotate:l?[0,360]:0,scale:h>=3?[1,1.2,1]:1},transition:{rotate:{duration:.6},scale:{duration:1,repeat:1/0}},children:u.jsx(F,{className:`${i==="xl"?"w-7 h-7":i==="lg"?"w-6 h-6":"w-5 h-5"}`})}),u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx(V.span,{animate:{y:l?-2:0},className:"leading-tight",children:t}),e&&u.jsx(V.span,{initial:{opacity:0,y:10},animate:{opacity:l?1:.7,y:l?0:5},className:`${i==="xl"?"text-sm":"text-xs"} text-white/90 leading-tight`,children:e})]}),h>0&&u.jsx(V.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"flex items-center gap-1",children:[...Array(Math.min(h,5))].map((I,_)=>u.jsx(V.div,{initial:{scale:0},animate:{scale:1},transition:{delay:_*.1},children:u.jsx(ao,{className:"w-3 h-3 text-red-200 fill-current"})},_))})]}),u.jsx(V.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:["0 0 0 0 rgba(16, 185, 129, 0.4)","0 0 0 8px rgba(16, 185, 129, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeOut"}})]}),u.jsxs(At,{children:[h===1&&u.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-emerald-500 text-white px-3 py-1 rounded-lg text-sm whitespace-nowrap",children:" Great choice! Click again to continue"}),h===3&&u.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-purple-500 text-white px-3 py-1 rounded-lg text-sm whitespace-nowrap",children:" You're on fire! VIP status unlocked!"})]})]})},VF=()=>{const{slug:t}=rN(),[e,n]=k.useState(null),[r,s]=k.useState(!0),[i,o]=k.useState(!1),[a,l]=k.useState(!1),[d,h]=k.useState(!1),[f,p]=k.useState("interest"),[g,T]=k.useState("details"),[x,A]=k.useState({name:"",email:"",phone:"",seats:1,selectedBatch:"",selectedSeats:[],emergencyContact:"",dietaryRequirements:"",medicalConditions:""}),[w,v]=k.useState({name:"",phone:"",email:"",interest:""}),[E,P]=k.useState("details"),[L,F]=k.useState(0),[I,_]=k.useState({}),[b,C]=k.useState({currentViewers:Math.floor(Math.random()*15)+5,recentBookings:Math.floor(Math.random()*3)+1,lastBooked:Date.now()-Math.floor(Math.random()*3e5)}),[R,j]=k.useState(600),[N,ce]=k.useState(!1),_e=k.useRef(),ye=k.useRef(Date.now()),q=M=>!M||!Array.isArray(M)?[]:M.map((H,he)=>{if(typeof H=="object"&&H!==null&&!Array.isArray(H))return{day:H.day||he+1,title:H.title||`Day ${he+1}`,content:H.content,description:H.description,activities:H.activities,meals:H.meals,accommodation:H.accommodation,transport:H.transport,...H};if(typeof H=="string"){const Be=H.match(/Day\s*(\d+)/i),Ze=Be?parseInt(Be[1]):he+1,gr=H.match(/^([^:]+?)(?::|\.|$)/),Hn=gr?gr[1].trim():`Day ${Ze}`;return{day:Ze,title:Hn,description:H,content:[H]}}return{day:he+1,title:`Day ${he+1}`,description:String(H),content:[String(H)]}});k.useEffect(()=>{t&&(async()=>{try{const H=IF(),he=LL(H,"trips"),Be=JL(he,ZL("slug","==",t)),Ze=await r6(Be);if(!Ze.empty){const gr=Ze.docs[0],Hn=gr.data(),Dl=q(Hn.itinerary);n({id:gr.id,...Hn,itinerary:Dl});const Gd=Hn.spotsAvailable||20,ci={};for(let xs=1;xs<=Gd;xs++)ci[xs]=Math.random()>.2;_(ci)}}catch(H){console.error("Error fetching trip:",H)}finally{s(!1)}})()},[t]),k.useEffect(()=>{const M=setInterval(()=>{C(H=>({currentViewers:Math.max(3,H.currentViewers+Math.floor(Math.random()*3)-1),recentBookings:Math.floor(Math.random()*5)+1,lastBooked:Date.now()-Math.floor(Math.random()*6e5)})),_(H=>{const he={...H};if(Math.random()<.1){const Be=Object.keys(he).filter(Ze=>he[Ze]===!0);if(Be.length>5){const Ze=Be[Math.floor(Math.random()*Be.length)];he[Ze]=!1}}return he})},15e3);return()=>clearInterval(M)},[e==null?void 0:e.spotsAvailable]),k.useEffect(()=>()=>{_e.current&&clearInterval(_e.current)},[]),k.useEffect(()=>{let M=null;const H=[],he=setTimeout(()=>{L>3&&!d&&!i&&h(!0)},3e4);return H.push(()=>clearTimeout(he)),M=()=>{window.scrollY/(document.body.scrollHeight-window.innerHeight)*100>60&&L>2&&!d&&!i&&h(!0)},window.addEventListener("scroll",M),H.push(()=>{M&&window.removeEventListener("scroll",M)}),()=>{H.forEach(Be=>Be())}},[L,d,i]);const B=()=>{F(M=>M+1),o(!0),jr.trackInteraction("hero_book_button","click",{trip_id:e==null?void 0:e.id,trip_name:e==null?void 0:e.name,user_interactions:L}),gi("booking_modal_opened",{trip_price:e==null?void 0:e.price,available_seats:e==null?void 0:e.spotsAvailable})},Y=()=>{g==="details"?(T("seats"),X(),gi("details_completed",{seats_selected:x.seats,batch_selected:x.selectedBatch})):g==="seats"&&(T("payment"),gi("seats_selected",{selected_seats:x.selectedSeats,seats_count:x.seats}))},ee=()=>{g==="seats"?(T("details"),gi("back_to_details")):g==="payment"&&(T("seats"),gi("back_to_seats"))},X=()=>{ce(!0),_e.current=setInterval(()=>{j(M=>M<=1?(clearInterval(_e.current),ce(!1),600):M-1)},1e3)},ie=(M,H)=>{const he=x.selectedSeats.includes(M);if(I[M]!==!1){if(jr.trackInteraction("seat_selection","click",{seat_number:M,action:he?"deselect":"select",total_selected:x.selectedSeats.length}),H&&"touches"in H){const Ze=H.touches[0]||H.changedTouches[0];jr.trackClick(Ze.clientX,Ze.clientY,`seat_${M}`)}he?A({...x,selectedSeats:x.selectedSeats.filter(Ze=>Ze!==M)}):x.selectedSeats.length<x.seats&&A({...x,selectedSeats:[...x.selectedSeats,M]})}},xe=async()=>{try{const M={name:x.name,email:x.email,phone:x.phone,seats:x.seats,selectedSeats:x.selectedSeats,selectedBatch:x.selectedBatch,tripId:e==null?void 0:e.id,tripName:e==null?void 0:e.name,amount:((e==null?void 0:e.bookingAdvance)||0)*x.seats,emergencyContact:x.emergencyContact,dietaryRequirements:x.dietaryRequirements,medicalConditions:x.medicalConditions,status:"confirmed"};await A1.createBooking(M),N1("booking",((e==null?void 0:e.bookingAdvance)||0)*x.seats),gi("booking_completed",{final_amount:((e==null?void 0:e.bookingAdvance)||0)*x.seats,conversion_time:Date.now()-ye.current});const H=` Booking Confirmed! 

Trip: ${e==null?void 0:e.name}
Seats: ${x.seats}
Batch: ${x.selectedBatch}
Amount Paid: ${((e==null?void 0:e.bookingAdvance)||0)*x.seats}

Thank you for choosing Trek & Stay Adventures!`;try{await fetch("/api/whatsapp/send-message/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:x.phone,message:H,session_id:"booking_confirmation"})})}catch(he){console.warn("WhatsApp message failed:",he)}T("confirmation")}catch(M){console.error("Payment completion error:",M),jr.trackError("payment_completion_failed",{error:M instanceof Error?M.message:"Unknown error"}),alert("Booking confirmation failed. Please contact us at "+((e==null?void 0:e.contactNumber)||"9902937730"))}},ct=async()=>{try{const M={...w,source:"trip_landing_page",trip_interest:e==null?void 0:e.name,current_page:`/land/${t}`,user_interactions:L,time_spent:Date.now()-ye.current,device_info:{user_agent:navigator.userAgent,screen_resolution:`${window.screen.width}x${window.screen.height}`,viewport_size:`${window.innerWidth}x${window.innerHeight}`},referrer:document.referrer,timestamp:new Date().toISOString()};if(console.log("Lead captured:",M),N1("lead"),NF("lead_submitted",{lead_source:"trip_landing_page",trip_interest:e==null?void 0:e.name,conversion_time:Date.now()-ye.current,user_interactions:L}),await A1.createLead(M),w.phone){const H=`Hi ${w.name}! 

Thank you for your interest in ${e==null?void 0:e.name}!

 We'll send you:
 Detailed itinerary
 Packing list
 Best deals & offers

Our adventure expert will connect with you soon to help plan your perfect trip!

- Trek & Stay Adventures Team`;try{await fetch("/api/whatsapp/send-message/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:w.phone,message:H,session_id:"lead_capture_trip_specific",lead_data:M})})}catch(he){console.warn("WhatsApp message failed:",he)}}p("success"),setTimeout(()=>{h(!1),p("interest")},4e3)}catch(M){console.error("Lead submission error:",M),p("success")}},Dt=M=>{const H=Math.floor(M/60),he=M%60;return`${H}:${he.toString().padStart(2,"0")}`},Xe=()=>`TAS${Date.now().toString().slice(-6)}`,Je=M=>x.selectedSeats.includes(M)?"selected":I[M]===!1?"occupied":"available",Ro=M=>{const H=Math.floor((Date.now()-M)/6e4);return H<1?"just now":H<60?`${H}m ago`:`${Math.floor(H/60)}h ago`},ys=async M=>{try{await navigator.clipboard.writeText(M)}catch(H){console.error("Copy failed:",H)}},ut=M=>{F(H=>H+1),console.log("User interaction:",M),jr.trackInteraction(M,"click",{trip_id:e==null?void 0:e.id,trip_name:e==null?void 0:e.name,user_session_interactions:L+1,page_path:window.location.pathname})},St=M=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(M),vs=()=>{const M=((e==null?void 0:e.bookingAdvance)||0)*x.seats,H="trekandstay@ybl",he="Trek and Stay Adventures",Be=`TAS${Date.now()}`,Ze=`Advance booking for ${e==null?void 0:e.name}`;return`upi://pay?pa=${H}&pn=${encodeURIComponent(he)}&am=${M}&cu=INR&tn=${encodeURIComponent(Ze)}&tr=${Be}`},jo=()=>{const H=`UPI ID: trekandstay@ybl
Amount: ${(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()}
Reference: TAS${Date.now()}`;navigator.clipboard.writeText(H),alert("UPI details copied to clipboard!")};return r?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-900 flex items-center justify-center",children:u.jsx(V.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full"})}):e?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-900",children:[u.jsx("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10 sticky top-0 z-40",children:u.jsx("div",{className:"container mx-auto px-6",children:u.jsxs("div",{className:"flex justify-between items-center py-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:"/logo.png",alt:"Trek and Stay Adventures",className:"h-10 w-10 rounded-full object-cover ring-2 ring-emerald-400 ring-offset-2 ring-offset-transparent"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-white",children:"Trek & Stay"}),u.jsx("p",{className:"text-xs text-emerald-300 font-medium",children:"Adventures"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("a",{href:"tel:9902937730",className:"flex items-center space-x-2 text-emerald-300 hover:text-white transition-colors",children:[u.jsx(Kr,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline text-sm",children:"9902937730"})]}),u.jsx("button",{onClick:()=>{ut("header_book_now"),B()},className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-sm font-semibold hover:bg-emerald-700 transition-all duration-300 shadow-lg hover:shadow-emerald-500/25",children:"Book Now"})]})]})})}),u.jsxs(V.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-2 px-6 text-center relative overflow-hidden",children:[u.jsx(V.div,{animate:{x:[-100,window.innerWidth]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent w-32"}),u.jsxs("div",{className:"relative z-10 flex flex-wrap justify-center items-center gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(MS,{className:"w-4 h-4"}),u.jsxs("span",{children:[b.currentViewers," people viewing"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pg,{className:"w-4 h-4"}),u.jsxs("span",{children:[b.recentBookings," booked ",Ro(b.lastBooked)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Rp,{className:"w-4 h-4"}),u.jsx("span",{children:"Limited spots available"})]})]})]}),u.jsx(At,{children:N&&u.jsx(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-gradient-to-r from-red-500 to-orange-500 text-white py-3 px-6 text-center",children:u.jsxs("div",{className:"flex justify-center items-center gap-3 text-sm font-semibold",children:[u.jsx(Ca,{className:"w-5 h-5 animate-pulse"}),u.jsxs("span",{children:[" Complete your booking in ",Dt(R)," to secure your seats!"]}),u.jsx(Rp,{className:"w-5 h-5 animate-spin"})]})})}),u.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[u.jsx(PF,{}),u.jsx(RF,{onTripSelect:M=>{console.log("Selected trip:",M),ut("trek_discovery_select")}}),u.jsx(DF,{location:(e==null?void 0:e.location)||"Maharashtra",compact:!1,className:"absolute top-24 right-8 hidden lg:block"}),u.jsx("div",{className:"relative z-10 container mx-auto px-6 text-center text-white",children:u.jsxs(V.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[u.jsx("div",{className:"inline-block px-4 py-2 bg-emerald-500/20 rounded-full mb-6",children:u.jsx("span",{className:"text-emerald-300 font-semibold",children:((e==null?void 0:e.category)||"ADVENTURE").toUpperCase()})}),u.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:(e==null?void 0:e.name)||"Amazing Adventure"}),u.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 mb-8 text-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ns,{className:"w-5 h-5 text-emerald-400"}),u.jsx("span",{children:(e==null?void 0:e.location)||"Beautiful Destination"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Sl,{className:"w-5 h-5 text-emerald-400"}),u.jsx("span",{children:(e==null?void 0:e.duration)||"3 Days"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gr,{className:"w-5 h-5 text-emerald-400"}),u.jsx("span",{children:(e==null?void 0:e.difficulty)||"Moderate"})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"text-4xl font-extrabold text-emerald-400 mb-2 tracking-tight",children:[e!=null&&e.price?St(e.price):"5,000",u.jsx("span",{className:"text-lg text-white/80 ml-2",children:"/ person"})]}),u.jsxs("p",{className:"text-emerald-200",children:["Reserve your spot with an advance of ",e!=null&&e.bookingAdvance?St(e.bookingAdvance):"2,000"]})]}),u.jsx(P1,{primaryText:" Book Your Adventure Now",secondaryText:"Limited Time Special Offer",onClick:()=>{ut("hero_animated_cta"),B()},variant:"primary",size:"xl",showCountdown:!0,className:"mb-6"}),u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[u.jsxs("div",{className:"flex items-center gap-2 text-emerald-300",children:[u.jsx(bd,{className:"w-5 h-5"}),u.jsxs("span",{children:[Math.max(1,((e==null?void 0:e.spotsAvailable)||10)-Object.values(I).filter(M=>!M).length)," spots left"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-emerald-300",children:[u.jsx(Kr,{className:"w-5 h-5"}),u.jsx("span",{children:(e==null?void 0:e.contactNumber)||"9902937730"})]})]}),u.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"mt-8 bg-red-500/90 backdrop-blur-sm rounded-full px-6 py-3 inline-block",children:u.jsxs("div",{className:"flex items-center gap-3 text-white",children:[u.jsx(V.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:u.jsx(Ca,{className:"w-5 h-5"})}),u.jsxs("span",{className:"font-semibold text-sm",children:[" ",b.recentBookings," people booked in last hour! Limited availability"]})]})})]})}),u.jsx(V.div,{animate:{y:[-20,20,-20]},transition:{duration:6,repeat:1/0},className:"absolute top-1/4 left-10 w-20 h-20 bg-emerald-500/20 rounded-full blur-xl"}),u.jsx(V.div,{animate:{y:[20,-20,20]},transition:{duration:8,repeat:1/0},className:"absolute bottom-1/4 right-10 w-32 h-32 bg-teal-500/20 rounded-full blur-xl"})]}),u.jsx("section",{className:"py-20 bg-black/20",children:u.jsxs("div",{className:"container mx-auto px-6",children:[u.jsx(V.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl font-bold text-center text-white mb-12",children:" Adventure Highlights"}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:(e.highlights||[]).map((M,H)=>u.jsx(V.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:H*.1},className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(rs,{className:"w-6 h-6 text-emerald-400 mt-1 flex-shrink-0"}),u.jsx("p",{className:"text-white",children:M})]})},H))})]})}),u.jsx("section",{className:"py-20",children:u.jsxs("div",{className:"container mx-auto px-6",children:[u.jsx(V.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl font-bold text-center text-white mb-12",children:" Day-by-Day Itinerary"}),e!=null&&e.itinerary&&e.itinerary.length>0?u.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:e.itinerary.map((M,H)=>u.jsxs(V.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:H*.1},className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:String((M==null?void 0:M.day)||H+1)}),u.jsx("h3",{className:"text-xl font-bold text-white",children:String((M==null?void 0:M.title)||`Day ${H+1}`)})]}),M!=null&&M.content?u.jsx("div",{className:"text-white/80 mb-4",children:Array.isArray(M.content)?u.jsx("ul",{className:"space-y-2",children:M.content.map((he,Be)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Gn,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),u.jsx("span",{children:he})]},Be))}):u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Gn,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),u.jsx("p",{children:String(M.content)})]})}):M!=null&&M.description?u.jsx("div",{className:"text-white/80 mb-4",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Gn,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),u.jsx("p",{children:String(M.description)})]})}):M!=null&&M.activities?u.jsx("div",{className:"text-white/80 mb-4",children:Array.isArray(M.activities)?u.jsx("ul",{className:"space-y-2",children:M.activities.map((he,Be)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(Gn,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),u.jsx("span",{children:he})]},Be))}):u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Gn,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),u.jsx("span",{children:String(M.activities)})]})}):null,u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[(M==null?void 0:M.meals)&&u.jsx("div",{className:"bg-emerald-500/20 px-3 py-1 rounded-full",children:u.jsxs("span",{className:"text-emerald-300 font-semibold",children:[" Meals: ",String(M.meals)]})}),(M==null?void 0:M.accommodation)&&u.jsx("div",{className:"bg-blue-500/20 px-3 py-1 rounded-full",children:u.jsxs("span",{className:"text-blue-300 font-semibold",children:[" Stay: ",String(M.accommodation)]})}),(M==null?void 0:M.transport)&&u.jsx("div",{className:"bg-purple-500/20 px-3 py-1 rounded-full",children:u.jsxs("span",{className:"text-purple-300 font-semibold",children:[" Transport: ",String(M.transport)]})})]})]},H))}):u.jsx("div",{className:"max-w-4xl mx-auto text-center",children:u.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20",children:[u.jsx(Qs,{className:"w-16 h-16 text-emerald-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Detailed Itinerary Coming Soon!"}),u.jsx("p",{className:"text-white/70 mb-4",children:"Our adventure experts are crafting the perfect day-by-day experience for you."}),u.jsxs("p",{className:"text-emerald-300 font-semibold",children:["Call us at ",(e==null?void 0:e.contactNumber)||"9902937730"," for detailed information!"]})]})})]})}),u.jsx("section",{className:"py-20 bg-gradient-to-r from-emerald-600 to-teal-600",children:u.jsx("div",{className:"container mx-auto px-6 text-center",children:u.jsxs(V.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},children:[u.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready for Your Adventure?"}),u.jsx("p",{className:"text-xl text-emerald-100 mb-8 max-w-2xl mx-auto",children:"Join us for an unforgettable journey. Limited spots available!"}),u.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:(e.batchDates||[]).map((M,H)=>u.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[u.jsx(Qs,{className:"w-5 h-5 inline mr-2"}),u.jsx("span",{className:"text-white font-semibold",children:M})]},H))}),u.jsx(P1,{primaryText:" Secure Your Spot Now",secondaryText:"Join 500+ Happy Adventurers",onClick:()=>{ut("cta_secure_spot_animated"),B()},variant:"premium",size:"lg",showCountdown:!0})]})})}),u.jsx(At,{children:i&&u.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[g==="details"&&"1. Booking Details",g==="seats"&&"2. Select Seats",g==="payment"&&"3. Payment",g==="confirmation"&&"4. Confirmed!"]}),u.jsx("button",{onClick:()=>{o(!1),T("details"),_e.current&&clearInterval(_e.current)},className:"text-gray-500 hover:text-gray-700",children:u.jsx(Jh,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"flex space-x-4",children:["details","seats","payment","confirmation"].map((M,H)=>u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${g===M?"bg-emerald-500":["details","seats","payment","confirmation"].indexOf(g)>H?"bg-emerald-300":"bg-gray-200"}`})},M))})]}),u.jsxs("div",{className:"p-6",children:[g==="details"&&u.jsxs(V.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-4",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsx("input",{type:"text",value:x.name,onChange:M=>A({...x,name:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Full Name *"}),u.jsx("input",{type:"email",value:x.email,onChange:M=>A({...x,email:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Email Address *"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsx("input",{type:"tel",value:x.phone,onChange:M=>A({...x,phone:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"WhatsApp Number *"}),u.jsx("select",{value:x.seats,onChange:M=>A({...x,seats:parseInt(M.target.value),selectedSeats:[]}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[1,2,3,4,5,6].map(M=>u.jsxs("option",{value:M,children:[M," People"]},M))})]}),u.jsxs("select",{value:x.selectedBatch,onChange:M=>A({...x,selectedBatch:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[u.jsx("option",{value:"",children:"Select Batch *"}),((e==null?void 0:e.batchDates)||[]).map((M,H)=>u.jsx("option",{value:M,children:M},H))]}),u.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold",children:"Advance Payment:"}),u.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["",(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()]})]})}),u.jsxs("button",{onClick:Y,disabled:!x.name||!x.email||!x.phone||!x.selectedBatch,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-4 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[!x.name||!x.email||!x.phone||!x.selectedBatch?"Please fill all required fields":"Continue to Seat Selection",u.jsx(pn,{className:"w-5 h-5"})]})]}),g==="seats"&&u.jsxs(V.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[u.jsx("div",{className:"text-center",children:u.jsxs("h4",{className:"text-lg font-semibold mb-2",children:["Select ",x.seats," seat",x.seats>1?"s":""]})}),u.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[u.jsx("div",{className:"max-w-md mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:[u.jsx("div",{className:"text-center mb-4",children:u.jsx("div",{className:"inline-block bg-gray-800 text-white px-3 py-1 rounded text-sm",children:"Driver"})}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:(e==null?void 0:e.spotsAvailable)||20},(M,H)=>H+1).map(M=>u.jsx(V.button,{onClick:H=>ie(M,H),onTouchEnd:H=>ie(M,H),disabled:Je(M)==="occupied",whileHover:{scale:Je(M)!=="occupied"?1.1:1},whileTap:{scale:Je(M)!=="occupied"?.9:1},className:"aspect-square rounded text-sm font-bold transition-all duration-200 min-h-[44px] touch-manipulation "+(Je(M)==="selected"?"bg-emerald-500 text-white shadow-lg":Je(M)==="occupied"?"bg-red-200 text-red-800 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300 active:bg-gray-400"),children:M},M))})]})}),u.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),u.jsx("span",{children:"Available"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-emerald-500 rounded"}),u.jsx("span",{children:"Selected"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-red-200 rounded"}),u.jsx("span",{children:"Occupied"})]})]})]}),x.selectedSeats.length>0&&u.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg",children:u.jsxs("p",{className:"text-emerald-800 font-semibold",children:["Selected: ",x.selectedSeats.sort().join(", ")]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:ee,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-200 flex items-center justify-center gap-2",children:[u.jsx(Cp,{className:"w-5 h-5"})," Back"]}),u.jsxs("button",{onClick:Y,disabled:x.selectedSeats.length!==x.seats,className:"flex-1 bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 rounded-lg font-bold disabled:opacity-50 hover:shadow-lg flex items-center justify-center gap-2",children:["Proceed to Payment ",u.jsx(pn,{className:"w-5 h-5"})]})]})]}),g==="payment"&&u.jsxs(V.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[u.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[u.jsx("h5",{className:"font-semibold mb-4",children:"Booking Summary"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Trip:"}),u.jsx("span",{className:"font-medium",children:e==null?void 0:e.name})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Seats:"}),u.jsx("span",{className:"font-medium",children:x.selectedSeats.sort().join(", ")})]}),u.jsxs("div",{className:"flex justify-between font-semibold border-t pt-2",children:[u.jsx("span",{children:"Advance Payment:"}),u.jsxs("span",{className:"text-emerald-600",children:["",(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-xl",children:[u.jsxs("div",{className:"text-center mb-4",children:[u.jsx($x,{className:"w-16 h-16 mx-auto text-purple-600 mb-2"}),u.jsx("p",{className:"font-medium",children:"Pay with UPI"})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg border-dashed border-2 border-purple-300 mb-4",children:u.jsxs("div",{className:"text-sm space-y-1",children:[u.jsxs("div",{children:[u.jsx("strong",{children:"UPI ID:"})," trekandstay@ybl"]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Amount:"})," ",(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Ref:"})," ",Xe()]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("a",{href:vs(),className:"w-full bg-green-500 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[u.jsx(Hx,{className:"w-5 h-5"})," Pay with UPI"]}),u.jsxs("button",{onClick:()=>ys(`UPI: trekandstay@ybl
Amount: `+(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[u.jsx(tD,{className:"w-5 h-5"})," Copy Details"]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:ee,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[u.jsx(Cp,{className:"w-5 h-5"})," Back"]}),u.jsxs("button",{onClick:xe,className:"flex-1 bg-blue-500 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[u.jsx(Q5,{className:"w-5 h-5"})," Payment Done"]})]})]}),g==="confirmation"&&u.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[u.jsx(V.div,{animate:{scale:[0,1.2,1]},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:u.jsx(Gn,{className:"w-12 h-12 text-green-500"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Booking Confirmed!"}),u.jsxs("p",{className:"text-gray-600",children:["Thank you ",x.name,"! Your adventure awaits."]})]}),u.jsxs("div",{className:"bg-emerald-50 p-6 rounded-xl text-left",children:[u.jsx("h4",{className:"font-semibold text-emerald-800 mb-3",children:"Booking Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Reference:"}),u.jsx("span",{className:"font-bold",children:Xe()})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Seats:"}),u.jsx("span",{children:x.selectedSeats.sort().join(", ")})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Paid:"}),u.jsxs("span",{className:"font-bold text-emerald-600",children:["",(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex items-center gap-3",children:[u.jsx(q5,{className:"w-5 h-5 text-blue-600"}),u.jsx("div",{className:"text-left text-blue-800",children:u.jsxs("p",{className:"font-semibold text-sm",children:["WhatsApp confirmation sent to ",x.phone]})})]}),u.jsx("button",{onClick:()=>{o(!1),T("details"),_e.current&&clearInterval(_e.current)},className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 rounded-lg font-bold",children:"Close"})]})]})]})})}),u.jsx(At,{children:a&&u.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsx(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-8 max-w-md w-full",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Payment - ",(e.bookingAdvance*x.seats).toLocaleString()]}),E==="upi"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-xl",children:[u.jsx($x,{className:"w-24 h-24 mx-auto text-purple-600 mb-4"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Scan QR code with any UPI app"}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-dashed border-purple-300",children:[u.jsxs("p",{className:"text-sm text-gray-600",children:["UPI ID: ",u.jsx("span",{className:"font-bold",children:"trekandstay@ybl"})]}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",u.jsxs("span",{className:"font-bold",children:["",(e.bookingAdvance*x.seats).toLocaleString()]})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("a",{href:vs(),className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-6 rounded-lg font-bold flex items-center justify-center gap-2 hover:shadow-lg transition-all duration-300",children:[u.jsx(Hx,{className:"w-5 h-5"}),"Pay with UPI App"]}),u.jsxs("button",{onClick:jo,className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg font-bold flex items-center justify-center gap-2 hover:bg-gray-200 transition-all duration-300",children:[u.jsx(nD,{className:"w-5 h-5"}),"Copy UPI Details"]}),u.jsx("button",{onClick:()=>P("success"),className:"w-full bg-blue-500 text-white py-3 px-6 rounded-lg font-bold hover:bg-blue-600 transition-all duration-300",children:"I have completed the payment"})]})]}),E==="success"&&u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:u.jsx(Gn,{className:"w-12 h-12 text-green-500"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:"Booking Confirmed! "}),u.jsx("p",{className:"text-gray-600",children:"Thank you for booking with us. You'll receive a confirmation on WhatsApp shortly."})]}),u.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:u.jsxs("p",{className:"text-sm text-green-700",children:[" WhatsApp updates will be sent to: ",u.jsx("span",{className:"font-bold",children:x.phone})]})}),u.jsx("button",{onClick:()=>{l(!1),P("details")},className:"bg-emerald-500 text-white px-8 py-3 rounded-lg font-bold hover:bg-emerald-600 transition-all duration-300",children:"Done"})]}),u.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:u.jsx(Jh,{className:"w-6 h-6"})})]})})})}),u.jsx(At,{children:d&&u.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs(V.div,{initial:{scale:.8,opacity:0,rotateY:90},animate:{scale:1,opacity:1,rotateY:0},exit:{scale:.8,opacity:0,rotateY:-90},transition:{type:"spring",damping:20,stiffness:300},className:"bg-gradient-to-br from-white to-emerald-50 rounded-2xl p-8 max-w-md w-full relative overflow-hidden",children:[u.jsx(V.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br from-emerald-200 to-teal-200 rounded-full opacity-20"}),u.jsx(V.div,{animate:{rotate:-360},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute -bottom-10 -left-10 w-40 h-40 bg-gradient-to-br from-purple-200 to-pink-200 rounded-full opacity-20"}),u.jsxs("div",{className:"relative z-10",children:[f==="interest"&&u.jsxs("div",{className:"text-center",children:[u.jsx(V.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ao,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Love This Adventure?"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Get exclusive deals and early access to new trips!"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>p("details"),className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 px-6 rounded-lg font-bold hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:" Yes, Keep Me Updated!"}),u.jsx("button",{onClick:()=>h(!1),className:"w-full bg-gray-100 text-gray-600 py-3 px-6 rounded-lg font-medium hover:bg-gray-200 transition-all duration-300",children:"Maybe Later"})]})]}),f==="details"&&u.jsxs("div",{children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx(V.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:3},className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(LS,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:" Claim Your Benefits"}),u.jsx("p",{className:"text-gray-600",children:"Join 500+ adventure enthusiasts!"})]}),u.jsxs("form",{className:"space-y-4",children:[u.jsx("div",{children:u.jsx("input",{type:"text",value:w.name,onChange:M=>v({...w,name:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Your Name"})}),u.jsx("div",{children:u.jsx("input",{type:"tel",value:w.phone,onChange:M=>v({...w,phone:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"WhatsApp Number"})}),u.jsx("div",{children:u.jsx("input",{type:"email",value:w.email,onChange:M=>v({...w,email:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Email (Optional)"})}),u.jsx("div",{children:u.jsxs("select",{value:w.interest,onChange:M=>v({...w,interest:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[u.jsx("option",{value:"",children:"What interests you most?"}),u.jsx("option",{value:"adventure",children:"Adventure Activities"}),u.jsx("option",{value:"trekking",children:"Trekking & Hiking"}),u.jsx("option",{value:"camping",children:"Camping Experiences"}),u.jsx("option",{value:"photography",children:"Photography Tours"}),u.jsx("option",{value:"wellness",children:"Wellness Retreats"})]})}),u.jsxs("button",{type:"button",onClick:ct,disabled:!w.name||!w.phone,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 px-6 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[u.jsx(lD,{className:"w-5 h-5 inline mr-2"}),"Get My Benefits!"]})]})]}),f==="success"&&u.jsxs("div",{className:"text-center",children:[u.jsx(V.div,{animate:{scale:[0,1.2,1]},transition:{duration:.6},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Gn,{className:"w-12 h-12 text-green-500"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Welcome Aboard!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"You'll receive exclusive deals and trip updates on WhatsApp!"}),u.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg",children:u.jsxs("p",{className:"text-sm text-emerald-700",children:[" Thank you ",w.name,"! Check your WhatsApp for a special welcome offer."]})})]}),u.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx(Jh,{className:"w-6 h-6"})})]})]})})}),u.jsx(jF,{tripData:e,onActionClick:(M,H)=>{ut(`floating_action_${M}`),console.log("Action clicked:",M,H)}}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-emerald-500 to-teal-500 p-4 z-30 md:hidden",children:u.jsxs("div",{className:"flex items-center justify-between text-white",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"font-bold",children:["",e==null?void 0:e.price.toLocaleString()]}),u.jsx("div",{className:"text-sm opacity-90",children:"per person"})]}),u.jsx("button",{onClick:()=>{ut("sticky_book_now"),B()},className:"bg-white text-emerald-600 px-6 py-2 rounded-full font-bold hover:bg-gray-100 transition-all duration-300",children:"Book Now"})]})})]}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-900 flex items-center justify-center text-white",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Trip Not Found"}),u.jsx("p",{children:"The trip you're looking for doesn't exist."})]})})};class MF extends k.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){var r;console.error("ErrorBoundary caught an error:",e,n),(r=e.message)!=null&&r.includes("Component analytics has not been registered")&&console.warn("Analytics component registration error - this is safe to ignore")}render(){var e,n;return this.state.hasError?(n=(e=this.state.error)==null?void 0:e.message)!=null&&n.includes("Component analytics has not been registered")?this.props.fallback||u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:u.jsxs("div",{className:"text-center text-gray-500",children:[u.jsx("div",{className:"text-sm font-medium",children:"Analytics Loading"}),u.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Charts will appear once initialized"})]})}):this.props.fallback||u.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:u.jsxs("div",{className:"text-center text-red-600",children:[u.jsx("div",{className:"text-sm font-medium",children:"Something went wrong"}),u.jsx("div",{className:"text-xs text-red-400 mt-1",children:"Please refresh the page"})]})}):this.props.children}}const LF={},R1=t=>{let e;const n=new Set,r=(l,d)=>{const h=typeof l=="function"?l(e):l;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},s=()=>e,a={setState:r,getState:s,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(LF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,s,a),a},OF=t=>t?R1(t):R1;var S2={exports:{}},b2={},I2={exports:{}},k2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=k;function FF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var UF=typeof Object.is=="function"?Object.is:FF,BF=vo.useState,$F=vo.useEffect,zF=vo.useLayoutEffect,HF=vo.useDebugValue;function WF(t,e){var n=e(),r=BF({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return zF(function(){s.value=n,s.getSnapshot=e,gf(s)&&i({inst:s})},[t,n,e]),$F(function(){return gf(s)&&i({inst:s}),t(function(){gf(s)&&i({inst:s})})},[t]),HF(n),n}function gf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!UF(t,n)}catch{return!0}}function qF(t,e){return e()}var GF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qF:WF;k2.useSyncExternalStore=vo.useSyncExternalStore!==void 0?vo.useSyncExternalStore:GF;I2.exports=k2;var KF=I2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=k,QF=KF;function YF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XF=typeof Object.is=="function"?Object.is:YF,JF=QF.useSyncExternalStore,ZF=qd.useRef,eU=qd.useEffect,tU=qd.useMemo,nU=qd.useDebugValue;b2.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=ZF(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=tU(function(){function l(g){if(!d){if(d=!0,h=g,g=r(g),s!==void 0&&o.hasValue){var T=o.value;if(s(T,g))return f=T}return f=g}if(T=f,XF(h,g))return T;var x=r(g);return s!==void 0&&s(T,x)?T:(h=g,f=x)}var d=!1,h,f,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=JF(t,i[0],i[1]);return eU(function(){o.hasValue=!0,o.value=a},[a]),nU(a),a};S2.exports=b2;var rU=S2.exports;const sU=M1(rU),C2={},{useDebugValue:iU}=Xu,{useSyncExternalStoreWithSelector:oU}=sU;let j1=!1;function aU(t,e=t.getState,n){(C2?"production":void 0)!=="production"&&n&&!j1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),j1=!0);const r=oU(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return iU(r),r}const lU=t=>{(C2?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?OF(t):t,n=(r,s)=>aU(e,r,s);return Object.assign(n,e),n},cU=t=>lU,uU={};function dU(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const dl=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return dl(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return dl(r)(n)}}}},hU=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:A=>A,version:0,merge:(A,w)=>({...w,...A}),...e},o=!1;const a=new Set,l=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...A)},r,s);const h=dl(i.serialize),f=()=>{const A=i.partialize({...r()});let w;const v=h({state:A,version:i.version}).then(E=>d.setItem(i.name,E)).catch(E=>{w=E});if(w)throw w;return v},p=s.setState;s.setState=(A,w)=>{p(A,w),f()};const g=t((...A)=>{n(...A),f()},r,s);let T;const x=()=>{var A;if(!d)return;o=!1,a.forEach(v=>v(r()));const w=((A=i.onRehydrateStorage)==null?void 0:A.call(i,r()))||void 0;return dl(d.getItem.bind(d))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var E;return T=i.merge(v,(E=r())!=null?E:g),n(T,!0),f()}).then(()=>{w==null||w(T,void 0),o=!0,l.forEach(v=>v(T))}).catch(v=>{w==null||w(void 0,v)})};return s.persist={setOptions:A=>{i={...i,...A},A.getStorage&&(d=A.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:A=>(a.add(A),()=>{a.delete(A)}),onFinishHydration:A=>(l.add(A),()=>{l.delete(A)})},x(),T||g},fU=(t,e)=>(n,r,s)=>{let i={storage:dU(()=>localStorage),partialize:x=>x,version:0,merge:(x,A)=>({...A,...x}),...e},o=!1;const a=new Set,l=new Set;let d=i.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const h=()=>{const x=i.partialize({...r()});return d.setItem(i.name,{state:x,version:i.version})},f=s.setState;s.setState=(x,A)=>{f(x,A),h()};const p=t((...x)=>{n(...x),h()},r,s);let g;const T=()=>{var x,A;if(!d)return;o=!1,a.forEach(v=>{var E;return v((E=r())!=null?E:p)});const w=((A=i.onRehydrateStorage)==null?void 0:A.call(i,(x=r())!=null?x:p))||void 0;return dl(d.getItem.bind(d))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var E;return g=i.merge(v,(E=r())!=null?E:p),n(g,!0),h()}).then(()=>{w==null||w(g,void 0),g=r(),o=!0,l.forEach(v=>v(g))}).catch(v=>{w==null||w(void 0,v)})};return s.persist={setOptions:x=>{i={...i,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>T(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},i.skipHydration||T(),g||p},pU=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((uU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),hU(t,e)):fU(t,e),mU=pU,D1={name:"",email:"",whatsapp:"",budget:[5e3,5e4],preferredDates:{startDate:"",endDate:""},tripPreferences:[],leadSource:"",currentPage:"",timeSpent:0},ir=cU()(mU((t,e)=>({isOpen:!1,currentStep:1,totalSteps:3,formData:D1,isLoading:!1,errors:{},isSubmitted:!1,triggerCount:0,lastShown:0,dismissedCount:0,availableTrips:[],openPopup:(n,r)=>{const s=Date.now(),i=e().lastShown;s-i<36e5&&e().dismissedCount>0||e().triggerCount>=3||e().isSubmitted||t(o=>({isOpen:!0,currentStep:1,triggerCount:o.triggerCount+1,lastShown:s,formData:{...o.formData,leadSource:n,currentPage:r,timeSpent:0},errors:{}}))},closePopup:()=>{t({isOpen:!1,currentStep:1})},nextStep:()=>{t(n=>({currentStep:Math.min(n.currentStep+1,n.totalSteps)}))},prevStep:()=>{t(n=>({currentStep:Math.max(n.currentStep-1,1)}))},updateFormData:n=>{t(r=>({formData:{...r.formData,...n}}))},updateTripPreference:(n,r)=>{t(s=>({formData:{...s.formData,tripPreferences:s.formData.tripPreferences.map(i=>i.id===n?{...i,interested:r}:i)}}))},setErrors:n=>{t({errors:n})},setLoading:n=>{t({isLoading:n})},submitLead:async()=>{const{formData:n,setLoading:r,setErrors:s,closePopup:i}=e();r(!0),s({});try{const o={};n.name.trim()||(o.name="Name is required"),n.email.trim()||(o.email="Email is required"),n.whatsapp.trim()||(o.whatsapp="WhatsApp number is required");const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;n.email&&!a.test(n.email)&&(o.email="Please enter a valid email address");const l=/^[6-9]\d{9}$/;if(n.whatsapp&&!l.test(n.whatsapp.replace(/\D/g,""))&&(o.whatsapp="Please enter a valid 10-digit mobile number"),Object.keys(o).length>0){s(o),r(!1);return}if(!(await fetch("/api/leads/capture/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,interested_trips:n.tripPreferences.filter(h=>h.interested).map(h=>h.id),submission_timestamp:new Date().toISOString()})})).ok)throw new Error("Failed to submit lead");if(t({isSubmitted:!0}),i(),n.whatsapp)try{await fetch("/api/whatsapp/send-message/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n.whatsapp,message:`Hi ${n.name}!  Thanks for your interest in Trek and Stay adventures. Our team will connect with you soon to help plan your perfect trip!`,session_id:"lead_capture"})})}catch(h){console.warn("WhatsApp message failed:",h)}}catch(o){console.error("Lead submission error:",o),s({submit:"Something went wrong. Please try again."})}finally{r(!1)}},resetForm:()=>{t({formData:D1,currentStep:1,errors:{},isLoading:!1})},dismissPopup:()=>{t(n=>({isOpen:!1,dismissedCount:n.dismissedCount+1,lastShown:Date.now()}))},loadTripsForSelection:n=>{t(r=>({availableTrips:n,formData:{...r.formData,tripPreferences:n.map(s=>({...s,interested:!1}))}}))}}),{name:"lead-capture-storage",partialize:t=>({triggerCount:t.triggerCount,lastShown:t.lastShown,dismissedCount:t.dismissedCount,isSubmitted:t.isSubmitted})})),V1=()=>{const{formData:t,updateFormData:e,errors:n}=ir(),[r,s]=k.useState({}),i=(d,h)=>{e({[d]:h}),s(f=>({...f,[d]:!0}))},o=d=>{const f=d.replace(/\D/g,"").slice(0,10);return f.length>=6?`${f.slice(0,3)}-${f.slice(3,6)}-${f.slice(6)}`:f.length>=3?`${f.slice(0,3)}-${f.slice(3)}`:f},a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return u.jsxs(V.div,{variants:a,initial:"hidden",animate:"visible",className:"space-y-6",children:[u.jsxs(V.div,{variants:l,className:"text-center mb-8",children:[u.jsx("h3",{className:"text-2xl font-oswald font-bold text-gray-900 mb-2",children:"Ready for Your Next Adventure? "}),u.jsx("p",{className:"text-gray-600",children:"Join thousands of adventure seekers who've discovered their perfect trip with us!"}),u.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4 text-sm text-gray-500",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsx("span",{children:"500+ Happy Travelers"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsx("span",{children:"50+ Destinations"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(V.div,{variants:l,children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"What should we call you? *"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(FS,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",id:"name",value:t.name,onChange:d=>i("name",d.target.value),className:`
                block w-full pl-10 pr-3 py-3 border rounded-lg
                focus:ring-2 focus:ring-adventure-orange focus:border-transparent
                transition-colors duration-200
                ${n.name&&r.name?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}
              `,placeholder:"Enter your full name",autoFocus:!0}),n.name&&r.name&&u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(Ca,{className:"h-5 w-5 text-red-400"})})]}),n.name&&r.name&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.name})]}),u.jsxs(V.div,{variants:l,children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Ng,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"email",id:"email",value:t.email,onChange:d=>i("email",d.target.value),className:`
                block w-full pl-10 pr-3 py-3 border rounded-lg
                focus:ring-2 focus:ring-adventure-orange focus:border-transparent
                transition-colors duration-200
                ${n.email&&r.email?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}
              `,placeholder:"your.email@example.com"}),n.email&&r.email&&u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(Ca,{className:"h-5 w-5 text-red-400"})})]}),n.email&&r.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"We'll send you trip recommendations and important updates"})]}),u.jsxs(V.div,{variants:l,children:[u.jsx("label",{htmlFor:"whatsapp",className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number *"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Kr,{className:"h-5 w-5 text-gray-400"})}),u.jsx("div",{className:"absolute inset-y-0 left-10 pl-3 flex items-center pointer-events-none",children:u.jsx("span",{className:"text-gray-500 text-sm",children:"+91"})}),u.jsx("input",{type:"tel",id:"whatsapp",value:t.whatsapp,onChange:d=>i("whatsapp",o(d.target.value)),className:`
                block w-full pl-20 pr-3 py-3 border rounded-lg
                focus:ring-2 focus:ring-adventure-orange focus:border-transparent
                transition-colors duration-200
                ${n.whatsapp&&r.whatsapp?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}
              `,placeholder:"98765-43210",maxLength:12}),n.whatsapp&&r.whatsapp&&u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u.jsx(Ca,{className:"h-5 w-5 text-red-400"})})]}),n.whatsapp&&r.whatsapp&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.whatsapp}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"We'll connect with you via WhatsApp for trip planning and updates"})]})]}),u.jsxs(V.div,{variants:l,className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-4 mt-6",children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Why share your details?"}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[u.jsxs("li",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),u.jsx("span",{children:"Get personalized trip recommendations"})]}),u.jsxs("li",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),u.jsx("span",{children:"Instant WhatsApp support from our travel experts"})]}),u.jsxs("li",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),u.jsx("span",{children:"Exclusive deals and early access to new destinations"})]})]})]})]})},gU=()=>{const{formData:t,updateFormData:e,updateTripPreference:n,loadTripsForSelection:r}=ir(),[s,i]=k.useState([]);k.useEffect(()=>{(async()=>{try{const g=[{id:"maharashtra-7day",name:"Maharashtra 7 Days Adventure",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop",price:15e3,duration:"7 days",difficulty:"Moderate",interested:!1},{id:"maharashtra-5day",name:"Waterfall Edition 5 Days",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=200&fit=crop",price:9e3,duration:"5 days",difficulty:"Easy",interested:!1},{id:"rajmachi-trek",name:"Rajmachi Fort Trek",image:"https://images.unsplash.com/photo-1464822759844-d150baec53c1?w=300&h=200&fit=crop",price:3500,duration:"2 days",difficulty:"Easy",interested:!1},{id:"devkund-waterfall",name:"Devkund Waterfall Trek",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop",price:2500,duration:"1 day",difficulty:"Easy",interested:!1},{id:"bhandardara",name:"Bhandardara Adventure",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=200&fit=crop",price:4500,duration:"2 days",difficulty:"Moderate",interested:!1},{id:"lonavala-khandala",name:"Lonavala-Khandala Escape",image:"https://images.unsplash.com/photo-1464822759844-d150baec53c1?w=300&h=200&fit=crop",price:3e3,duration:"2 days",difficulty:"Easy",interested:!1}];i(g),r(g)}catch(g){console.error("Failed to load trips:",g)}})()},[r]);const o=p=>{e({budget:[p[0],p[1]]})},a=(p,g)=>{e({preferredDates:{...t.preferredDates,[p]:g}})},l=p=>{switch(p.toLowerCase()){case"easy":return"bg-green-100 text-green-700";case"moderate":return"bg-yellow-100 text-yellow-700";case"hard":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},f=new Date().toISOString().split("T")[0];return u.jsxs(V.div,{variants:d,initial:"hidden",animate:"visible",className:"space-y-6",children:[u.jsxs(V.div,{variants:h,className:"text-center",children:[u.jsx("h3",{className:"text-xl font-oswald font-bold text-gray-900 mb-2",children:"Tell us about your dream adventure! "}),u.jsx("p",{className:"text-gray-600",children:"Help us find the perfect trip that matches your preferences and budget"})]}),u.jsxs(V.div,{variants:h,className:"space-y-3",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[u.jsx(rD,{className:"inline w-4 h-4 mr-1"}),"Budget Range (per person)"]}),u.jsxs("div",{className:"px-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-sm text-gray-600",children:["",t.budget[0].toLocaleString()]}),u.jsxs("span",{className:"text-sm text-gray-600",children:["",t.budget[1].toLocaleString()]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"range",min:"1000",max:"100000",step:"1000",value:t.budget[0],onChange:p=>o([parseInt(p.target.value),t.budget[1]]),className:"absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb"}),u.jsx("input",{type:"range",min:"1000",max:"100000",step:"1000",value:t.budget[1],onChange:p=>o([t.budget[0],parseInt(p.target.value)]),className:"absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb"})]})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[{label:"Budget",range:[2e3,8e3]},{label:"Mid-Range",range:[8e3,2e4]},{label:"Premium",range:[2e4,5e4]}].map(p=>u.jsx("button",{onClick:()=>o(p.range),className:"px-3 py-2 text-xs border border-gray-300 rounded-lg hover:border-adventure-orange hover:bg-orange-50 transition-colors",children:p.label},p.label))})]}),u.jsxs(V.div,{variants:h,className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Qs,{className:"inline w-4 h-4 mr-1"}),"Preferred Start Date"]}),u.jsx("input",{type:"date",id:"startDate",value:t.preferredDates.startDate,onChange:p=>a("startDate",p.target.value),min:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-adventure-orange focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Qs,{className:"inline w-4 h-4 mr-1"}),"Preferred End Date"]}),u.jsx("input",{type:"date",id:"endDate",value:t.preferredDates.endDate,onChange:p=>a("endDate",p.target.value),min:t.preferredDates.startDate||f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-adventure-orange focus:border-transparent"})]})]}),u.jsxs(V.div,{variants:h,className:"space-y-3",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[u.jsx(Gr,{className:"inline w-4 h-4 mr-1"}),"Which adventures interest you? (Select all that apply)"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.tripPreferences.map(p=>u.jsxs(V.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`
                relative p-3 border-2 rounded-lg cursor-pointer transition-all duration-200
                ${p.interested?"border-adventure-orange bg-orange-50":"border-gray-200 hover:border-gray-300"}
              `,onClick:()=>n(p.id,!p.interested),children:[u.jsx("div",{className:`
                absolute top-2 right-2 w-5 h-5 rounded-full border-2 flex items-center justify-center
                ${p.interested?"border-adventure-orange bg-adventure-orange":"border-gray-300"}
              `,children:p.interested&&u.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),u.jsx("div",{className:"w-full h-24 bg-gray-200 rounded-lg mb-2 overflow-hidden",children:u.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),u.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-1 pr-6",children:p.name}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{className:"flex items-center",children:[u.jsx(Sl,{className:"w-3 h-3 mr-1"}),p.duration]}),u.jsx("span",{className:`px-2 py-1 rounded-full ${l(p.difficulty)}`,children:p.difficulty})]}),u.jsxs("span",{className:"font-semibold text-adventure-orange",children:["",p.price.toLocaleString()]})]})]},p.id))}),t.tripPreferences.filter(p=>p.interested).length>0&&u.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-green-700",children:["Great choice! You've selected ",t.tripPreferences.filter(p=>p.interested).length," adventure(s). We'll personalize recommendations based on your interests."]})})]})]})},yU=()=>{const{formData:t}=ir(),e=k.useMemo(()=>{const i=t.tripPreferences.filter(h=>h.interested),[o,a]=t.budget,l=i.filter(h=>h.price>=o&&h.price<=a);return(l.length>0?l:i.slice(0,3)).map(h=>({...h,matchScore:Math.floor(Math.random()*15)+85,availableSlots:Math.floor(Math.random()*8)+2,rating:(Math.random()*.8+4.2).toFixed(1)}))},[t.tripPreferences,t.budget]),n=()=>e.reduce((i,o)=>i+o.price,0),r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return u.jsxs(V.div,{variants:r,initial:"hidden",animate:"visible",className:"space-y-6",children:[u.jsxs(V.div,{variants:s,className:"text-center",children:[u.jsxs("h3",{className:"text-xl font-oswald font-bold text-gray-900 mb-2",children:["Perfect Adventures Await, ",t.name,"! "]}),u.jsx("p",{className:"text-gray-600",children:"Based on your preferences, here are our top recommendations"})]}),e.length>0?u.jsxs(V.div,{variants:s,className:"space-y-4",children:[e.map((i,o)=>u.jsxs(V.div,{variants:s,whileHover:{scale:1.02},className:"relative bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-all duration-200",children:[u.jsx("div",{className:"absolute top-3 right-3",children:u.jsxs("span",{className:"bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded-full",children:[i.matchScore,"% Match"]})}),o===0&&u.jsx("div",{className:"absolute top-3 left-3",children:u.jsx("span",{className:"bg-adventure-orange text-white text-xs font-bold px-2 py-1 rounded-full",children:"#1 Pick"})}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:u.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-oswald font-bold text-gray-900 mb-1 pr-16",children:i.name}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Sl,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:i.duration})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(rs,{className:"w-4 h-4 mr-1 fill-current text-yellow-400"}),u.jsx("span",{children:i.rating})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(bd,{className:"w-4 h-4 mr-1"}),u.jsxs("span",{children:[i.availableSlots," slots left"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-lg font-bold text-adventure-orange",children:["",i.price.toLocaleString()]}),u.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"per person"})]}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx(ao,{className:"w-4 h-4"})})})]})]})]}),u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:u.jsxs("p",{className:"text-sm text-gray-600",children:[u.jsx("span",{className:"font-medium",children:"Why we recommend this:"})," "," ",o===0&&"Perfect match for your budget and adventure level!",o===1&&"Great value with amazing experiences included.",o===2&&"Popular choice among travelers with similar preferences."]})})]},i.id)),u.jsxs(V.div,{variants:s,className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-4 border border-blue-200",children:[u.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Trip Summary"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Selected Adventures:"}),u.jsxs("div",{className:"font-medium",children:[e.length," trips"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Total Estimated Cost:"}),u.jsxs("div",{className:"font-bold text-adventure-orange",children:["",n().toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Travel Period:"}),u.jsx("div",{className:"font-medium",children:t.preferredDates.startDate?`${t.preferredDates.startDate} - ${t.preferredDates.endDate||"Flexible"}`:"Flexible dates"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Budget Range:"}),u.jsxs("div",{className:"font-medium",children:["",t.budget[0].toLocaleString()," - ",t.budget[1].toLocaleString()]})]})]})]})]}):u.jsxs(V.div,{variants:s,className:"text-center py-8",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ns,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Let's find your perfect adventure!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"We'll connect with you personally to understand your preferences better and recommend the best trips."})]}),u.jsxs(V.div,{variants:s,className:"bg-adventure-orange/10 rounded-lg p-4",children:[u.jsxs("h4",{className:"font-semibold text-adventure-orange mb-3 flex items-center",children:[u.jsx(lo,{className:"w-5 h-5 mr-2"}),"What happens next?"]}),u.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"1"}),u.jsx("span",{children:"Our travel expert will WhatsApp you within 15 minutes"})]}),u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"2"}),u.jsx("span",{children:"Get detailed itineraries and personalized pricing"})]}),u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-5 h-5 bg-purple-500 text-white rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"3"}),u.jsx("span",{children:"Book your adventure with easy payment options"})]})]})]}),u.jsxs(V.div,{variants:s,className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Your contact details:"}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Kr,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{children:["+91 ",t.whatsapp]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ng,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{children:t.email})]})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["We'll never share your information with third parties.",u.jsx("button",{className:"text-adventure-orange hover:underline ml-1",children:"Privacy Policy"})]})]})]})},vU=()=>{const{currentStep:t,totalSteps:e}=ir(),n=[{icon:FS,label:"Personal Info"},{icon:ns,label:"Preferences"},{icon:rs,label:"Recommendations"}];return u.jsxs("div",{className:"flex items-center justify-between relative",children:[u.jsx("div",{className:"absolute top-4 left-0 w-full h-0.5 bg-orange-200",children:u.jsx(V.div,{className:"h-full bg-white",initial:{width:"0%"},animate:{width:`${(t-1)/(e-1)*100}%`},transition:{duration:.5,ease:"easeInOut"}})}),n.map((r,s)=>{const i=s+1,o=i<t,a=i===t,l=r.icon;return u.jsxs("div",{className:"relative flex flex-col items-center z-10",children:[u.jsx(V.div,{className:`
                w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300
                ${o||a?"bg-white border-white text-adventure-orange":"bg-orange-200 border-orange-200 text-orange-400"}
              `,whileHover:{scale:a?1.1:1},transition:{type:"spring",stiffness:300},children:o?u.jsx(Y5,{className:"w-4 h-4"}):u.jsx(l,{className:"w-4 h-4"})}),u.jsx("span",{className:`
                mt-2 text-xs font-medium transition-colors duration-300
                ${o||a?"text-white":"text-orange-200"}
              `,children:r.label})]},i)})]})},xU=()=>{const{isOpen:t,currentStep:e,totalSteps:n,closePopup:r,nextStep:s,prevStep:i,dismissPopup:o,isLoading:a,errors:l}=ir();k.useEffect(()=>{const g=T=>{T.key==="Escape"&&t&&o()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[t,o]),k.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const d=["Let's Get Started","Your Adventure Preferences","Perfect Recommendations"],h=["Tell us a bit about yourself","Help us find your ideal trip","Trips tailored just for you"],f=()=>{switch(e){case 1:return u.jsx(V1,{});case 2:return u.jsx(gU,{});case 3:return u.jsx(yU,{});default:return u.jsx(V1,{})}},p=()=>{if(e===1){const{formData:g}=ir.getState();return g.name&&g.email&&g.whatsapp}return!0};return u.jsx(At,{children:t&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:o}),u.jsxs(V.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.5},className:"relative w-full max-w-2xl max-h-[90vh] overflow-hidden bg-white rounded-2xl shadow-2xl",onClick:g=>g.stopPropagation(),children:[u.jsxs("div",{className:"relative px-6 py-4 bg-gradient-to-r from-adventure-orange to-orange-600",children:[u.jsx("button",{onClick:o,className:"absolute top-4 right-4 p-2 text-white hover:bg-white/20 rounded-full transition-colors","aria-label":"Close modal",children:u.jsx(US,{className:"w-5 h-5"})}),u.jsxs("div",{className:"pr-12",children:[u.jsx("h2",{className:"text-xl font-oswald font-bold text-white",children:d[e-1]}),u.jsx("p",{className:"text-orange-100 text-sm mt-1",children:h[e-1]})]}),u.jsx("div",{className:"mt-4",children:u.jsx(vU,{})})]}),u.jsxs("div",{className:"px-6 py-6 max-h-[60vh] overflow-y-auto",children:[u.jsx(At,{mode:"wait",children:u.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:f()},e)}),l.submit&&u.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:l.submit})]}),u.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:u.jsxs("span",{children:["Step ",e," of ",n]})}),u.jsxs("div",{className:"flex items-center space-x-3",children:[e>1&&u.jsxs("button",{onClick:i,disabled:a,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",children:[u.jsx(Cp,{className:"w-4 h-4"}),u.jsx("span",{children:"Back"})]}),e<n?u.jsxs("button",{onClick:s,disabled:!p()||a,className:"flex items-center space-x-2 px-6 py-2 bg-adventure-orange text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("span",{children:"Continue"}),u.jsx(pn,{className:"w-4 h-4"})]}):u.jsx("button",{onClick:()=>ir.getState().submitLead(),disabled:a,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Submitting..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"Get My Recommendations"}),u.jsx(pn,{className:"w-4 h-4"})]})})]})]}),u.jsx("div",{className:"px-6 py-3 bg-gray-100 border-t",children:u.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-500",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsx("span",{children:"SSL Secured"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsx("span",{children:"No Spam Guarantee"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),u.jsx("span",{children:"Free Consultation"})]})]})})]})]})})},wU={"/":{page:"homepage",timeDelay:45e3,scrollPercentage:50,exitIntent:!0,enabled:!0},"/destinations":{page:"destinations",timeDelay:3e4,scrollPercentage:60,exitIntent:!0,enabled:!0},"/destinations/*":{page:"destinations-category",timeDelay:2e4,scrollPercentage:40,exitIntent:!0,enabled:!0},"/trip/*":{page:"trip-detail",timeDelay:6e4,scrollPercentage:70,exitIntent:!0,enabled:!0},"/dashboard":{page:"dashboard",timeDelay:12e4,scrollPercentage:80,exitIntent:!1,enabled:!0}},_U=["/booking","/payment","/thank-you","/signin","/signup","/admin"],EU=()=>{const t=ps(),{openPopup:e,isOpen:n,isSubmitted:r,triggerCount:s}=ir(),i=k.useRef(),o=k.useRef(),a=k.useRef(Date.now()),l=k.useRef(!1),d=k.useRef(!1),h=k.useRef(!1),f=k.useCallback(()=>{const w=t.pathname;if(_U.some(v=>w.startsWith(v)))return null;for(const[v,E]of Object.entries(wU))if(v.includes("*")){const P=v.replace("/*","");if(w.startsWith(P))return E}else if(w===v)return E;return null},[t.pathname]),p=k.useCallback(w=>{!w.timeDelay||d.current||(i.current=setTimeout(()=>{!n&&!r&&s<3&&(e("time_based",w.page),d.current=!0)},w.timeDelay))},[n,r,s,e]),g=k.useCallback(w=>{if(!w.scrollPercentage||l.current)return;const v=()=>{const E=window.pageYOffset||document.documentElement.scrollTop,P=document.documentElement.scrollHeight-window.innerHeight;E/P*100>=w.scrollPercentage&&!l.current&&(o.current=setTimeout(()=>{!n&&!r&&s<3&&(e("scroll_based",w.page),l.current=!0)},2e3))};return window.addEventListener("scroll",v,{passive:!0}),()=>{window.removeEventListener("scroll",v)}},[n,r,s,e]),T=k.useCallback(w=>{if(!w.exitIntent||h.current)return;const v=E=>{E.clientY<=0&&!h.current&&Date.now()-a.current>=1e4&&!n&&!r&&s<3&&(e("exit_intent",w.page),h.current=!0)};return document.addEventListener("mouseleave",v),()=>{document.removeEventListener("mouseleave",v)}},[n,r,s,e]);k.useEffect(()=>{l.current=!1,d.current=!1,h.current=!1,a.current=Date.now(),i.current&&clearTimeout(i.current),o.current&&clearTimeout(o.current);const w=f();if(!w||!w.enabled)return;const v=[];p(w);const E=g(w);if(E&&v.push(E),!("ontouchstart"in window)){const P=T(w);P&&v.push(P)}return()=>{i.current&&clearTimeout(i.current),o.current&&clearTimeout(o.current),v.forEach(P=>P())}},[t.pathname,f,p,g,T]);const x=k.useCallback((w,v)=>{const E=f();if(!E&&!v)return;const P=v||(E==null?void 0:E.page)||"manual";e(w,P)},[f,e]),A=k.useCallback(()=>{const w=parseInt(sessionStorage.getItem("tripViewCount")||"0")+1;sessionStorage.setItem("tripViewCount",w.toString()),w>=3&&!n&&!r&&s<3&&x("multiple_trip_views","destinations")},[n,r,s,x]);return{triggerPopup:x,trackTripView:A,currentConfig:f()}},TU=({className:t=""})=>u.jsxs("div",{"aria-hidden":!0,className:t,children:[u.jsxs("svg",{width:"0",height:"0",className:"sr-only","aria-hidden":!0,children:[u.jsx("title",{children:"Trek & Stay hero gradients"}),u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"g1",x1:"0%",x2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.95"}),u.jsx("stop",{offset:"100%",stopColor:"#06b6d4",stopOpacity:"0.95"})]}),u.jsxs("radialGradient",{id:"g2",cx:"50%",cy:"50%",r:"50%",children:[u.jsx("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:"0.7"}),u.jsx("stop",{offset:"100%",stopColor:"#60a5fa",stopOpacity:"0"})]})]})]}),u.jsxs("div",{className:"pointer-events-none",children:[u.jsx("div",{className:"absolute -left-24 -top-24 w-72 h-72 rounded-full bg-gradient-to-br from-emerald-400/30 to-teal-400/15 blur-3xl transform rotate-12"}),u.jsx("div",{className:"absolute right-6 top-28 w-48 h-48 rounded-2xl bg-gradient-to-tr from-purple-400/20 to-pink-300/12 blur-2xl transform -rotate-6"}),u.jsxs("svg",{className:"absolute left-1/2 -translate-x-1/2 bottom-6 opacity-40",width:"520",height:"140",viewBox:"0 0 520 140",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",children:[u.jsx("path",{d:"M0 90 C140 20, 380 160, 520 50",stroke:"url(#g1)",strokeWidth:"14",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:"0.65"}),u.jsx("ellipse",{cx:"260",cy:"70",rx:"240",ry:"40",fill:"url(#g2)",opacity:"0.12"})]})]})]}),SU=lo,bU=lo,IU=Np,kU=()=>{var N,ce,_e,ye;const[t,e]=k.useState(!0),[n,r]=k.useState(!0),[s,i]=k.useState(0),[o,a]=k.useState([]),[l,d]=k.useState(0),h=k.useRef(null),f=k.useRef(null),{scrollY:p}=DS(),g=Vs(p,[0,300],[0,-50]),T=Vs(p,[0,300],[0,-100]),x=Vs(p,[0,300],[1,.3]),{openPopup:A,loadTripsForSelection:w}=ir(),{triggerPopup:v}=EU(),E=[{id:1,slug:"adventure-maharashtra-5days-trek",title:"Adventure Maharashtra",subtitle:"Ultimate 5-Day Adventure",price:9500,duration:"5 Days",location:"Maharashtra",rating:4.8,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop",highlights:["Waterfall Rappelling","Cave Exploration","Mountain Trekking"],difficulty:"Moderate",spotsLeft:3,nextDeparture:"2024-09-15",originalPrice:12e3},{id:2,slug:"kaalu-waterfall-harishchandragad-sandhan-valley-5d",title:"Kaalu Waterfall Adventure",subtitle:"Harishchandragad & Sandhan Valley",price:8999,duration:"5 Days",location:"Maharashtra",rating:4.9,image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=800&h=600&fit=crop",highlights:["Waterfall Trek","Valley Exploration","Night Camping"],difficulty:"Challenging",spotsLeft:7,nextDeparture:"2024-09-20",originalPrice:11e3},{id:3,slug:"dudhsagar-trek-3d",title:"Dudhsagar Falls Trek",subtitle:"Goa's Majestic Waterfall",price:4500,duration:"3 Days",location:"Goa",rating:4.7,image:"https://images.unsplash.com/photo-1586500036706-41963de24d8b?w=800&h=600&fit=crop",highlights:["Waterfall Swimming","Railway Trek","Wildlife Spotting"],difficulty:"Easy",spotsLeft:12,nextDeparture:"2024-09-10",originalPrice:5500},{id:4,slug:"kedarnath-7d",title:"Kedarnath Pilgrimage",subtitle:"Spiritual Mountain Journey",price:14999,duration:"7 Days",location:"Uttarakhand",rating:4.9,image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=800&h=600&fit=crop",highlights:["Sacred Temple","Mountain Views","Spiritual Experience"],difficulty:"Challenging",spotsLeft:5,nextDeparture:"2024-09-25",originalPrice:18e3},{id:5,slug:"kumbhe-waterfall-rappelling-5d",title:"Kumbhe Waterfall Rappelling",subtitle:"Extreme Adventure Experience",price:9500,duration:"5 Days",location:"Maharashtra",rating:4.8,image:"https://images.unsplash.com/photo-1544966503-7cc5ac882d5e?w=800&h=600&fit=crop",highlights:["Waterfall Rappelling","Rock Climbing","Adventure Sports"],difficulty:"Expert",spotsLeft:2,nextDeparture:"2024-09-30",originalPrice:12500},{id:6,slug:"maharashtra-waterfall-edition-4d",title:"Maharashtra Waterfall Edition",subtitle:"Multi-Waterfall Adventure",price:8500,duration:"4 Days",location:"Maharashtra",rating:4.6,image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800&h=600&fit=crop",highlights:["Multiple Waterfalls","Photography","Nature Immersion"],difficulty:"Moderate",spotsLeft:8,nextDeparture:"2024-09-18",originalPrice:1e4}],P=[{id:1,name:"Priya Sharma",location:"Mumbai",rating:5,text:"An absolutely life-changing experience! The waterfall rappelling was thrilling beyond words.",image:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop",trip:"Maharashtra Adventure"},{id:2,name:"Rahul Verma",location:"Delhi",rating:5,text:"Perfect organization, amazing guides, and memories that will last forever!",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop",trip:"Kedarnath Pilgrimage"},{id:3,name:"Sneha Patel",location:"Pune",rating:5,text:"Trek and Stay made my adventure dreams come true. Highly recommended!",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop",trip:"Dudhsagar Trek"}],L=[{label:"Happy Travelers",value:"2,500+",icon:bd},{label:"Adventure Trips",value:"150+",icon:Gr},{label:"Safety Record",value:"100%",icon:zx},{label:"Years Experience",value:"8+",icon:Ux}];k.useEffect(()=>{const q=E.map(X=>({id:X.id.toString(),name:X.title,image:X.image,price:X.price,duration:X.duration,difficulty:X.difficulty,interested:!1}));w(q);const B=()=>{const X=["Arjun","Priya","Raj","Sneha","Vikram","Kavya"],ie=["Mumbai","Delhi","Bangalore","Pune","Chennai","Hyderabad"],xe={name:X[Math.floor(Math.random()*X.length)],location:ie[Math.floor(Math.random()*ie.length)],trip:E[Math.floor(Math.random()*E.length)].title,timeAgo:Math.floor(Math.random()*30)+1};a(ct=>[xe,...ct.slice(0,4)])};B();const Y=setInterval(B,15e3+Math.random()*1e4);return d(1847+Math.floor(Math.random()*50)),()=>clearInterval(Y)},[w]),k.useEffect(()=>{const q=setInterval(()=>{i(B=>(B+1)%P.length)},5e3);return()=>clearInterval(q)},[P.length]);const F=()=>{h.current&&(t?h.current.pause():h.current.play(),e(!t))},I=()=>{h.current&&(h.current.muted=!n,r(!n))},_=()=>{v("cta_button","homepage")},b=q=>{v("trip_interest","homepage")},C=q=>{switch(q.toLowerCase()){case"easy":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"moderate":return"bg-amber-100 text-amber-700 border-amber-200";case"challenging":return"bg-orange-100 text-orange-700 border-orange-200";case"expert":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},R=q=>q<=3?"text-red-600 bg-red-50":q<=7?"text-orange-600 bg-orange-50":"text-green-600 bg-green-50",j=q=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(q);return u.jsxs("div",{className:"min-h-screen relative overflow-x-hidden",children:[u.jsx(V.header,{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20",initial:{y:-100},animate:{y:0},transition:{duration:.6},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center py-4",children:[u.jsxs(V.div,{className:"flex items-center space-x-3",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:"/logo.png",alt:"Trek and Stay Adventures",className:"h-14 w-14 rounded-full object-cover ring-2 ring-emerald-400 ring-offset-2 ring-offset-white/50"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Trek & Stay"}),u.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Adventures Await"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs(V.a,{href:"tel:9902937730",className:"flex items-center space-x-2 text-gray-700 hover:text-emerald-600 transition-all duration-300 bg-white/50 px-3 py-2 rounded-lg backdrop-blur-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.jsx(Kr,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline font-medium",children:"9902937730"})]}),u.jsxs(V.button,{onClick:_,className:"relative group bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-emerald-500/25 transition-all duration-300 overflow-hidden",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-teal-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("span",{className:"relative flex items-center space-x-2",children:[u.jsx(Pp,{className:"w-4 h-4"}),u.jsx("span",{children:"Get Started"}),u.jsx(pn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]})]})]})})}),u.jsxs("section",{ref:f,className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("video",{ref:h,autoPlay:!0,muted:n,loop:!0,playsInline:!0,className:"w-full h-full object-cover",poster:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop",children:u.jsx("source",{src:"/videos/t&s.mp4",type:"video/mp4"})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/70"}),u.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-br from-emerald-600/30 via-transparent to-teal-600/30",animate:{background:["linear-gradient(135deg, rgba(5, 150, 105, 0.3) 0%, transparent 50%, rgba(8, 145, 178, 0.3) 100%)","linear-gradient(225deg, rgba(8, 145, 178, 0.3) 0%, transparent 50%, rgba(5, 150, 105, 0.3) 100%)","linear-gradient(135deg, rgba(5, 150, 105, 0.3) 0%, transparent 50%, rgba(8, 145, 178, 0.3) 100%)"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})]}),u.jsxs("div",{className:"absolute top-24 right-8 z-20 flex space-x-2",children:[u.jsx(V.button,{onClick:F,className:"p-3 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:t?u.jsx(oD,{className:"w-5 h-5"}):u.jsx(Np,{className:"w-5 h-5"})}),u.jsx(V.button,{onClick:I,className:"p-3 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:n?u.jsx(fD,{className:"w-5 h-5"}):u.jsx(hD,{className:"w-5 h-5"})})]}),u.jsx(V.div,{className:"relative z-10 text-center max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",style:{y:g,opacity:x},children:u.jsxs(V.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.2},children:[u.jsx(V.span,{className:"inline-block px-6 py-3 bg-white/10 backdrop-blur-md text-white rounded-full text-lg font-semibold mb-8 border border-white/20",whileHover:{scale:1.05},children:" India's Premier Adventure Company"}),u.jsxs("h1",{className:"text-6xl md:text-8xl lg:text-9xl font-bold text-white mb-8 leading-none relative",children:[u.jsx(TU,{className:"absolute inset-0 z-0"}),u.jsx(V.span,{className:"block bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Trek & Stay"}),u.jsx(V.span,{className:"block text-white relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"Welcome to the Wilderness"})]}),u.jsx(V.p,{className:"text-xl md:text-2xl text-gray-200 mb-12 max-w-4xl mx-auto leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:"Discover breathtaking landscapes, conquer majestic peaks, and create memories that last a lifetime with India's most trusted adventure travel company."}),u.jsxs(V.div,{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},children:[u.jsxs(V.button,{onClick:_,className:"group relative bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-10 py-4 rounded-full text-lg font-semibold shadow-2xl hover:shadow-emerald-500/30 transition-all duration-300 overflow-hidden",whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 to-teal-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("span",{className:"relative flex items-center space-x-3",children:[u.jsx(Pp,{className:"w-6 h-6"}),u.jsx("span",{children:"Start Your Adventure"}),u.jsx(pn,{className:"w-6 h-6 group-hover:translate-x-2 transition-transform duration-300"})]})]}),u.jsxs(V.button,{className:"group flex items-center space-x-3 text-white px-8 py-4 rounded-full bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.jsx(Np,{className:"w-6 h-6"}),u.jsx("span",{className:"text-lg font-medium",children:"Watch Stories"})]})]})]})}),u.jsx(V.div,{className:"absolute top-32 left-16 text-white/20 hidden lg:block",animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:u.jsx(Gr,{className:"w-20 h-20"})}),u.jsx(V.div,{className:"absolute bottom-32 right-16 text-white/20 hidden lg:block",animate:{y:[0,15,0],rotate:[0,-3,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},children:u.jsx(VS,{className:"w-16 h-16"})}),u.jsx(V.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:u.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[u.jsx("span",{className:"text-sm font-medium",children:"Scroll to explore"}),u.jsx(X5,{className:"w-6 h-6"})]})})]}),u.jsx(V.section,{className:"py-20 bg-white/95 backdrop-blur-md relative",style:{y:T},children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx(V.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,staggerChildren:.1},children:L.map((q,B)=>{const Y=q.icon;return u.jsxs(V.div,{className:"text-center group",whileHover:{scale:1.05},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:B*.1},children:[u.jsxs("div",{className:"relative mx-auto w-16 h-16 mb-4",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),u.jsx("div",{className:"relative flex items-center justify-center w-full h-full",children:u.jsx(Y,{className:"w-8 h-8 text-emerald-600"})})]}),u.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:q.value}),u.jsx("div",{className:"text-gray-600 font-medium",children:q.label})]},B)})}),o.length>0&&u.jsx(V.div,{className:"bg-emerald-50 rounded-2xl p-6 border border-emerald-100",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-emerald-600",children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),u.jsx(Pg,{className:"w-5 h-5"}),u.jsx("span",{className:"font-semibold",children:"Live Bookings"})]}),u.jsxs("div",{className:"text-gray-700",children:[u.jsx("span",{className:"font-medium",children:(N=o[0])==null?void 0:N.name})," from"," ",u.jsx("span",{className:"text-emerald-600",children:(ce=o[0])==null?void 0:ce.location})," just booked"," ",u.jsx("span",{className:"font-medium",children:(_e=o[0])==null?void 0:_e.trip}),u.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:[(ye=o[0])==null?void 0:ye.timeAgo,"m ago"]})]})]})})]})}),u.jsxs("section",{className:"py-24 bg-gradient-to-br from-gray-50 to-blue-50/30 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMyI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[u.jsxs(V.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[u.jsx("span",{className:"inline-block px-4 py-2 bg-emerald-100 text-emerald-800 rounded-full text-sm font-semibold mb-4",children:" Handpicked Adventures"}),u.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Popular ",u.jsx("span",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Adventures"})]}),u.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Embark on carefully curated journeys that blend thrill, beauty, and unforgettable moments across India's most spectacular destinations."})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:E.map((q,B)=>u.jsxs(V.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:B*.1},whileHover:{y:-10},className:"group relative bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden",children:[u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("img",{src:q.image,alt:q.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-700"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${C(q.difficulty)}`,children:q.difficulty}),q.spotsLeft<=5&&u.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${R(q.spotsLeft)}`,children:[q.spotsLeft," spots left!"]})]}),u.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1",children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(rs,{className:"w-4 h-4 text-yellow-400 fill-current"}),u.jsx("span",{className:"text-sm font-semibold",children:q.rating})]})}),q.originalPrice&&q.originalPrice>q.price&&u.jsx("div",{className:"absolute bottom-4 left-4",children:u.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:["SAVE ",Math.round((q.originalPrice-q.price)/q.originalPrice*100),"%"]})}),u.jsx(V.button,{className:"absolute bottom-4 right-4 p-2 bg-white/80 backdrop-blur-sm rounded-full text-gray-600 hover:text-red-500 transition-colors duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:u.jsx(ao,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[u.jsx(ns,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:q.location})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[u.jsx(Sl,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:q.duration})]})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-emerald-600 transition-colors duration-300",children:q.title}),u.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:q.subtitle}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.highlights.slice(0,2).map((Y,ee)=>u.jsx("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-medium border border-emerald-100",children:Y},ee)),q.highlights.length>2&&u.jsxs("span",{className:"px-3 py-1 bg-gray-50 text-gray-600 rounded-full text-xs font-medium border",children:["+",q.highlights.length-2," more"]})]})}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[u.jsx(Qs,{className:"w-4 h-4"}),u.jsxs("span",{children:["Next departure: ",new Date(q.nextDeparture).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:j(q.price)}),q.originalPrice&&q.originalPrice>q.price&&u.jsx("span",{className:"text-lg text-gray-400 line-through",children:j(q.originalPrice)})]}),u.jsx("span",{className:"text-gray-500 text-sm",children:"per person"})]}),u.jsxs(V.a,{href:`/land/${q.slug}`,onClick:()=>b(q.id),className:"group bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-emerald-500/25 transition-all duration-300 overflow-hidden relative",whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-teal-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("span",{className:"relative flex items-center space-x-2",children:[u.jsx("span",{children:"Explore"}),u.jsx(pn,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]})]})]})]},q.id))}),u.jsx(V.div,{className:"text-center mt-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:u.jsx(V.button,{onClick:_,className:"group bg-white text-emerald-600 px-8 py-4 rounded-full text-lg font-semibold border-2 border-emerald-600 hover:bg-emerald-600 hover:text-white transition-all duration-300 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsxs("span",{className:"flex items-center space-x-2",children:[u.jsx("span",{children:"Discover All Adventures"}),u.jsx(pn,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})]}),u.jsxs("section",{className:"py-24 bg-gradient-to-br from-emerald-600 to-teal-600 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIxIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-50"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[u.jsxs(V.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[u.jsx("span",{className:"inline-block px-4 py-2 bg-white/20 backdrop-blur-md text-white rounded-full text-sm font-semibold mb-4",children:" Real Stories, Real Adventures"}),u.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"What Our Adventurers Say"}),u.jsx("p",{className:"text-xl text-emerald-100 max-w-3xl mx-auto leading-relaxed",children:"Don't just take our word for it. Here's what thousands of happy adventurers have to say about their experiences."})]}),u.jsxs("div",{className:"relative",children:[u.jsx(At,{mode:"wait",children:u.jsx(V.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-6 md:space-y-0 md:space-x-8",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:P[s].image,alt:P[s].name,className:"w-24 h-24 rounded-full object-cover border-4 border-white/30"}),u.jsx("div",{className:"absolute -top-2 -right-2 bg-emerald-400 rounded-full p-2",children:u.jsx(aD,{className:"w-5 h-5 text-white"})})]})}),u.jsxs("div",{className:"flex-1 text-center md:text-left",children:[u.jsx("div",{className:"flex justify-center md:justify-start mb-4",children:[...Array(P[s].rating)].map((q,B)=>u.jsx(rs,{className:"w-6 h-6 text-yellow-400 fill-current"},B))}),u.jsxs("blockquote",{className:"text-xl text-white mb-6 leading-relaxed",children:['"',P[s].text,'"']}),u.jsxs("div",{className:"text-white",children:[u.jsx("div",{className:"font-bold text-lg",children:P[s].name}),u.jsx("div",{className:"text-emerald-200",children:P[s].location}),u.jsxs("div",{className:"text-sm text-emerald-100 mt-1",children:["Trip: ",P[s].trip]})]})]})]})},s)}),u.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:P.map((q,B)=>u.jsx("button",{onClick:()=>i(B),className:`w-3 h-3 rounded-full transition-all duration-300 ${B===s?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`},B))})]})]})]}),u.jsxs("section",{className:"py-24 bg-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-teal-50"}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative",children:u.jsxs(V.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[u.jsxs("div",{className:"relative inline-block mb-8",children:[u.jsx("span",{className:"text-6xl",children:""}),u.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full animate-pulse"})]}),u.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Ready for Your Next ",u.jsx("span",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Adventure?"})]}),u.jsxs("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:["Join over ",u.jsx("span",{className:"font-bold text-emerald-600",children:l.toLocaleString()})," adventurers who have discovered the thrill of exploring India's most beautiful destinations with us."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-12",children:[u.jsxs(V.button,{onClick:_,className:"group relative bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-10 py-4 rounded-full text-lg font-semibold shadow-xl hover:shadow-emerald-500/30 transition-all duration-300 overflow-hidden",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-teal-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("span",{className:"relative flex items-center space-x-3",children:[u.jsx(ao,{className:"w-6 h-6"}),u.jsx("span",{children:"Get Personalized Recommendations"}),u.jsx(pn,{className:"w-6 h-6 group-hover:translate-x-2 transition-transform duration-300"})]})]}),u.jsxs(V.a,{href:"tel:9902937730",className:"group flex items-center space-x-3 text-emerald-600 px-8 py-4 rounded-full bg-emerald-50 border-2 border-emerald-200 hover:bg-emerald-100 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.jsx(Kr,{className:"w-6 h-6"}),u.jsx("span",{className:"text-lg font-semibold",children:"Speak to an Expert"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[u.jsx(zx,{className:"w-5 h-5 text-emerald-600"}),u.jsx("span",{className:"text-sm font-medium",children:"100% Safe"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[u.jsx(Gn,{className:"w-5 h-5 text-emerald-600"}),u.jsx("span",{className:"text-sm font-medium",children:"Expert Guides"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[u.jsx(Ux,{className:"w-5 h-5 text-emerald-600"}),u.jsx("span",{className:"text-sm font-medium",children:"Award Winning"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[u.jsx(Rp,{className:"w-5 h-5 text-emerald-600"}),u.jsx("span",{className:"text-sm font-medium",children:"Quick Response"})]})]})]})})]}),u.jsxs("footer",{className:"bg-gray-900 text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-emerald-900/20"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 relative",children:[u.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("img",{src:"/logo.png",alt:"Trek and Stay Adventures",className:"h-12 w-12 rounded-full object-cover ring-2 ring-emerald-400"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent",children:"Trek & Stay"}),u.jsx("p",{className:"text-gray-400",children:"Adventures Await"})]})]}),u.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"India's premier adventure travel company, crafting unforgettable experiences across the most spectacular destinations. From mountain peaks to hidden valleys, we make your adventure dreams come true."}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx(V.a,{href:"#",className:"p-3 bg-white/10 rounded-full hover:bg-emerald-600 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:u.jsx(SU,{className:"w-5 h-5"})}),u.jsx(V.a,{href:"#",className:"p-3 bg-white/10 rounded-full hover:bg-emerald-600 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:u.jsx(bU,{className:"w-5 h-5"})}),u.jsx(V.a,{href:"#",className:"p-3 bg-white/10 rounded-full hover:bg-emerald-600 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:u.jsx(IU,{className:"w-5 h-5"})}),u.jsx(V.a,{href:"https://wa.me/919902937730",className:"p-3 bg-green-600 rounded-full hover:bg-green-700 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:u.jsx(lo,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-emerald-400",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"About Us"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"All Trips"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"Safety Guidelines"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"Reviews"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"Blog"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-emerald-400",children:"Get in Touch"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Kr,{className:"w-5 h-5 text-emerald-400"}),u.jsx("a",{href:"tel:9902937730",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"+91 99029 37730"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Ng,{className:"w-5 h-5 text-emerald-400"}),u.jsx("a",{href:"mailto:info@trekandstay.com",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"info@trekandstay.com"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(lo,{className:"w-5 h-5 text-emerald-400"}),u.jsx("a",{href:"https://wa.me/919902937730",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"WhatsApp Support"})]})]}),u.jsx(V.button,{onClick:_,className:"mt-6 w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-full font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Plan My Adventure"})]})]}),u.jsxs("div",{className:"border-t border-gray-700 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Trek & Stay Adventures. All rights reserved."}),u.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[u.jsx("a",{href:"#",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Privacy Policy"}),u.jsx("a",{href:"#",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Terms of Service"}),u.jsx("a",{href:"#",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Cancellation Policy"})]})]})]})]}),u.jsx(xU,{})]})},CU=()=>u.jsx(MF,{children:u.jsx(BN,{children:u.jsxs(vN,{children:[u.jsx(dp,{path:"/",element:u.jsx(kU,{})}),u.jsx(dp,{path:"/land/:slug",element:u.jsx(VF,{})})]})})});yf.createRoot(document.getElementById("root")).render(u.jsx(Xu.StrictMode,{children:u.jsx(CU,{})}));

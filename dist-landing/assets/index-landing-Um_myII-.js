(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function X1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J1={exports:{}},cd={},Z1={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=Symbol.for("react.element"),yk=Symbol.for("react.portal"),vk=Symbol.for("react.fragment"),xk=Symbol.for("react.strict_mode"),wk=Symbol.for("react.profiler"),_k=Symbol.for("react.provider"),bk=Symbol.for("react.context"),Tk=Symbol.for("react.forward_ref"),Sk=Symbol.for("react.suspense"),Ek=Symbol.for("react.memo"),Nk=Symbol.for("react.lazy"),jy=Symbol.iterator;function kk(t){return t===null||typeof t!="object"?null:(t=jy&&t[jy]||t["@@iterator"],typeof t=="function"?t:null)}var e_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t_=Object.assign,n_={};function Eo(t,e,n){this.props=t,this.context=e,this.refs=n_,this.updater=n||e_}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r_(){}r_.prototype=Eo.prototype;function xp(t,e,n){this.props=t,this.context=e,this.refs=n_,this.updater=n||e_}var wp=xp.prototype=new r_;wp.constructor=xp;t_(wp,Eo.prototype);wp.isPureReactComponent=!0;var Ay=Array.isArray,s_=Object.prototype.hasOwnProperty,_p={current:null},i_={key:!0,ref:!0,__self:!0,__source:!0};function o_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)s_.call(e,r)&&!i_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:wl,type:t,key:i,ref:o,props:s,_owner:_p.current}}function Ik(t,e){return{$$typeof:wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===wl}function Ck(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Py=/\/+/g;function bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ck(""+t.key):e.toString(36)}function Lc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wl:case yk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+bh(o,0):r,Ay(s)?(n="",t!=null&&(n=t.replace(Py,"$&/")+"/"),Lc(s,e,n,"",function(d){return d})):s!=null&&(bp(s)&&(s=Ik(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Py,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Ay(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+bh(i,l);o+=Lc(i,e,n,c,s)}else if(c=kk(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+bh(i,l++),o+=Lc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oc(t,e,n){if(t==null)return t;var r=[],s=0;return Lc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function jk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},Oc={transition:null},Ak={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:_p};function a_(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:oc,forEach:function(t,e,n){oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oc(t,function(){e++}),e},toArray:function(t){return oc(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Eo;ue.Fragment=vk;ue.Profiler=wk;ue.PureComponent=xp;ue.StrictMode=xk;ue.Suspense=Sk;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;ue.act=a_;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=t_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_p.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)s_.call(e,c)&&!i_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:wl,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:bk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_k,_context:t},t.Consumer=t};ue.createElement=o_;ue.createFactory=function(t){var e=o_.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Tk,render:t}};ue.isValidElement=bp;ue.lazy=function(t){return{$$typeof:Nk,_payload:{_status:-1,_result:t},_init:jk}};ue.memo=function(t,e){return{$$typeof:Ek,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Oc.transition;Oc.transition={};try{t()}finally{Oc.transition=e}};ue.unstable_act=a_;ue.useCallback=function(t,e){return Rt.current.useCallback(t,e)};ue.useContext=function(t){return Rt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Rt.current.useEffect(t,e)};ue.useId=function(){return Rt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Rt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};ue.useRef=function(t){return Rt.current.useRef(t)};ue.useState=function(t){return Rt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Rt.current.useTransition()};ue.version="18.3.1";Z1.exports=ue;var S=Z1.exports;const ud=X1(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=S,Rk=Symbol.for("react.element"),Dk=Symbol.for("react.fragment"),Mk=Object.prototype.hasOwnProperty,Vk=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lk={key:!0,ref:!0,__self:!0,__source:!0};function l_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Mk.call(e,r)&&!Lk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Rk,type:t,key:i,ref:o,props:s,_owner:Vk.current}}cd.Fragment=Dk;cd.jsx=l_;cd.jsxs=l_;J1.exports=cd;var a=J1.exports,Cf={},c_={exports:{}},Jt={},u_={exports:{}},d_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var ee=B.length;B.push(K);e:for(;0<ee;){var q=ee-1>>>1,te=B[q];if(0<s(te,K))B[q]=K,B[ee]=te,ee=q;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],ee=B.pop();if(ee!==K){B[0]=ee;e:for(var q=0,te=B.length,ve=te>>>1;q<ve;){var dt=2*(q+1)-1,St=B[dt],tt=dt+1,Et=B[tt];if(0>s(St,ee))tt<te&&0>s(Et,St)?(B[q]=Et,B[tt]=ee,q=tt):(B[q]=St,B[dt]=ee,q=dt);else if(tt<te&&0>s(Et,ee))B[q]=Et,B[tt]=ee,q=tt;else break e}}return K}function s(B,K){var ee=B.sortIndex-K.sortIndex;return ee!==0?ee:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,m=3,g=!1,_=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=B)r(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(d)}}function D(B){if(x=!1,b(B),!_)if(n(c)!==null)_=!0,ce(P);else{var K=n(d);K!==null&&W(D,K.startTime-B)}}function P(B,K){_=!1,x&&(x=!1,w(T),T=-1),g=!0;var ee=m;try{for(b(K),f=n(c);f!==null&&(!(f.expirationTime>K)||B&&!A());){var q=f.callback;if(typeof q=="function"){f.callback=null,m=f.priorityLevel;var te=q(f.expirationTime<=K);K=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&r(c),b(K)}else r(c);f=n(c)}if(f!==null)var ve=!0;else{var dt=n(d);dt!==null&&W(D,dt.startTime-K),ve=!1}return ve}finally{f=null,m=ee,g=!1}}var O=!1,k=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function R(){if(k!==null){var B=t.unstable_now();C=B;var K=!0;try{K=k(!0,B)}finally{K?j():(O=!1,k=null)}}else O=!1}var j;if(typeof v=="function")j=function(){v(R)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,le=Z.port2;Z.port1.onmessage=R,j=function(){le.postMessage(null)}}else j=function(){N(R,0)};function ce(B){k=B,O||(O=!0,j())}function W(B,K){T=N(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,ce(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var ee=m;m=K;try{return B()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=m;m=B;try{return K()}finally{m=ee}},t.unstable_scheduleCallback=function(B,K,ee){var q=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?q+ee:q):ee=q,B){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ee+te,B={id:h++,callback:K,priorityLevel:B,startTime:ee,expirationTime:te,sortIndex:-1},ee>q?(B.sortIndex=ee,e(d,B),n(c)===null&&B===n(d)&&(x?(w(T),T=-1):x=!0,W(D,ee-q))):(B.sortIndex=te,e(c,B),_||g||(_=!0,ce(P))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var K=m;return function(){var ee=m;m=K;try{return B.apply(this,arguments)}finally{m=ee}}}})(d_);u_.exports=d_;var Ok=u_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fk=S,Yt=Ok;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h_=new Set,za={};function oi(t,e){io(t,e),io(t+"Capture",e)}function io(t,e){for(za[t]=e,t=0;t<e.length;t++)h_.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=Object.prototype.hasOwnProperty,Uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ry={},Dy={};function Bk(t){return jf.call(Dy,t)?!0:jf.call(Ry,t)?!1:Uk.test(t)?Dy[t]=!0:(Ry[t]=!0,!1)}function $k(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zk(t,e,n,r){if(e===null||typeof e>"u"||$k(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tp=/[\-:]([a-z])/g;function Sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tp,Sp);ct[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tp,Sp);ct[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tp,Sp);ct[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ep(t,e,n,r){var s=ct.hasOwnProperty(e)?ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zk(e,n,s,r)&&(n=null),r||s===null?Bk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tr=Fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ac=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Ci=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),f_=Symbol.for("react.provider"),m_=Symbol.for("react.context"),kp=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Rf=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),p_=Symbol.for("react.offscreen"),My=Symbol.iterator;function ea(t){return t===null||typeof t!="object"?null:(t=My&&t[My]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Th;function ha(t){if(Th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Th=e&&e[1]||""}return`
`+Th+t}var Sh=!1;function Eh(t,e){if(!t||Sh)return"";Sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ha(t):""}function Hk(t){switch(t.tag){case 5:return ha(t.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return t=Eh(t.type,!1),t;case 11:return t=Eh(t.type.render,!1),t;case 1:return t=Eh(t.type,!0),t;default:return""}}function Df(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ci:return"Fragment";case Ii:return"Portal";case Af:return"Profiler";case Np:return"StrictMode";case Pf:return"Suspense";case Rf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m_:return(t.displayName||"Context")+".Consumer";case f_:return(t._context.displayName||"Context")+".Provider";case kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ip:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case Pr:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}function Wk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Df(e);case 8:return e===Np?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qk(t){var e=g_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lc(t){t._valueTracker||(t._valueTracker=qk(t))}function y_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=g_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mf(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=os(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v_(t,e){e=e.checked,e!=null&&Ep(t,"checked",e,!1)}function Vf(t,e){v_(t,e);var n=os(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lf(t,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lf(t,e,n){(e!=="number"||uu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fa=Array.isArray;function Wi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+os(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Of(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(fa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:os(n)}}function x_(t,e){var n=os(e.value),r=os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function w_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?w_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cc,__=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gk=["Webkit","ms","Moz","O"];Object.keys(wa).forEach(function(t){Gk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wa[e]=wa[t]})});function b_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wa.hasOwnProperty(t)&&wa[t]?(""+e).trim():e+"px"}function T_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=b_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Kk=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(t,e){if(e){if(Kk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function Cp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zf=null,qi=null,Gi=null;function Uy(t){if(t=Tl(t)){if(typeof zf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=pd(e),zf(t.stateNode,t.type,e))}}function S_(t){qi?Gi?Gi.push(t):Gi=[t]:qi=t}function E_(){if(qi){var t=qi,e=Gi;if(Gi=qi=null,Uy(t),e)for(t=0;t<e.length;t++)Uy(e[t])}}function N_(t,e){return t(e)}function k_(){}var Nh=!1;function I_(t,e,n){if(Nh)return t(e,n);Nh=!0;try{return N_(t,e,n)}finally{Nh=!1,(qi!==null||Gi!==null)&&(k_(),E_())}}function Wa(t,e){var n=t.stateNode;if(n===null)return null;var r=pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Hf=!1;if(mr)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Hf=!1}function Qk(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var _a=!1,du=null,hu=!1,Wf=null,Yk={onError:function(t){_a=!0,du=t}};function Xk(t,e,n,r,s,i,o,l,c){_a=!1,du=null,Qk.apply(Yk,arguments)}function Jk(t,e,n,r,s,i,o,l,c){if(Xk.apply(this,arguments),_a){if(_a){var d=du;_a=!1,du=null}else throw Error(z(198));hu||(hu=!0,Wf=d)}}function ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function C_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function By(t){if(ai(t)!==t)throw Error(z(188))}function Zk(t){var e=t.alternate;if(!e){if(e=ai(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return By(s),t;if(i===r)return By(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function j_(t){return t=Zk(t),t!==null?A_(t):null}function A_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=A_(t);if(e!==null)return e;t=t.sibling}return null}var P_=Yt.unstable_scheduleCallback,$y=Yt.unstable_cancelCallback,eI=Yt.unstable_shouldYield,tI=Yt.unstable_requestPaint,$e=Yt.unstable_now,nI=Yt.unstable_getCurrentPriorityLevel,jp=Yt.unstable_ImmediatePriority,R_=Yt.unstable_UserBlockingPriority,fu=Yt.unstable_NormalPriority,rI=Yt.unstable_LowPriority,D_=Yt.unstable_IdlePriority,dd=null,Vn=null;function sI(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(dd,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:aI,iI=Math.log,oI=Math.LN2;function aI(t){return t>>>=0,t===0?32:31-(iI(t)/oI|0)|0}var uc=64,dc=4194304;function ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ma(l):(i&=o,i!==0&&(r=ma(i)))}else o=n&~s,o!==0?r=ma(o):i!==0&&(r=ma(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),s=1<<n,r|=t[n],e&=~s;return r}function lI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=lI(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M_(){var t=uc;return uc<<=1,!(uc&4194240)&&(uc=64),t}function kh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _l(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function uI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ap(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var we=0;function V_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L_,Pp,O_,F_,U_,Gf=!1,hc=[],qr=null,Gr=null,Kr=null,qa=new Map,Ga=new Map,Vr=[],dI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zy(t,e){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(e.pointerId)}}function na(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Tl(e),e!==null&&Pp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hI(t,e,n,r,s){switch(e){case"focusin":return qr=na(qr,t,e,n,r,s),!0;case"dragenter":return Gr=na(Gr,t,e,n,r,s),!0;case"mouseover":return Kr=na(Kr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return qa.set(i,na(qa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ga.set(i,na(Ga.get(i)||null,t,e,n,r,s)),!0}return!1}function B_(t){var e=Ls(t.target);if(e!==null){var n=ai(e);if(n!==null){if(e=n.tag,e===13){if(e=C_(n),e!==null){t.blockedOn=e,U_(t.priority,function(){O_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$f=r,n.target.dispatchEvent(r),$f=null}else return e=Tl(n),e!==null&&Pp(e),t.blockedOn=n,!1;e.shift()}return!0}function Hy(t,e,n){Fc(t)&&n.delete(e)}function fI(){Gf=!1,qr!==null&&Fc(qr)&&(qr=null),Gr!==null&&Fc(Gr)&&(Gr=null),Kr!==null&&Fc(Kr)&&(Kr=null),qa.forEach(Hy),Ga.forEach(Hy)}function ra(t,e){t.blockedOn===e&&(t.blockedOn=null,Gf||(Gf=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,fI)))}function Ka(t){function e(s){return ra(s,t)}if(0<hc.length){ra(hc[0],t);for(var n=1;n<hc.length;n++){var r=hc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qr!==null&&ra(qr,t),Gr!==null&&ra(Gr,t),Kr!==null&&ra(Kr,t),qa.forEach(e),Ga.forEach(e),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)B_(n),n.blockedOn===null&&Vr.shift()}var Ki=Tr.ReactCurrentBatchConfig,pu=!0;function mI(t,e,n,r){var s=we,i=Ki.transition;Ki.transition=null;try{we=1,Rp(t,e,n,r)}finally{we=s,Ki.transition=i}}function pI(t,e,n,r){var s=we,i=Ki.transition;Ki.transition=null;try{we=4,Rp(t,e,n,r)}finally{we=s,Ki.transition=i}}function Rp(t,e,n,r){if(pu){var s=Kf(t,e,n,r);if(s===null)Lh(t,e,r,gu,n),zy(t,r);else if(hI(s,t,e,n,r))r.stopPropagation();else if(zy(t,r),e&4&&-1<dI.indexOf(t)){for(;s!==null;){var i=Tl(s);if(i!==null&&L_(i),i=Kf(t,e,n,r),i===null&&Lh(t,e,r,gu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Lh(t,e,r,null,n)}}var gu=null;function Kf(t,e,n,r){if(gu=null,t=Cp(r),t=Ls(t),t!==null)if(e=ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=C_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gu=t,null}function $_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nI()){case jp:return 1;case R_:return 4;case fu:case rI:return 16;case D_:return 536870912;default:return 16}default:return 16}}var $r=null,Dp=null,Uc=null;function z_(){if(Uc)return Uc;var t,e=Dp,n=e.length,r,s="value"in $r?$r.value:$r.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Uc=s.slice(t,1<r?1-r:void 0)}function Bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fc(){return!0}function Wy(){return!1}function Zt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fc:Wy,this.isPropagationStopped=Wy,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mp=Zt(No),bl=Ve({},No,{view:0,detail:0}),gI=Zt(bl),Ih,Ch,sa,hd=Ve({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(Ih=t.screenX-sa.screenX,Ch=t.screenY-sa.screenY):Ch=Ih=0,sa=t),Ih)},movementY:function(t){return"movementY"in t?t.movementY:Ch}}),qy=Zt(hd),yI=Ve({},hd,{dataTransfer:0}),vI=Zt(yI),xI=Ve({},bl,{relatedTarget:0}),jh=Zt(xI),wI=Ve({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),_I=Zt(wI),bI=Ve({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TI=Zt(bI),SI=Ve({},No,{data:0}),Gy=Zt(SI),EI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function II(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kI[t])?!!e[t]:!1}function Vp(){return II}var CI=Ve({},bl,{key:function(t){if(t.key){var e=EI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vp,charCode:function(t){return t.type==="keypress"?Bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jI=Zt(CI),AI=Ve({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ky=Zt(AI),PI=Ve({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vp}),RI=Zt(PI),DI=Ve({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),MI=Zt(DI),VI=Ve({},hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LI=Zt(VI),OI=[9,13,27,32],Lp=mr&&"CompositionEvent"in window,ba=null;mr&&"documentMode"in document&&(ba=document.documentMode);var FI=mr&&"TextEvent"in window&&!ba,H_=mr&&(!Lp||ba&&8<ba&&11>=ba),Qy=" ",Yy=!1;function W_(t,e){switch(t){case"keyup":return OI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function UI(t,e){switch(t){case"compositionend":return q_(e);case"keypress":return e.which!==32?null:(Yy=!0,Qy);case"textInput":return t=e.data,t===Qy&&Yy?null:t;default:return null}}function BI(t,e){if(ji)return t==="compositionend"||!Lp&&W_(t,e)?(t=z_(),Uc=Dp=$r=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return H_&&e.locale!=="ko"?null:e.data;default:return null}}var $I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$I[t.type]:e==="textarea"}function G_(t,e,n,r){S_(r),e=yu(e,"onChange"),0<e.length&&(n=new Mp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ta=null,Qa=null;function zI(t){sb(t,0)}function fd(t){var e=Ri(t);if(y_(e))return t}function HI(t,e){if(t==="change")return e}var K_=!1;if(mr){var Ah;if(mr){var Ph="oninput"in document;if(!Ph){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),Ph=typeof Jy.oninput=="function"}Ah=Ph}else Ah=!1;K_=Ah&&(!document.documentMode||9<document.documentMode)}function Zy(){Ta&&(Ta.detachEvent("onpropertychange",Q_),Qa=Ta=null)}function Q_(t){if(t.propertyName==="value"&&fd(Qa)){var e=[];G_(e,Qa,t,Cp(t)),I_(zI,e)}}function WI(t,e,n){t==="focusin"?(Zy(),Ta=e,Qa=n,Ta.attachEvent("onpropertychange",Q_)):t==="focusout"&&Zy()}function qI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fd(Qa)}function GI(t,e){if(t==="click")return fd(e)}function KI(t,e){if(t==="input"||t==="change")return fd(e)}function QI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sn=typeof Object.is=="function"?Object.is:QI;function Ya(t,e){if(Sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jf.call(e,s)||!Sn(t[s],e[s]))return!1}return!0}function ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tv(t,e){var n=ev(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ev(n)}}function Y_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X_(){for(var t=window,e=uu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uu(t.document)}return e}function Op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YI(t){var e=X_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Y_(n.ownerDocument.documentElement,n)){if(r!==null&&Op(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=tv(n,i);var o=tv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XI=mr&&"documentMode"in document&&11>=document.documentMode,Ai=null,Qf=null,Sa=null,Yf=!1;function nv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yf||Ai==null||Ai!==uu(r)||(r=Ai,"selectionStart"in r&&Op(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sa&&Ya(Sa,r)||(Sa=r,r=yu(Qf,"onSelect"),0<r.length&&(e=new Mp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ai)))}function mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pi={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Rh={},J_={};mr&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function md(t){if(Rh[t])return Rh[t];if(!Pi[t])return t;var e=Pi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in J_)return Rh[t]=e[n];return t}var Z_=md("animationend"),eb=md("animationiteration"),tb=md("animationstart"),nb=md("transitionend"),rb=new Map,rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,e){rb.set(t,e),oi(e,[t])}for(var Dh=0;Dh<rv.length;Dh++){var Mh=rv[Dh],JI=Mh.toLowerCase(),ZI=Mh[0].toUpperCase()+Mh.slice(1);ys(JI,"on"+ZI)}ys(Z_,"onAnimationEnd");ys(eb,"onAnimationIteration");ys(tb,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(nb,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function sv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jk(r,e,void 0,t),t.currentTarget=null}function sb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;sv(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;sv(s,l,d),i=c}}}if(hu)throw t=Wf,hu=!1,Wf=null,t}function Ee(t,e){var n=e[tm];n===void 0&&(n=e[tm]=new Set);var r=t+"__bubble";n.has(r)||(ib(e,t,2,!1),n.add(r))}function Vh(t,e,n){var r=0;e&&(r|=4),ib(n,t,r,e)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Xa(t){if(!t[pc]){t[pc]=!0,h_.forEach(function(n){n!=="selectionchange"&&(eC.has(n)||Vh(n,!1,t),Vh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pc]||(e[pc]=!0,Vh("selectionchange",!1,e))}}function ib(t,e,n,r){switch($_(e)){case 1:var s=mI;break;case 4:s=pI;break;default:s=Rp}n=s.bind(null,e,n,t),s=void 0,!Hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Lh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ls(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}I_(function(){var d=i,h=Cp(n),f=[];e:{var m=rb.get(t);if(m!==void 0){var g=Mp,_=t;switch(t){case"keypress":if(Bc(n)===0)break e;case"keydown":case"keyup":g=jI;break;case"focusin":_="focus",g=jh;break;case"focusout":_="blur",g=jh;break;case"beforeblur":case"afterblur":g=jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=RI;break;case Z_:case eb:case tb:g=_I;break;case nb:g=MI;break;case"scroll":g=gI;break;case"wheel":g=LI;break;case"copy":case"cut":case"paste":g=TI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ky}var x=(e&4)!==0,N=!x&&t==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var v=d,b;v!==null;){b=v;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,w!==null&&(D=Wa(v,w),D!=null&&x.push(Ja(v,D,b)))),N)break;v=v.return}0<x.length&&(m=new g(m,_,null,n,h),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==$f&&(_=n.relatedTarget||n.fromElement)&&(Ls(_)||_[pr]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=d,_=_?Ls(_):null,_!==null&&(N=ai(_),_!==N||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=d),g!==_)){if(x=qy,D="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ky,D="onPointerLeave",w="onPointerEnter",v="pointer"),N=g==null?m:Ri(g),b=_==null?m:Ri(_),m=new x(D,v+"leave",g,n,h),m.target=N,m.relatedTarget=b,D=null,Ls(h)===d&&(x=new x(w,v+"enter",_,n,h),x.target=b,x.relatedTarget=N,D=x),N=D,g&&_)t:{for(x=g,w=_,v=0,b=x;b;b=_i(b))v++;for(b=0,D=w;D;D=_i(D))b++;for(;0<v-b;)x=_i(x),v--;for(;0<b-v;)w=_i(w),b--;for(;v--;){if(x===w||w!==null&&x===w.alternate)break t;x=_i(x),w=_i(w)}x=null}else x=null;g!==null&&iv(f,m,g,x,!1),_!==null&&N!==null&&iv(f,N,_,x,!0)}}e:{if(m=d?Ri(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var P=HI;else if(Xy(m))if(K_)P=KI;else{P=qI;var O=WI}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=GI);if(P&&(P=P(t,d))){G_(f,P,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Lf(m,"number",m.value)}switch(O=d?Ri(d):window,t){case"focusin":(Xy(O)||O.contentEditable==="true")&&(Ai=O,Qf=d,Sa=null);break;case"focusout":Sa=Qf=Ai=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,nv(f,n,h);break;case"selectionchange":if(XI)break;case"keydown":case"keyup":nv(f,n,h)}var k;if(Lp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ji?W_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(H_&&n.locale!=="ko"&&(ji||T!=="onCompositionStart"?T==="onCompositionEnd"&&ji&&(k=z_()):($r=h,Dp="value"in $r?$r.value:$r.textContent,ji=!0)),O=yu(d,T),0<O.length&&(T=new Gy(T,t,null,n,h),f.push({event:T,listeners:O}),k?T.data=k:(k=q_(n),k!==null&&(T.data=k)))),(k=FI?UI(t,n):BI(t,n))&&(d=yu(d,"onBeforeInput"),0<d.length&&(h=new Gy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=k))}sb(f,e)})}function Ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wa(t,n),i!=null&&r.unshift(Ja(t,i,s)),i=Wa(t,e),i!=null&&r.push(Ja(t,i,s))),t=t.return}return r}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Wa(n,i),c!=null&&o.unshift(Ja(n,c,l))):s||(c=Wa(n,i),c!=null&&o.push(Ja(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(tC,`
`).replace(nC,"")}function gc(t,e,n){if(e=ov(e),ov(t)!==e&&n)throw Error(z(425))}function vu(){}var Xf=null,Jf=null;function Zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var em=typeof setTimeout=="function"?setTimeout:void 0,rC=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,sC=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(iC)}:em;function iC(t){setTimeout(function(){throw t})}function Oh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ka(e)}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Rn="__reactFiber$"+ko,Za="__reactProps$"+ko,pr="__reactContainer$"+ko,tm="__reactEvents$"+ko,oC="__reactListeners$"+ko,aC="__reactHandles$"+ko;function Ls(t){var e=t[Rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[Rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lv(t);t!==null;){if(n=t[Rn])return n;t=lv(t)}return e}t=n,n=t.parentNode}return null}function Tl(t){return t=t[Rn]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function pd(t){return t[Za]||null}var nm=[],Di=-1;function vs(t){return{current:t}}function Ne(t){0>Di||(t.current=nm[Di],nm[Di]=null,Di--)}function Te(t,e){Di++,nm[Di]=t.current,t.current=e}var as={},_t=vs(as),Ut=vs(!1),Qs=as;function oo(t,e){var n=t.type.contextTypes;if(!n)return as;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(t){return t=t.childContextTypes,t!=null}function xu(){Ne(Ut),Ne(_t)}function cv(t,e,n){if(_t.current!==as)throw Error(z(168));Te(_t,e),Te(Ut,n)}function ob(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,Wk(t)||"Unknown",s));return Ve({},n,r)}function wu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||as,Qs=_t.current,Te(_t,t),Te(Ut,Ut.current),!0}function uv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=ob(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,Ne(Ut),Ne(_t),Te(_t,t)):Ne(Ut),Te(Ut,n)}var rr=null,gd=!1,Fh=!1;function ab(t){rr===null?rr=[t]:rr.push(t)}function lC(t){gd=!0,ab(t)}function xs(){if(!Fh&&rr!==null){Fh=!0;var t=0,e=we;try{var n=rr;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,gd=!1}catch(s){throw rr!==null&&(rr=rr.slice(t+1)),P_(jp,xs),s}finally{we=e,Fh=!1}}return null}var Mi=[],Vi=0,_u=null,bu=0,nn=[],rn=0,Ys=null,ir=1,or="";function As(t,e){Mi[Vi++]=bu,Mi[Vi++]=_u,_u=t,bu=e}function lb(t,e,n){nn[rn++]=ir,nn[rn++]=or,nn[rn++]=Ys,Ys=t;var r=ir;t=or;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var i=32-bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ir=1<<32-bn(e)+s|n<<s|r,or=i+t}else ir=1<<i|n<<s|r,or=t}function Fp(t){t.return!==null&&(As(t,1),lb(t,1,0))}function Up(t){for(;t===_u;)_u=Mi[--Vi],Mi[Vi]=null,bu=Mi[--Vi],Mi[Vi]=null;for(;t===Ys;)Ys=nn[--rn],nn[rn]=null,or=nn[--rn],nn[rn]=null,ir=nn[--rn],nn[rn]=null}var Kt=null,Gt=null,ke=!1,vn=null;function cb(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Gt=Qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:ir,overflow:or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,Gt=null,!0):!1;default:return!1}}function rm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sm(t){if(ke){var e=Gt;if(e){var n=e;if(!dv(t,e)){if(rm(t))throw Error(z(418));e=Qr(n.nextSibling);var r=Kt;e&&dv(t,e)?cb(r,n):(t.flags=t.flags&-4097|2,ke=!1,Kt=t)}}else{if(rm(t))throw Error(z(418));t.flags=t.flags&-4097|2,ke=!1,Kt=t}}}function hv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function yc(t){if(t!==Kt)return!1;if(!ke)return hv(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zf(t.type,t.memoizedProps)),e&&(e=Gt)){if(rm(t))throw ub(),Error(z(418));for(;e;)cb(t,e),e=Qr(e.nextSibling)}if(hv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Kt?Qr(t.stateNode.nextSibling):null;return!0}function ub(){for(var t=Gt;t;)t=Qr(t.nextSibling)}function ao(){Gt=Kt=null,ke=!1}function Bp(t){vn===null?vn=[t]:vn.push(t)}var cC=Tr.ReactCurrentBatchConfig;function ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function vc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fv(t){var e=t._init;return e(t._payload)}function db(t){function e(w,v){if(t){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Zr(w,v),w.index=0,w.sibling=null,w}function i(w,v,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,v,b,D){return v===null||v.tag!==6?(v=qh(b,w.mode,D),v.return=w,v):(v=s(v,b),v.return=w,v)}function c(w,v,b,D){var P=b.type;return P===Ci?h(w,v,b.props.children,D,b.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Pr&&fv(P)===v.type)?(D=s(v,b.props),D.ref=ia(w,v,b),D.return=w,D):(D=Kc(b.type,b.key,b.props,null,w.mode,D),D.ref=ia(w,v,b),D.return=w,D)}function d(w,v,b,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Gh(b,w.mode,D),v.return=w,v):(v=s(v,b.children||[]),v.return=w,v)}function h(w,v,b,D,P){return v===null||v.tag!==7?(v=Hs(b,w.mode,D,P),v.return=w,v):(v=s(v,b),v.return=w,v)}function f(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qh(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ac:return b=Kc(v.type,v.key,v.props,null,w.mode,b),b.ref=ia(w,null,v),b.return=w,b;case Ii:return v=Gh(v,w.mode,b),v.return=w,v;case Pr:var D=v._init;return f(w,D(v._payload),b)}if(fa(v)||ea(v))return v=Hs(v,w.mode,b,null),v.return=w,v;vc(w,v)}return null}function m(w,v,b,D){var P=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:l(w,v,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ac:return b.key===P?c(w,v,b,D):null;case Ii:return b.key===P?d(w,v,b,D):null;case Pr:return P=b._init,m(w,v,P(b._payload),D)}if(fa(b)||ea(b))return P!==null?null:h(w,v,b,D,null);vc(w,b)}return null}function g(w,v,b,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(b)||null,l(v,w,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ac:return w=w.get(D.key===null?b:D.key)||null,c(v,w,D,P);case Ii:return w=w.get(D.key===null?b:D.key)||null,d(v,w,D,P);case Pr:var O=D._init;return g(w,v,b,O(D._payload),P)}if(fa(D)||ea(D))return w=w.get(b)||null,h(v,w,D,P,null);vc(v,D)}return null}function _(w,v,b,D){for(var P=null,O=null,k=v,T=v=0,I=null;k!==null&&T<b.length;T++){k.index>T?(I=k,k=null):I=k.sibling;var C=m(w,k,b[T],D);if(C===null){k===null&&(k=I);break}t&&k&&C.alternate===null&&e(w,k),v=i(C,v,T),O===null?P=C:O.sibling=C,O=C,k=I}if(T===b.length)return n(w,k),ke&&As(w,T),P;if(k===null){for(;T<b.length;T++)k=f(w,b[T],D),k!==null&&(v=i(k,v,T),O===null?P=k:O.sibling=k,O=k);return ke&&As(w,T),P}for(k=r(w,k);T<b.length;T++)I=g(k,w,T,b[T],D),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?T:I.key),v=i(I,v,T),O===null?P=I:O.sibling=I,O=I);return t&&k.forEach(function(A){return e(w,A)}),ke&&As(w,T),P}function x(w,v,b,D){var P=ea(b);if(typeof P!="function")throw Error(z(150));if(b=P.call(b),b==null)throw Error(z(151));for(var O=P=null,k=v,T=v=0,I=null,C=b.next();k!==null&&!C.done;T++,C=b.next()){k.index>T?(I=k,k=null):I=k.sibling;var A=m(w,k,C.value,D);if(A===null){k===null&&(k=I);break}t&&k&&A.alternate===null&&e(w,k),v=i(A,v,T),O===null?P=A:O.sibling=A,O=A,k=I}if(C.done)return n(w,k),ke&&As(w,T),P;if(k===null){for(;!C.done;T++,C=b.next())C=f(w,C.value,D),C!==null&&(v=i(C,v,T),O===null?P=C:O.sibling=C,O=C);return ke&&As(w,T),P}for(k=r(w,k);!C.done;T++,C=b.next())C=g(k,w,T,C.value,D),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?T:C.key),v=i(C,v,T),O===null?P=C:O.sibling=C,O=C);return t&&k.forEach(function(R){return e(w,R)}),ke&&As(w,T),P}function N(w,v,b,D){if(typeof b=="object"&&b!==null&&b.type===Ci&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ac:e:{for(var P=b.key,O=v;O!==null;){if(O.key===P){if(P=b.type,P===Ci){if(O.tag===7){n(w,O.sibling),v=s(O,b.props.children),v.return=w,w=v;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Pr&&fv(P)===O.type){n(w,O.sibling),v=s(O,b.props),v.ref=ia(w,O,b),v.return=w,w=v;break e}n(w,O);break}else e(w,O);O=O.sibling}b.type===Ci?(v=Hs(b.props.children,w.mode,D,b.key),v.return=w,w=v):(D=Kc(b.type,b.key,b.props,null,w.mode,D),D.ref=ia(w,v,b),D.return=w,w=D)}return o(w);case Ii:e:{for(O=b.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=s(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Gh(b,w.mode,D),v.return=w,w=v}return o(w);case Pr:return O=b._init,N(w,v,O(b._payload),D)}if(fa(b))return _(w,v,b,D);if(ea(b))return x(w,v,b,D);vc(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,b),v.return=w,w=v):(n(w,v),v=qh(b,w.mode,D),v.return=w,w=v),o(w)):n(w,v)}return N}var lo=db(!0),hb=db(!1),Tu=vs(null),Su=null,Li=null,$p=null;function zp(){$p=Li=Su=null}function Hp(t){var e=Tu.current;Ne(Tu),t._currentValue=e}function im(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qi(t,e){Su=t,$p=Li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if($p!==t)if(t={context:t,memoizedValue:e,next:null},Li===null){if(Su===null)throw Error(z(308));Li=t,Su.dependencies={lanes:0,firstContext:t}}else Li=Li.next=t;return e}var Os=null;function Wp(t){Os===null?Os=[t]:Os.push(t)}function fb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wp(e)):(n.next=s.next,s.next=n),e.interleaved=n,gr(t,r)}function gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gr(t,n)}return s=r.interleaved,s===null?(e.next=e,Wp(r)):(e.next=s.next,s.next=e),r.interleaved=e,gr(t,n)}function $c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ap(t,n)}}function mv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Eu(t,e,n,r){var s=t.updateQueue;Rr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,x=l;switch(m=e,g=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){f=_.call(g,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,m=typeof _=="function"?_.call(g,f,m):_,m==null)break e;f=Ve({},f,m);break e;case 2:Rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,c=f):h=h.next=g,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Js|=o,t.lanes=o,t.memoizedState=f}}function pv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Sl={},Ln=vs(Sl),el=vs(Sl),tl=vs(Sl);function Fs(t){if(t===Sl)throw Error(z(174));return t}function Gp(t,e){switch(Te(tl,e),Te(el,t),Te(Ln,Sl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ff(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ff(e,t)}Ne(Ln),Te(Ln,e)}function co(){Ne(Ln),Ne(el),Ne(tl)}function pb(t){Fs(tl.current);var e=Fs(Ln.current),n=Ff(e,t.type);e!==n&&(Te(el,t),Te(Ln,n))}function Kp(t){el.current===t&&(Ne(Ln),Ne(el))}var je=vs(0);function Nu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uh=[];function Qp(){for(var t=0;t<Uh.length;t++)Uh[t]._workInProgressVersionPrimary=null;Uh.length=0}var zc=Tr.ReactCurrentDispatcher,Bh=Tr.ReactCurrentBatchConfig,Xs=0,Re=null,Je=null,rt=null,ku=!1,Ea=!1,nl=0,uC=0;function mt(){throw Error(z(321))}function Yp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sn(t[n],e[n]))return!1;return!0}function Xp(t,e,n,r,s,i){if(Xs=i,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zc.current=t===null||t.memoizedState===null?mC:pC,t=n(r,s),Ea){i=0;do{if(Ea=!1,nl=0,25<=i)throw Error(z(301));i+=1,rt=Je=null,e.updateQueue=null,zc.current=gC,t=n(r,s)}while(Ea)}if(zc.current=Iu,e=Je!==null&&Je.next!==null,Xs=0,rt=Je=Re=null,ku=!1,e)throw Error(z(300));return t}function Jp(){var t=nl!==0;return nl=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Re.memoizedState=rt=t:rt=rt.next=t,rt}function dn(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=rt===null?Re.memoizedState:rt.next;if(e!==null)rt=e,Je=t;else{if(t===null)throw Error(z(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},rt===null?Re.memoizedState=rt=t:rt=rt.next=t}return rt}function rl(t,e){return typeof e=="function"?e(t):e}function $h(t){var e=dn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((Xs&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Re.lanes|=h,Js|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Sn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Re.lanes|=i,Js|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zh(t){var e=dn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Sn(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gb(){}function yb(t,e){var n=Re,r=dn(),s=e(),i=!Sn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ft=!0),r=r.queue,Zp(wb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,sl(9,xb.bind(null,n,r,s,e),void 0,null),st===null)throw Error(z(349));Xs&30||vb(n,e,s)}return s}function vb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xb(t,e,n,r){e.value=n,e.getSnapshot=r,_b(e)&&bb(t)}function wb(t,e,n){return n(function(){_b(e)&&bb(t)})}function _b(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sn(t,n)}catch{return!0}}function bb(t){var e=gr(t,1);e!==null&&Tn(e,t,1,-1)}function gv(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:t},e.queue=t,t=t.dispatch=fC.bind(null,Re,t),[e.memoizedState,t]}function sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tb(){return dn().memoizedState}function Hc(t,e,n,r){var s=An();Re.flags|=t,s.memoizedState=sl(1|e,n,void 0,r===void 0?null:r)}function yd(t,e,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&Yp(r,o.deps)){s.memoizedState=sl(e,n,i,r);return}}Re.flags|=t,s.memoizedState=sl(1|e,n,i,r)}function yv(t,e){return Hc(8390656,8,t,e)}function Zp(t,e){return yd(2048,8,t,e)}function Sb(t,e){return yd(4,2,t,e)}function Eb(t,e){return yd(4,4,t,e)}function Nb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kb(t,e,n){return n=n!=null?n.concat([t]):null,yd(4,4,Nb.bind(null,e,t),n)}function eg(){}function Ib(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cb(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jb(t,e,n){return Xs&21?(Sn(n,e)||(n=M_(),Re.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function dC(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Bh.transition;Bh.transition={};try{t(!1),e()}finally{we=n,Bh.transition=r}}function Ab(){return dn().memoizedState}function hC(t,e,n){var r=Jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pb(t))Rb(e,n);else if(n=fb(t,e,n,r),n!==null){var s=Pt();Tn(n,t,r,s),Db(n,e,r)}}function fC(t,e,n){var r=Jr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pb(t))Rb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Sn(l,o)){var c=e.interleaved;c===null?(s.next=s,Wp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=fb(t,e,s,r),n!==null&&(s=Pt(),Tn(n,t,r,s),Db(n,e,r))}}function Pb(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function Rb(t,e){Ea=ku=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Db(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ap(t,n)}}var Iu={readContext:un,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},mC={readContext:un,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:yv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4194308,4,Nb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hc(4,2,t,e)},useMemo:function(t,e){var n=An();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=An();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hC.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:gv,useDebugValue:eg,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=gv(!1),e=t[0];return t=dC.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,s=An();if(ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),st===null)throw Error(z(349));Xs&30||vb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,yv(wb.bind(null,r,i,t),[t]),r.flags|=2048,sl(9,xb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=An(),e=st.identifierPrefix;if(ke){var n=or,r=ir;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pC={readContext:un,useCallback:Ib,useContext:un,useEffect:Zp,useImperativeHandle:kb,useInsertionEffect:Sb,useLayoutEffect:Eb,useMemo:Cb,useReducer:$h,useRef:Tb,useState:function(){return $h(rl)},useDebugValue:eg,useDeferredValue:function(t){var e=dn();return jb(e,Je.memoizedState,t)},useTransition:function(){var t=$h(rl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:gb,useSyncExternalStore:yb,useId:Ab,unstable_isNewReconciler:!1},gC={readContext:un,useCallback:Ib,useContext:un,useEffect:Zp,useImperativeHandle:kb,useInsertionEffect:Sb,useLayoutEffect:Eb,useMemo:Cb,useReducer:zh,useRef:Tb,useState:function(){return zh(rl)},useDebugValue:eg,useDeferredValue:function(t){var e=dn();return Je===null?e.memoizedState=t:jb(e,Je.memoizedState,t)},useTransition:function(){var t=zh(rl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:gb,useSyncExternalStore:yb,useId:Ab,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function om(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vd={isMounted:function(t){return(t=t._reactInternals)?ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),s=Jr(t),i=ur(r,s);i.payload=e,n!=null&&(i.callback=n),e=Yr(t,i,s),e!==null&&(Tn(e,t,s,r),$c(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),s=Jr(t),i=ur(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Yr(t,i,s),e!==null&&(Tn(e,t,s,r),$c(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Jr(t),s=ur(n,r);s.tag=2,e!=null&&(s.callback=e),e=Yr(t,s,r),e!==null&&(Tn(e,t,r,n),$c(e,t,r))}};function vv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ya(n,r)||!Ya(s,i):!0}function Mb(t,e,n){var r=!1,s=as,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Bt(e)?Qs:_t.current,r=e.contextTypes,i=(r=r!=null)?oo(t,s):as),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vd.enqueueReplaceState(e,e.state,null)}function am(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Bt(e)?Qs:_t.current,s.context=oo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(om(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vd.enqueueReplaceState(s,s.state,null),Eu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function uo(t,e){try{var n="",r=e;do n+=Hk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yC=typeof WeakMap=="function"?WeakMap:Map;function Vb(t,e,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ju||(ju=!0,vm=r),lm(t,e)},n}function Lb(t,e,n){n=ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){lm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){lm(t,e),typeof r!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=AC.bind(null,t,e,n),e.then(t,t))}function _v(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ur(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t)}var vC=Tr.ReactCurrentOwner,Ft=!1;function Ct(t,e,n,r){e.child=t===null?hb(e,null,n,r):lo(e,t.child,n,r)}function Tv(t,e,n,r,s){n=n.render;var i=e.ref;return Qi(e,s),r=Xp(t,e,n,r,i,s),n=Jp(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yr(t,e,s)):(ke&&n&&Fp(e),e.flags|=1,Ct(t,e,r,s),e.child)}function Sv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!lg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ob(t,e,i,r,s)):(t=Kc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ya,n(o,r)&&t.ref===e.ref)return yr(t,e,s)}return e.flags|=1,t=Zr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ob(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ya(i,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,yr(t,e,s)}return cm(t,e,n,r,s)}function Fb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Fi,qt),qt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Fi,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(Fi,qt),qt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(Fi,qt),qt|=r;return Ct(t,e,s,n),e.child}function Ub(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cm(t,e,n,r,s){var i=Bt(n)?Qs:_t.current;return i=oo(e,i),Qi(e,s),n=Xp(t,e,n,r,i,s),r=Jp(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yr(t,e,s)):(ke&&r&&Fp(e),e.flags|=1,Ct(t,e,n,s),e.child)}function Ev(t,e,n,r,s){if(Bt(n)){var i=!0;wu(e)}else i=!1;if(Qi(e,s),e.stateNode===null)Wc(t,e),Mb(e,n,r),am(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=un(d):(d=Bt(n)?Qs:_t.current,d=oo(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&xv(e,o,r,d),Rr=!1;var m=e.memoizedState;o.state=m,Eu(e,r,o,s),c=e.memoizedState,l!==r||m!==c||Ut.current||Rr?(typeof h=="function"&&(om(e,n,h,r),c=e.memoizedState),(l=Rr||vv(e,n,l,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:gn(e.type,l),o.props=d,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=un(c):(c=Bt(n)?Qs:_t.current,c=oo(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&xv(e,o,r,c),Rr=!1,m=e.memoizedState,o.state=m,Eu(e,r,o,s);var _=e.memoizedState;l!==f||m!==_||Ut.current||Rr?(typeof g=="function"&&(om(e,n,g,r),_=e.memoizedState),(d=Rr||vv(e,n,d,r,m,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return um(t,e,n,r,i,s)}function um(t,e,n,r,s,i){Ub(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&uv(e,n,!1),yr(t,e,i);r=e.stateNode,vC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lo(e,t.child,null,i),e.child=lo(e,null,l,i)):Ct(t,e,l,i),e.memoizedState=r.state,s&&uv(e,n,!0),e.child}function Bb(t){var e=t.stateNode;e.pendingContext?cv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cv(t,e.context,!1),Gp(t,e.containerInfo)}function Nv(t,e,n,r,s){return ao(),Bp(s),e.flags|=256,Ct(t,e,n,r),e.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function hm(t){return{baseLanes:t,cachePool:null,transitions:null}}function $b(t,e,n){var r=e.pendingProps,s=je.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(je,s&1),t===null)return sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_d(o,r,0,null),t=Hs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hm(n),e.memoizedState=dm,t):tg(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xC(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Zr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Zr(l,i):(i=Hs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?hm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=dm,r}return i=t.child,t=i.sibling,r=Zr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tg(t,e){return e=_d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xc(t,e,n,r){return r!==null&&Bp(r),lo(e,t.child,null,n),t=tg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hh(Error(z(422))),xc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=_d({mode:"visible",children:r.children},s,0,null),i=Hs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&lo(e,t.child,null,o),e.child.memoizedState=hm(o),e.memoizedState=dm,i);if(!(e.mode&1))return xc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(z(419)),r=Hh(i,r,void 0),xc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ft||l){if(r=st,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gr(t,s),Tn(r,t,s,-1))}return ag(),r=Hh(Error(z(421))),xc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=PC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Gt=Qr(s.nextSibling),Kt=e,ke=!0,vn=null,t!==null&&(nn[rn++]=ir,nn[rn++]=or,nn[rn++]=Ys,ir=t.id,or=t.overflow,Ys=e),e=tg(e,r.children),e.flags|=4096,e)}function kv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),im(t.return,e,n)}function Wh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ct(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kv(t,n,e);else if(t.tag===19)kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Nu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wh(e,!0,n,null,i);break;case"together":Wh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wC(t,e,n){switch(e.tag){case 3:Bb(e),ao();break;case 5:pb(e);break;case 1:Bt(e.type)&&wu(e);break;case 4:Gp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Te(Tu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?$b(t,e,n):(Te(je,je.current&1),t=yr(t,e,n),t!==null?t.sibling:null);Te(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,Fb(t,e,n)}return yr(t,e,n)}var Hb,fm,Wb,qb;Hb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fm=function(){};Wb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fs(Ln.current);var i=null;switch(n){case"input":s=Mf(t,s),r=Mf(t,r),i=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":s=Of(t,s),r=Of(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vu)}Uf(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(za.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(za.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};qb=function(t,e,n,r){n!==r&&(e.flags|=4)};function oa(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _C(t,e,n){var r=e.pendingProps;switch(Up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Bt(e.type)&&xu(),pt(e),null;case 3:return r=e.stateNode,co(),Ne(Ut),Ne(_t),Qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(_m(vn),vn=null))),fm(t,e),pt(e),null;case 5:Kp(e);var s=Fs(tl.current);if(n=e.type,t!==null&&e.stateNode!=null)Wb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return pt(e),null}if(t=Fs(Ln.current),yc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Rn]=e,r[Za]=i,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<pa.length;s++)Ee(pa[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Vy(r,i),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",r);break;case"textarea":Oy(r,i),Ee("invalid",r)}Uf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&gc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gc(r.textContent,l,t),s=["children",""+l]):za.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":lc(r),Ly(r,i,!0);break;case"textarea":lc(r),Fy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=w_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rn]=e,t[Za]=r,Hb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bf(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),s=r;break;case"iframe":case"object":case"embed":Ee("load",t),s=r;break;case"video":case"audio":for(s=0;s<pa.length;s++)Ee(pa[s],t);s=r;break;case"source":Ee("error",t),s=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),s=r;break;case"details":Ee("toggle",t),s=r;break;case"input":Vy(t,r),s=Mf(t,r),Ee("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":Oy(t,r),s=Of(t,r),Ee("invalid",t);break;default:s=r}Uf(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?T_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&__(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ha(t,c):typeof c=="number"&&Ha(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(za.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",t):c!=null&&Ep(t,i,c,o))}switch(n){case"input":lc(t),Ly(t,r,!1);break;case"textarea":lc(t),Fy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+os(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Wi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)qb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Fs(tl.current),Fs(Ln.current),yc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rn]=e,(i=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:gc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=e,e.stateNode=r}return pt(e),null;case 13:if(Ne(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Gt!==null&&e.mode&1&&!(e.flags&128))ub(),ao(),e.flags|=98560,i=!1;else if(i=yc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Rn]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),i=!1}else vn!==null&&(_m(vn),vn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?Ze===0&&(Ze=3):ag())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return co(),fm(t,e),t===null&&Xa(e.stateNode.containerInfo),pt(e),null;case 10:return Hp(e.type._context),pt(e),null;case 17:return Bt(e.type)&&xu(),pt(e),null;case 19:if(Ne(je),i=e.memoizedState,i===null)return pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)oa(i,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nu(t),o!==null){for(e.flags|=128,oa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(je,je.current&1|2),e.child}t=t.sibling}i.tail!==null&&$e()>ho&&(e.flags|=128,r=!0,oa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Nu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return pt(e),null}else 2*$e()-i.renderingStartTime>ho&&n!==1073741824&&(e.flags|=128,r=!0,oa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$e(),e.sibling=null,n=je.current,Te(je,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return og(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function bC(t,e){switch(Up(e),e.tag){case 1:return Bt(e.type)&&xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),Ne(Ut),Ne(_t),Qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kp(e),null;case 13:if(Ne(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(je),null;case 4:return co(),null;case 10:return Hp(e.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var wc=!1,vt=!1,TC=typeof WeakSet=="function"?WeakSet:Set,X=null;function Oi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function mm(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var Iv=!1;function SC(t,e){if(Xf=pu,t=X_(),Op(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++d===s&&(l=o),m===i&&++h===r&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jf={focusedElem:t,selectionRange:n},pu=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,N=_.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:gn(e.type,x),N);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){Oe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return _=Iv,Iv=!1,_}function Na(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&mm(e,n,i)}s=s.next}while(s!==r)}}function xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gb(t){var e=t.alternate;e!==null&&(t.alternate=null,Gb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rn],delete e[Za],delete e[tm],delete e[oC],delete e[aC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kb(t){return t.tag===5||t.tag===3||t.tag===4}function Cv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vu));else if(r!==4&&(t=t.child,t!==null))for(gm(t,e,n),t=t.sibling;t!==null;)gm(t,e,n),t=t.sibling}function ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}var ot=null,yn=!1;function kr(t,e,n){for(n=n.child;n!==null;)Qb(t,e,n),n=n.sibling}function Qb(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(dd,n)}catch{}switch(n.tag){case 5:vt||Oi(n,e);case 6:var r=ot,s=yn;ot=null,kr(t,e,n),ot=r,yn=s,ot!==null&&(yn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(yn?(t=ot,n=n.stateNode,t.nodeType===8?Oh(t.parentNode,n):t.nodeType===1&&Oh(t,n),Ka(t)):Oh(ot,n.stateNode));break;case 4:r=ot,s=yn,ot=n.stateNode.containerInfo,yn=!0,kr(t,e,n),ot=r,yn=s;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mm(n,e,o),s=s.next}while(s!==r)}kr(t,e,n);break;case 1:if(!vt&&(Oi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,e,l)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,kr(t,e,n),vt=r):kr(t,e,n);break;default:kr(t,e,n)}}function jv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TC),e.forEach(function(r){var s=RC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,yn=!1;break e;case 3:ot=l.stateNode.containerInfo,yn=!0;break e;case 4:ot=l.stateNode.containerInfo,yn=!0;break e}l=l.return}if(ot===null)throw Error(z(160));Qb(i,o,s),ot=null,yn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Oe(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yb(e,t),e=e.sibling}function Yb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),jn(t),r&4){try{Na(3,t,t.return),xd(3,t)}catch(x){Oe(t,t.return,x)}try{Na(5,t,t.return)}catch(x){Oe(t,t.return,x)}}break;case 1:pn(e,t),jn(t),r&512&&n!==null&&Oi(n,n.return);break;case 5:if(pn(e,t),jn(t),r&512&&n!==null&&Oi(n,n.return),t.flags&32){var s=t.stateNode;try{Ha(s,"")}catch(x){Oe(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&v_(s,i),Bf(l,o);var d=Bf(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?T_(s,f):h==="dangerouslySetInnerHTML"?__(s,f):h==="children"?Ha(s,f):Ep(s,h,f,d)}switch(l){case"input":Vf(s,i);break;case"textarea":x_(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Wi(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Wi(s,!!i.multiple,i.defaultValue,!0):Wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Za]=i}catch(x){Oe(t,t.return,x)}}break;case 6:if(pn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Oe(t,t.return,x)}}break;case 3:if(pn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ka(e.containerInfo)}catch(x){Oe(t,t.return,x)}break;case 4:pn(e,t),jn(t);break;case 13:pn(e,t),jn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sg=$e())),r&4&&jv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(d=vt)||h,pn(e,t),vt=d):pn(e,t),jn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(f=X=h;X!==null;){switch(m=X,g=m.child,m.tag){case 0:case 11:case 14:case 15:Na(4,m,m.return);break;case 1:Oi(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){Oe(r,n,x)}}break;case 5:Oi(m,m.return);break;case 22:if(m.memoizedState!==null){Pv(f);continue}}g!==null?(g.return=m,X=g):Pv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=b_("display",o))}catch(x){Oe(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Oe(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(e,t),jn(t),r&4&&jv(t);break;case 21:break;default:pn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kb(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ha(s,""),r.flags&=-33);var i=Cv(t);ym(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Cv(t);gm(t,l,o);break;default:throw Error(z(161))}}catch(c){Oe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EC(t,e,n){X=t,Xb(t)}function Xb(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||wc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vt;l=wc;var d=vt;if(wc=o,(vt=c)&&!d)for(X=s;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?Rv(s):c!==null?(c.return=o,X=c):Rv(s);for(;i!==null;)X=i,Xb(i),i=i.sibling;X=s,wc=l,vt=d}Av(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Av(t)}}function Av(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&pv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ka(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}vt||e.flags&512&&pm(e)}catch(m){Oe(e,e.return,m)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Pv(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Rv(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xd(4,e)}catch(c){Oe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Oe(e,s,c)}}var i=e.return;try{pm(e)}catch(c){Oe(e,i,c)}break;case 5:var o=e.return;try{pm(e)}catch(c){Oe(e,o,c)}}}catch(c){Oe(e,e.return,c)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var NC=Math.ceil,Cu=Tr.ReactCurrentDispatcher,ng=Tr.ReactCurrentOwner,an=Tr.ReactCurrentBatchConfig,ge=0,st=null,qe=null,lt=0,qt=0,Fi=vs(0),Ze=0,il=null,Js=0,wd=0,rg=0,ka=null,Ot=null,sg=0,ho=1/0,nr=null,ju=!1,vm=null,Xr=null,_c=!1,zr=null,Au=0,Ia=0,xm=null,qc=-1,Gc=0;function Pt(){return ge&6?$e():qc!==-1?qc:qc=$e()}function Jr(t){return t.mode&1?ge&2&&lt!==0?lt&-lt:cC.transition!==null?(Gc===0&&(Gc=M_()),Gc):(t=we,t!==0||(t=window.event,t=t===void 0?16:$_(t.type)),t):1}function Tn(t,e,n,r){if(50<Ia)throw Ia=0,xm=null,Error(z(185));_l(t,n,r),(!(ge&2)||t!==st)&&(t===st&&(!(ge&2)&&(wd|=n),Ze===4&&Lr(t,lt)),$t(t,r),n===1&&ge===0&&!(e.mode&1)&&(ho=$e()+500,gd&&xs()))}function $t(t,e){var n=t.callbackNode;cI(t,e);var r=mu(t,t===st?lt:0);if(r===0)n!==null&&$y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$y(n),e===1)t.tag===0?lC(Dv.bind(null,t)):ab(Dv.bind(null,t)),sC(function(){!(ge&6)&&xs()}),n=null;else{switch(V_(r)){case 1:n=jp;break;case 4:n=R_;break;case 16:n=fu;break;case 536870912:n=D_;break;default:n=fu}n=i2(n,Jb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jb(t,e){if(qc=-1,Gc=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var r=mu(t,t===st?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pu(t,r);else{e=r;var s=ge;ge|=2;var i=e2();(st!==t||lt!==e)&&(nr=null,ho=$e()+500,zs(t,e));do try{CC();break}catch(l){Zb(t,l)}while(!0);zp(),Cu.current=i,ge=s,qe!==null?e=0:(st=null,lt=0,e=Ze)}if(e!==0){if(e===2&&(s=qf(t),s!==0&&(r=s,e=wm(t,s))),e===1)throw n=il,zs(t,0),Lr(t,r),$t(t,$e()),n;if(e===6)Lr(t,r);else{if(s=t.current.alternate,!(r&30)&&!kC(s)&&(e=Pu(t,r),e===2&&(i=qf(t),i!==0&&(r=i,e=wm(t,i))),e===1))throw n=il,zs(t,0),Lr(t,r),$t(t,$e()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ps(t,Ot,nr);break;case 3:if(Lr(t,r),(r&130023424)===r&&(e=sg+500-$e(),10<e)){if(mu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=em(Ps.bind(null,t,Ot,nr),e);break}Ps(t,Ot,nr);break;case 4:if(Lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NC(r/1960))-r,10<r){t.timeoutHandle=em(Ps.bind(null,t,Ot,nr),r);break}Ps(t,Ot,nr);break;case 5:Ps(t,Ot,nr);break;default:throw Error(z(329))}}}return $t(t,$e()),t.callbackNode===n?Jb.bind(null,t):null}function wm(t,e){var n=ka;return t.current.memoizedState.isDehydrated&&(zs(t,e).flags|=256),t=Pu(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&_m(e)),t}function _m(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function kC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Sn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lr(t,e){for(e&=~rg,e&=~wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function Dv(t){if(ge&6)throw Error(z(327));Yi();var e=mu(t,0);if(!(e&1))return $t(t,$e()),null;var n=Pu(t,e);if(t.tag!==0&&n===2){var r=qf(t);r!==0&&(e=r,n=wm(t,r))}if(n===1)throw n=il,zs(t,0),Lr(t,e),$t(t,$e()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ps(t,Ot,nr),$t(t,$e()),null}function ig(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(ho=$e()+500,gd&&xs())}}function Zs(t){zr!==null&&zr.tag===0&&!(ge&6)&&Yi();var e=ge;ge|=1;var n=an.transition,r=we;try{if(an.transition=null,we=1,t)return t()}finally{we=r,an.transition=n,ge=e,!(ge&6)&&xs()}}function og(){qt=Fi.current,Ne(Fi)}function zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rC(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Up(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xu();break;case 3:co(),Ne(Ut),Ne(_t),Qp();break;case 5:Kp(r);break;case 4:co();break;case 13:Ne(je);break;case 19:Ne(je);break;case 10:Hp(r.type._context);break;case 22:case 23:og()}n=n.return}if(st=t,qe=t=Zr(t.current,null),lt=qt=e,Ze=0,il=null,rg=wd=Js=0,Ot=ka=null,Os!==null){for(e=0;e<Os.length;e++)if(n=Os[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Os=null}return t}function Zb(t,e){do{var n=qe;try{if(zp(),zc.current=Iu,ku){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ku=!1}if(Xs=0,rt=Je=Re=null,Ea=!1,nl=0,ng.current=null,n===null||n.return===null){Ze=1,il=e,qe=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=_v(o);if(g!==null){g.flags&=-257,bv(g,o,l,i,e),g.mode&1&&wv(i,d,e),e=g,c=d;var _=e.updateQueue;if(_===null){var x=new Set;x.add(c),e.updateQueue=x}else _.add(c);break e}else{if(!(e&1)){wv(i,d,e),ag();break e}c=Error(z(426))}}else if(ke&&l.mode&1){var N=_v(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),bv(N,o,l,i,e),Bp(uo(c,l));break e}}i=c=uo(c,l),Ze!==4&&(Ze=2),ka===null?ka=[i]:ka.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Vb(i,c,e);mv(i,w);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xr===null||!Xr.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=Lb(i,l,e);mv(i,D);break e}}i=i.return}while(i!==null)}n2(n)}catch(P){e=P,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function e2(){var t=Cu.current;return Cu.current=Iu,t===null?Iu:t}function ag(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),st===null||!(Js&268435455)&&!(wd&268435455)||Lr(st,lt)}function Pu(t,e){var n=ge;ge|=2;var r=e2();(st!==t||lt!==e)&&(nr=null,zs(t,e));do try{IC();break}catch(s){Zb(t,s)}while(!0);if(zp(),ge=n,Cu.current=r,qe!==null)throw Error(z(261));return st=null,lt=0,Ze}function IC(){for(;qe!==null;)t2(qe)}function CC(){for(;qe!==null&&!eI();)t2(qe)}function t2(t){var e=s2(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?n2(t):qe=e,ng.current=null}function n2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bC(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,qe=null;return}}else if(n=_C(n,e,qt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function Ps(t,e,n){var r=we,s=an.transition;try{an.transition=null,we=1,jC(t,e,n,r)}finally{an.transition=s,we=r}return null}function jC(t,e,n,r){do Yi();while(zr!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(uI(t,i),t===st&&(qe=st=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_c||(_c=!0,i2(fu,function(){return Yi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=an.transition,an.transition=null;var o=we;we=1;var l=ge;ge|=4,ng.current=null,SC(t,n),Yb(n,t),YI(Jf),pu=!!Xf,Jf=Xf=null,t.current=n,EC(n),tI(),ge=l,we=o,an.transition=i}else t.current=n;if(_c&&(_c=!1,zr=t,Au=s),i=t.pendingLanes,i===0&&(Xr=null),sI(n.stateNode),$t(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ju)throw ju=!1,t=vm,vm=null,t;return Au&1&&t.tag!==0&&Yi(),i=t.pendingLanes,i&1?t===xm?Ia++:(Ia=0,xm=t):Ia=0,xs(),null}function Yi(){if(zr!==null){var t=V_(Au),e=an.transition,n=we;try{if(an.transition=null,we=16>t?16:t,zr===null)var r=!1;else{if(t=zr,zr=null,Au=0,ge&6)throw Error(z(331));var s=ge;for(ge|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(X=d;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Na(8,h,i)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var m=h.sibling,g=h.return;if(Gb(h),h===d){X=null;break}if(m!==null){m.return=g,X=m;break}X=g}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Na(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,X=w;break e}X=i.return}}var v=t.current;for(X=v;X!==null;){o=X;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,X=b;else e:for(o=v;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xd(9,l)}}catch(P){Oe(l,l.return,P)}if(l===o){X=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,X=D;break e}X=l.return}}if(ge=s,xs(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(dd,t)}catch{}r=!0}return r}finally{we=n,an.transition=e}}return!1}function Mv(t,e,n){e=uo(n,e),e=Vb(t,e,1),t=Yr(t,e,1),e=Pt(),t!==null&&(_l(t,1,e),$t(t,e))}function Oe(t,e,n){if(t.tag===3)Mv(t,t,n);else for(;e!==null;){if(e.tag===3){Mv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xr===null||!Xr.has(r))){t=uo(n,t),t=Lb(e,t,1),e=Yr(e,t,1),t=Pt(),e!==null&&(_l(e,1,t),$t(e,t));break}}e=e.return}}function AC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(lt&n)===n&&(Ze===4||Ze===3&&(lt&130023424)===lt&&500>$e()-sg?zs(t,0):rg|=n),$t(t,e)}function r2(t,e){e===0&&(t.mode&1?(e=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):e=1);var n=Pt();t=gr(t,e),t!==null&&(_l(t,e,n),$t(t,n))}function PC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),r2(t,n)}function RC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),r2(t,n)}var s2;s2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,wC(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,ke&&e.flags&1048576&&lb(e,bu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wc(t,e),t=e.pendingProps;var s=oo(e,_t.current);Qi(e,n),s=Xp(null,e,r,t,s,n);var i=Jp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(i=!0,wu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qp(e),s.updater=vd,e.stateNode=s,s._reactInternals=e,am(e,r,t,n),e=um(null,e,r,!0,i,n)):(e.tag=0,ke&&i&&Fp(e),Ct(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=MC(r),t=gn(r,t),s){case 0:e=cm(null,e,r,t,n);break e;case 1:e=Ev(null,e,r,t,n);break e;case 11:e=Tv(null,e,r,t,n);break e;case 14:e=Sv(null,e,r,gn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),cm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Ev(t,e,r,s,n);case 3:e:{if(Bb(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,mb(t,e),Eu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=uo(Error(z(423)),e),e=Nv(t,e,r,n,s);break e}else if(r!==s){s=uo(Error(z(424)),e),e=Nv(t,e,r,n,s);break e}else for(Gt=Qr(e.stateNode.containerInfo.firstChild),Kt=e,ke=!0,vn=null,n=hb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===s){e=yr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return pb(e),t===null&&sm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Zf(r,s)?o=null:i!==null&&Zf(r,i)&&(e.flags|=32),Ub(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&sm(e),null;case 13:return $b(t,e,n);case 4:return Gp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lo(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Tv(t,e,r,s,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Te(Tu,r._currentValue),r._currentValue=o,i!==null)if(Sn(i.value,o)){if(i.children===s.children&&!Ut.current){e=yr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ur(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),im(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),im(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ct(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Qi(e,n),s=un(s),r=r(s),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,s=gn(r,e.pendingProps),s=gn(r.type,s),Sv(t,e,r,s,n);case 15:return Ob(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Wc(t,e),e.tag=1,Bt(r)?(t=!0,wu(e)):t=!1,Qi(e,n),Mb(e,r,s),am(e,r,s,n),um(null,e,r,!0,t,n);case 19:return zb(t,e,n);case 22:return Fb(t,e,n)}throw Error(z(156,e.tag))};function i2(t,e){return P_(t,e)}function DC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new DC(t,e,n,r)}function lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MC(t){if(typeof t=="function")return lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kp)return 11;if(t===Ip)return 14}return 2}function Zr(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ci:return Hs(n.children,s,i,e);case Np:o=8,s|=8;break;case Af:return t=on(12,n,e,s|2),t.elementType=Af,t.lanes=i,t;case Pf:return t=on(13,n,e,s),t.elementType=Pf,t.lanes=i,t;case Rf:return t=on(19,n,e,s),t.elementType=Rf,t.lanes=i,t;case p_:return _d(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case f_:o=10;break e;case m_:o=9;break e;case kp:o=11;break e;case Ip:o=14;break e;case Pr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=on(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Hs(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function _d(t,e,n,r){return t=on(22,t,r,e),t.elementType=p_,t.lanes=n,t.stateNode={isHidden:!1},t}function qh(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function Gh(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cg(t,e,n,r,s,i,o,l,c){return t=new VC(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=on(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(i),t}function LC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function o2(t){if(!t)return as;t=t._reactInternals;e:{if(ai(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Bt(n))return ob(t,n,e)}return e}function a2(t,e,n,r,s,i,o,l,c){return t=cg(n,r,!0,t,s,i,o,l,c),t.context=o2(null),n=t.current,r=Pt(),s=Jr(n),i=ur(r,s),i.callback=e??null,Yr(n,i,s),t.current.lanes=s,_l(t,s,r),$t(t,r),t}function bd(t,e,n,r){var s=e.current,i=Pt(),o=Jr(s);return n=o2(n),e.context===null?e.context=n:e.pendingContext=n,e=ur(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yr(s,e,o),t!==null&&(Tn(t,s,o,i),$c(t,s,o)),o}function Ru(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ug(t,e){Vv(t,e),(t=t.alternate)&&Vv(t,e)}function OC(){return null}var l2=typeof reportError=="function"?reportError:function(t){console.error(t)};function dg(t){this._internalRoot=t}Td.prototype.render=dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));bd(t,e,null,null)};Td.prototype.unmount=dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){bd(null,t,null,null)}),e[pr]=null}};function Td(t){this._internalRoot=t}Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=F_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vr.length&&e!==0&&e<Vr[n].priority;n++);Vr.splice(n,0,t),n===0&&B_(t)}};function hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function FC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Ru(o);i.call(d)}}var o=a2(e,r,t,0,null,!1,!1,"",Lv);return t._reactRootContainer=o,t[pr]=o.current,Xa(t.nodeType===8?t.parentNode:t),Zs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Ru(c);l.call(d)}}var c=cg(t,0,!1,null,null,!1,!1,"",Lv);return t._reactRootContainer=c,t[pr]=c.current,Xa(t.nodeType===8?t.parentNode:t),Zs(function(){bd(e,c,n,r)}),c}function Ed(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ru(o);l.call(c)}}bd(e,o,t,s)}else o=FC(n,e,t,s,r);return Ru(o)}L_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ma(e.pendingLanes);n!==0&&(Ap(e,n|1),$t(e,$e()),!(ge&6)&&(ho=$e()+500,xs()))}break;case 13:Zs(function(){var r=gr(t,1);if(r!==null){var s=Pt();Tn(r,t,1,s)}}),ug(t,1)}};Pp=function(t){if(t.tag===13){var e=gr(t,134217728);if(e!==null){var n=Pt();Tn(e,t,134217728,n)}ug(t,134217728)}};O_=function(t){if(t.tag===13){var e=Jr(t),n=gr(t,e);if(n!==null){var r=Pt();Tn(n,t,e,r)}ug(t,e)}};F_=function(){return we};U_=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};zf=function(t,e,n){switch(e){case"input":if(Vf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=pd(r);if(!s)throw Error(z(90));y_(r),Vf(r,s)}}}break;case"textarea":x_(t,n);break;case"select":e=n.value,e!=null&&Wi(t,!!n.multiple,e,!1)}};N_=ig;k_=Zs;var UC={usingClientEntryPoint:!1,Events:[Tl,Ri,pd,S_,E_,ig]},aa={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BC={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j_(t),t===null?null:t.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||OC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{dd=bc.inject(BC),Vn=bc}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hg(e))throw Error(z(200));return LC(t,e,null,n)};Jt.createRoot=function(t,e){if(!hg(t))throw Error(z(299));var n=!1,r="",s=l2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cg(t,1,!1,null,null,n,!1,r,s),t[pr]=e.current,Xa(t.nodeType===8?t.parentNode:t),new dg(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=j_(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Zs(t)};Jt.hydrate=function(t,e,n){if(!Sd(e))throw Error(z(200));return Ed(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!hg(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=l2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=a2(e,null,t,1,n??null,s,!1,i,o),t[pr]=e.current,Xa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Td(e)};Jt.render=function(t,e,n){if(!Sd(e))throw Error(z(200));return Ed(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Sd(t))throw Error(z(40));return t._reactRootContainer?(Zs(function(){Ed(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};Jt.unstable_batchedUpdates=ig;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Ed(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function c2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c2)}catch(t){console.error(t)}}c2(),c_.exports=Jt;var $C=c_.exports,Ov=$C;Cf.createRoot=Ov.createRoot,Cf.hydrateRoot=Ov.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fv="popstate";function zC(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return bm("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ol(s)}return WC(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HC(){return Math.random().toString(36).substring(2,10)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function bm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Io(e):e,state:n,key:e&&e.key||r||HC()}}function ol({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function WC(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let N=h(),w=N==null?null:N-d;d=N,c&&c({action:l,location:x.location,delta:w})}function m(N,w){l="PUSH";let v=bm(x.location,N,w);d=h()+1;let b=Uv(v,d),D=x.createHref(v);try{o.pushState(b,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(D)}i&&c&&c({action:l,location:x.location,delta:1})}function g(N,w){l="REPLACE";let v=bm(x.location,N,w);d=h();let b=Uv(v,d),D=x.createHref(v);o.replaceState(b,"",D),i&&c&&c({action:l,location:x.location,delta:0})}function _(N){return qC(N)}let x={get action(){return l},get location(){return t(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Fv,f),c=N,()=>{s.removeEventListener(Fv,f),c=null}},createHref(N){return e(s,N)},createURL:_,encodeLocation(N){let w=_(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(N){return o.go(N)}};return x}function qC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),De(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ol(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function u2(t,e,n="/"){return GC(t,e,n,!1)}function GC(t,e,n,r){let s=typeof e=="string"?Io(e):e,i=vr(s.pathname||"/",n);if(i==null)return null;let o=d2(t);KC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ij(i);l=rj(o[c],d,r)}return l}function d2(t,e=[],n=[],r=""){let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(De(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=dr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(De(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),d2(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:tj(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of h2(i.path))s(i,o,c)}),e}function h2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=h2(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function KC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QC=/^:[\w-]+$/,YC=3,XC=2,JC=1,ZC=10,ej=-2,Bv=t=>t==="*";function tj(t,e){let n=t.split("/"),r=n.length;return n.some(Bv)&&(r+=ej),e&&(r+=XC),n.filter(s=>!Bv(s)).reduce((s,i)=>s+(QC.test(i)?YC:i===""?JC:ZC),r)}function nj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function rj(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Du({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Du({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:dr([i,f.pathname]),pathnameBase:cj(dr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=dr([i,f.pathnameBase]))}return o}function Du(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},m)=>{if(h==="*"){let _=l[m]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const g=l[m];return f&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function sj(t,e=!1,n=!0){Wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ij(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oj(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Io(t):t;return{pathname:n?n.startsWith("/")?n:aj(n,e):e,search:uj(r),hash:dj(s)}}function aj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function f2(t){let e=lj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function m2(t,e,n,r=!1){let s;typeof t=="string"?s=Io(t):(s={...t},De(!s.pathname||!s.pathname.includes("?"),Kh("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),Kh("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),Kh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=oj(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var dr=t=>t.join("/").replace(/\/\/+/g,"/"),cj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var p2=["POST","PUT","PATCH","DELETE"];new Set(p2);var fj=["GET",...p2];new Set(fj);var Co=S.createContext(null);Co.displayName="DataRouter";var Nd=S.createContext(null);Nd.displayName="DataRouterState";S.createContext(!1);var g2=S.createContext({isTransitioning:!1});g2.displayName="ViewTransition";var mj=S.createContext(new Map);mj.displayName="Fetchers";var pj=S.createContext(null);pj.displayName="Await";var Yn=S.createContext(null);Yn.displayName="Navigation";var El=S.createContext(null);El.displayName="Location";var Xn=S.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var fg=S.createContext(null);fg.displayName="RouteError";function gj(t,{relative:e}={}){De(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Yn),{hash:s,pathname:i,search:o}=kl(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:dr([n,i])),r.createHref({pathname:l,search:o,hash:s})}function Nl(){return S.useContext(El)!=null}function ws(){return De(Nl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(El).location}var y2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v2(t){S.useContext(Yn).static||S.useLayoutEffect(t)}function yj(){let{isDataRoute:t}=S.useContext(Xn);return t?Aj():vj()}function vj(){De(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Co),{basename:e,navigator:n}=S.useContext(Yn),{matches:r}=S.useContext(Xn),{pathname:s}=ws(),i=JSON.stringify(f2(r)),o=S.useRef(!1);return v2(()=>{o.current=!0}),S.useCallback((c,d={})=>{if(Wn(o.current,y2),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=m2(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:dr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}S.createContext(null);function xj(){let{matches:t}=S.useContext(Xn),e=t[t.length-1];return e?e.params:{}}function kl(t,{relative:e}={}){let{matches:n}=S.useContext(Xn),{pathname:r}=ws(),s=JSON.stringify(f2(n));return S.useMemo(()=>m2(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function wj(t,e){return x2(t,e)}function x2(t,e,n,r){var w;De(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(Yn),{matches:i}=S.useContext(Xn),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let v=h&&h.path||"";w2(c,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=ws(),m;if(e){let v=typeof e=="string"?Io(e):e;De(d==="/"||((w=v.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),m=v}else m=f;let g=m.pathname||"/",_=g;if(d!=="/"){let v=d.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=u2(t,{pathname:_});Wn(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Ej(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:dr([d,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:dr([d,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&N?S.createElement(El.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},N):N}function _j(){let t=jj(),e=hj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,o)}var bj=S.createElement(_j,null),Tj=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(Xn.Provider,{value:this.props.routeContext},S.createElement(fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sj({routeContext:t,match:e,children:n}){let r=S.useContext(Co);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Xn.Provider,{value:t},n)}function Ej(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);De(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,m=!1,g=null,_=null;n&&(f=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||bj,o&&(l<0&&h===0?(w2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,_=null):l===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),N=()=>{let w;return f?w=g:m?w=_:d.route.Component?w=S.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,S.createElement(Sj,{match:d,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(Tj,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:N(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):N()},null)}function mg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nj(t){let e=S.useContext(Co);return De(e,mg(t)),e}function kj(t){let e=S.useContext(Nd);return De(e,mg(t)),e}function Ij(t){let e=S.useContext(Xn);return De(e,mg(t)),e}function pg(t){let e=Ij(t),n=e.matches[e.matches.length-1];return De(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Cj(){return pg("useRouteId")}function jj(){var r;let t=S.useContext(fg),e=kj("useRouteError"),n=pg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Aj(){let{router:t}=Nj("useNavigate"),e=pg("useNavigate"),n=S.useRef(!1);return v2(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{Wn(n.current,y2),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var $v={};function w2(t,e,n){!e&&!$v[t]&&($v[t]=!0,Wn(!1,n))}S.memo(Pj);function Pj({routes:t,future:e,state:n}){return x2(t,void 0,n,e)}function Tm(t){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){De(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Io(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,g=S.useMemo(()=>{let _=vr(c,o);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:m},navigationType:r}},[o,c,d,h,f,m,r]);return Wn(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:S.createElement(Yn.Provider,{value:l},S.createElement(El.Provider,{children:e,value:g}))}function Dj({children:t,location:e}){return wj(Sm(t),e)}function Sm(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,Sm(r.props.children,i));return}De(r.type===Tm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sm(r.props.children,i)),n.push(o)}),n}var Qc="get",Yc="application/x-www-form-urlencoded";function kd(t){return t!=null&&typeof t.tagName=="string"}function Mj(t){return kd(t)&&t.tagName.toLowerCase()==="button"}function Vj(t){return kd(t)&&t.tagName.toLowerCase()==="form"}function Lj(t){return kd(t)&&t.tagName.toLowerCase()==="input"}function Oj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fj(t,e){return t.button===0&&(!e||e==="_self")&&!Oj(t)}var Tc=null;function Uj(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var Bj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qh(t){return t!=null&&!Bj.has(t)?(Wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):t}function $j(t,e){let n,r,s,i,o;if(Vj(t)){let l=t.getAttribute("action");r=l?vr(l,e):null,n=t.getAttribute("method")||Qc,s=Qh(t.getAttribute("enctype"))||Yc,i=new FormData(t)}else if(Mj(t)||Lj(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?vr(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Qc,s=Qh(t.getAttribute("formenctype"))||Qh(l.getAttribute("enctype"))||Yc,i=new FormData(l,t),!Uj()){let{name:d,type:h,value:f}=t;if(h==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,f)}}else{if(kd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qc,r=null,s=Yc,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&vr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Hj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qj(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Hj(i,n);return o.links?o.links():[]}return[]}));return Yj(r.flat(1).filter(Wj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function zv(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Gj(t,e,{includeHydrateFallback:n}={}){return Kj(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Kj(t){return[...new Set(t)]}function Qj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Yj(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Qj(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function _2(){let t=S.useContext(Co);return gg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Xj(){let t=S.useContext(Nd);return gg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yg=S.createContext(void 0);yg.displayName="FrameworkContext";function b2(){let t=S.useContext(yg);return gg(t,"You must render this element inside a <HydratedRouter> element"),t}function Jj(t,e){let n=S.useContext(yg),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,m=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=w=>{w.forEach(v=>{o(v.isIntersecting)})},N=new IntersectionObserver(x,{threshold:.5});return m.current&&N.observe(m.current),()=>{N.disconnect()}}},[t]),S.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{s(!0)},_=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:la(l,g),onBlur:la(c,_),onMouseEnter:la(d,g),onMouseLeave:la(h,_),onTouchStart:la(f,g)}]:[!1,m,{}]}function la(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Zj({page:t,...e}){let{router:n}=_2(),r=S.useMemo(()=>u2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(tA,{page:t,matches:r,...e}):null}function eA(t){let{manifest:e,routeModules:n}=b2(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return qj(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function tA({page:t,matches:e,...n}){let r=ws(),{manifest:s,routeModules:i}=b2(),{basename:o}=_2(),{loaderData:l,matches:c}=Xj(),d=S.useMemo(()=>zv(t,e,c,s,r,"data"),[t,e,c,s,r]),h=S.useMemo(()=>zv(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,x=!1;if(e.forEach(w=>{var b;let v=s.routes[w.route.id];!v||!v.hasLoader||(!d.some(D=>D.route.id===w.route.id)&&w.route.id in l&&((b=i[w.route.id])!=null&&b.shouldRevalidate)||v.hasClientLoader?x=!0:_.add(w.route.id))}),_.size===0)return[];let N=zj(t,o,"data");return x&&_.size>0&&N.searchParams.set("_routes",e.filter(w=>_.has(w.route.id)).map(w=>w.route.id).join(",")),[N.pathname+N.search]},[o,l,r,s,d,e,t,i]),m=S.useMemo(()=>Gj(h,s),[h,s]),g=eA(h);return S.createElement(S.Fragment,null,f.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),m.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),g.map(({key:_,link:x})=>S.createElement("link",{key:_,...x})))}function nA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T2&&(window.__reactRouterVersion="7.7.1")}catch{}function rA({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=zC({window:n,v5Compat:!0}));let s=r.current,[i,o]=S.useState({action:s.action,location:s.location}),l=S.useCallback(c=>{S.startTransition(()=>o(c))},[o]);return S.useLayoutEffect(()=>s.listen(l),[s,l]),S.createElement(Rj,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var S2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E2=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f,...m},g){let{basename:_}=S.useContext(Yn),x=typeof d=="string"&&S2.test(d),N,w=!1;if(typeof d=="string"&&x&&(N=d,T2))try{let I=new URL(window.location.href),C=d.startsWith("//")?new URL(I.protocol+d):new URL(d),A=vr(C.pathname,_);C.origin===I.origin&&A!=null?d=A+C.search+C.hash:w=!0}catch{Wn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=gj(d,{relative:s}),[b,D,P]=Jj(r,m),O=aA(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function k(I){e&&e(I),I.defaultPrevented||O(I)}let T=S.createElement("a",{...m,...P,href:N||v,onClick:w||i?e:k,ref:nA(g,D),target:c,"data-discover":!x&&n==="render"?"true":void 0});return b&&!x?S.createElement(S.Fragment,null,T,S.createElement(Zj,{page:v})):T});E2.displayName="Link";var sA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},h){let f=kl(o,{relative:d.relative}),m=ws(),g=S.useContext(Nd),{navigator:_,basename:x}=S.useContext(Yn),N=g!=null&&hA(f)&&l===!0,w=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,v=m.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(v=v.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&x&&(b=vr(b,x)||b);const D=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=v===w||!s&&v.startsWith(w)&&v.charAt(D)==="/",O=b!=null&&(b===w||!s&&b.startsWith(w)&&b.charAt(w.length)==="/"),k={isActive:P,isPending:O,isTransitioning:N},T=P?e:void 0,I;typeof r=="function"?I=r(k):I=[r,P?"active":null,O?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(k):i;return S.createElement(E2,{...d,"aria-current":T,className:I,ref:h,style:C,to:o,viewTransition:l},typeof c=="function"?c(k):c)});sA.displayName="NavLink";var iA=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Qc,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...m},g)=>{let _=uA(),x=dA(l,{relative:d}),N=o.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&S2.test(l),v=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let D=b.nativeEvent.submitter,P=(D==null?void 0:D.getAttribute("formmethod"))||o;_(D||b.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:f})};return S.createElement("form",{ref:g,method:N,action:x,onSubmit:r?c:v,...m,"data-discover":!w&&t==="render"?"true":void 0})});iA.displayName="Form";function oA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N2(t){let e=S.useContext(Co);return De(e,oA(t)),e}function aA(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=yj(),c=ws(),d=kl(t,{relative:i});return S.useCallback(h=>{if(Fj(h,e)){h.preventDefault();let f=n!==void 0?n:ol(c)===ol(d);l(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,n,r,e,t,s,i,o])}var lA=0,cA=()=>`__${String(++lA)}__`;function uA(){let{router:t}=N2("useSubmit"),{basename:e}=S.useContext(Yn),n=Cj();return S.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=$j(r,e);if(s.navigate===!1){let h=s.fetcherKey||cA();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function dA(t,{relative:e}={}){let{basename:n}=S.useContext(Yn),r=S.useContext(Xn);De(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...kl(t||".",{relative:e})},o=ws();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:dr([n,i.pathname])),ol(i)}function hA(t,{relative:e}={}){let n=S.useContext(g2);De(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=N2("useViewTransitionState"),s=kl(t,{relative:e});if(!n.isTransitioning)return!1;let i=vr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=vr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Du(s.pathname,o)!=null||Du(s.pathname,i)!=null}const Id=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Cd=S.createContext({}),jd=S.createContext(null),Ad=typeof document<"u",li=Ad?S.useLayoutEffect:S.useEffect,k2=S.createContext({strict:!1}),vg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),fA="framerAppearId",I2="data-"+vg(fA);function mA(t,e,n,r){const{visualElement:s}=S.useContext(Cd),i=S.useContext(k2),o=S.useContext(jd),l=S.useContext(Id).reducedMotion,c=S.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;S.useInsertionEffect(()=>{d&&d.update(n,o)});const h=S.useRef(!!(n[I2]&&!window.HandoffComplete));return li(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function Ui(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pA(t,e,n){return S.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ui(n)&&(n.current=r))},[e])}function al(t){return typeof t=="string"||Array.isArray(t)}function Pd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const xg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wg=["initial",...xg];function Rd(t){return Pd(t.animate)||wg.some(e=>al(t[e]))}function C2(t){return!!(Rd(t)||t.variants)}function gA(t,e){if(Rd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||al(n)?n:void 0,animate:al(r)?r:void 0}}return t.inherit!==!1?e:{}}function yA(t){const{initial:e,animate:n}=gA(t,S.useContext(Cd));return S.useMemo(()=>({initial:e,animate:n}),[Hv(e),Hv(n)])}function Hv(t){return Array.isArray(t)?t.join(" "):t}const Wv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in Wv)ll[t]={isEnabled:e=>Wv[t].some(n=>!!e[n])};function vA(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const _g=S.createContext({}),j2=S.createContext({}),xA=Symbol.for("motionComponentSymbol");function wA({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&vA(t);function i(l,c){let d;const h={...S.useContext(Id),...l,layoutId:_A(l)},{isStatic:f}=h,m=yA(l),g=r(l,f);if(!f&&Ad){m.visualElement=mA(s,g,h,e);const _=S.useContext(j2),x=S.useContext(k2).strict;m.visualElement&&(d=m.visualElement.loadFeatures(h,x,t,_))}return S.createElement(Cd.Provider,{value:m},d&&m.visualElement?S.createElement(d,{visualElement:m.visualElement,...h}):null,n(s,l,pA(g,m.visualElement,c),g,f,m.visualElement))}const o=S.forwardRef(i);return o[xA]=s,o}function _A({layoutId:t}){const e=S.useContext(_g).id;return e&&t!==void 0?e+"-"+t:t}function bA(t){function e(r,s={}){return wA(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const TA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bg(t){return typeof t!="string"||t.includes("-")?!1:!!(TA.indexOf(t)>-1||/[A-Z]/.test(t))}const Mu={};function SA(t){Object.assign(Mu,t)}const Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ci=new Set(Il);function A2(t,{layout:e,layoutId:n}){return ci.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mu[t]||t==="opacity")}const bt=t=>!!(t&&t.getVelocity),EA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NA=Il.length;function kA(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<NA;o++){const l=Il[o];if(t[l]!==void 0){const c=EA[l]||l;i+=`${c}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const P2=t=>e=>typeof e=="string"&&e.startsWith(t),R2=P2("--"),Em=P2("var(--"),IA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,CA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ls=(t,e,n)=>Math.min(Math.max(n,t),e),ui={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ca={...ui,transform:t=>ls(0,1,t)},Sc={...ui,default:1},ja=t=>Math.round(t*1e5)/1e5,Dd=/(-)?([\d]*\.?[\d])+/g,D2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,jA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Cl(t){return typeof t=="string"}const jl=t=>({test:e=>Cl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cr=jl("deg"),On=jl("%"),re=jl("px"),AA=jl("vh"),PA=jl("vw"),qv={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},Gv={...ui,transform:Math.round},M2={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:Sc,scaleX:Sc,scaleY:Sc,scaleZ:Sc,skew:Cr,skewX:Cr,skewY:Cr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Ca,originX:qv,originY:qv,originZ:re,zIndex:Gv,fillOpacity:Ca,strokeOpacity:Ca,numOctaves:Gv};function Tg(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:l}=t;let c=!1,d=!1,h=!0;for(const f in e){const m=e[f];if(R2(f)){i[f]=m;continue}const g=M2[f],_=CA(m,g);if(ci.has(f)){if(c=!0,o[f]=_,!h)continue;m!==(g.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,l[f]=_):s[f]=_}if(e.transform||(c||r?s.transform=kA(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${m} ${g}`}}const Sg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function V2(t,e,n){for(const r in e)!bt(e[r])&&!A2(r,n)&&(t[r]=e[r])}function RA({transformTemplate:t},e,n){return S.useMemo(()=>{const r=Sg();return Tg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function DA(t,e,n){const r=t.style||{},s={};return V2(s,r,t),Object.assign(s,RA(t,e,n)),t.transformValues?t.transformValues(s):s}function MA(t,e,n){const r={},s=DA(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const VA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VA.has(t)}let L2=t=>!Vu(t);function LA(t){t&&(L2=e=>e.startsWith("on")?!Vu(e):t(e))}try{LA(require("@emotion/is-prop-valid").default)}catch{}function OA(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(L2(s)||n===!0&&Vu(s)||!e&&!Vu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Kv(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function FA(t,e,n){const r=Kv(e,t.x,t.width),s=Kv(n,t.y,t.height);return`${r} ${s}`}const UA={offset:"stroke-dashoffset",array:"stroke-dasharray"},BA={offset:"strokeDashoffset",array:"strokeDasharray"};function $A(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?UA:BA;t[i.offset]=re.transform(-r);const o=re.transform(e),l=re.transform(n);t[i.array]=`${o} ${l}`}function Eg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,f,m){if(Tg(t,d,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:_,dimensions:x}=t;g.transform&&(x&&(_.transform=g.transform),delete g.transform),x&&(s!==void 0||i!==void 0||_.transform)&&(_.transformOrigin=FA(x,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&$A(g,o,l,c,!1)}const O2=()=>({...Sg(),attrs:{}}),Ng=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zA(t,e,n,r){const s=S.useMemo(()=>{const i=O2();return Eg(i,e,{enableHardwareAcceleration:!1},Ng(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};V2(i,t.style,t),s.style={...i,...s.style}}return s}function HA(t=!1){return(n,r,s,{latestValues:i},o)=>{const c=(bg(n)?zA:MA)(r,i,o,n),h={...OA(r,typeof n=="string",t),...c,ref:s},{children:f}=r,m=S.useMemo(()=>bt(f)?f.get():f,[f]);return S.createElement(n,{...h,children:m})}}function F2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const U2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B2(t,e,n,r){F2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(U2.has(s)?s:vg(s),e.attrs[s])}function kg(t,e){const{style:n}=t,r={};for(const s in n)(bt(n[s])||e.style&&bt(e.style[s])||A2(s,t))&&(r[s]=n[s]);return r}function $2(t,e){const n=kg(t,e);for(const r in t)if(bt(t[r])||bt(e[r])){const s=Il.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Ig(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function jo(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Lu=t=>Array.isArray(t),WA=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),qA=t=>Lu(t)?t[t.length-1]||0:t;function Xc(t){const e=bt(t)?t.get():t;return WA(e)?e.toValue():e}function GA({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:KA(r,s,i,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const z2=t=>(e,n)=>{const r=S.useContext(Cd),s=S.useContext(jd),i=()=>GA(t,e,r,s);return n?i():jo(i)};function KA(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Xc(i[m]);let{initial:o,animate:l}=t;const c=Rd(t),d=C2(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;return f&&typeof f!="boolean"&&!Pd(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const _=Ig(t,g);if(!_)return;const{transitionEnd:x,transition:N,...w}=_;for(const v in w){let b=w[v];if(Array.isArray(b)){const D=h?b.length-1:0;b=b[D]}b!==null&&(s[v]=b)}for(const v in x)s[v]=x[v]}),s}const Fe=t=>t;class Qv{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function QA(t){let e=new Qv,n=new Qv,r=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const f=h&&s,m=f?e:n;return d&&o.add(c),m.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(c),o.has(h)&&(l.schedule(h),t())}s=!1,i&&(i=!1,l.process(c))}};return l}const Ec=["prepare","read","update","preRender","render","postRender"],YA=40;function XA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ec.reduce((f,m)=>(f[m]=QA(()=>n=!0),f),{}),o=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,YA),1),s.timestamp=f,s.isProcessing=!0,Ec.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:Ec.reduce((f,m)=>{const g=i[m];return f[m]=(_,x=!1,N=!1)=>(n||c(),g.schedule(_,x,N)),f},{}),cancel:f=>Ec.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:xe,cancel:En,state:Xe,steps:Yh}=XA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fe,!0),JA={useVisualState:z2({scrapeMotionValuesFromProps:$2,createRenderState:O2,onMount:(t,e,{renderState:n,latestValues:r})=>{xe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),xe.render(()=>{Eg(n,r,{enableHardwareAcceleration:!1},Ng(e.tagName),t.transformTemplate),B2(e,n)})}})},ZA={useVisualState:z2({scrapeMotionValuesFromProps:kg,createRenderState:Sg})};function eP(t,{forwardMotionProps:e=!1},n,r){return{...bg(t)?JA:ZA,preloadedFeatures:n,useRender:HA(e),createVisualElement:r,Component:t}}function ar(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const H2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Md(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const tP=t=>e=>H2(e)&&t(e,Md(e));function hr(t,e,n,r){return ar(t,e,tP(n),r)}const nP=(t,e)=>n=>e(t(n)),es=(...t)=>t.reduce(nP);function W2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Yv=W2("dragHorizontal"),Xv=W2("dragVertical");function q2(t){let e=!1;if(t==="y")e=Xv();else if(t==="x")e=Yv();else{const n=Yv(),r=Xv();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function G2(){const t=q2(!0);return t?(t(),!1):!0}class _s{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Jv(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||G2())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&xe.update(()=>l[r](i,o))};return hr(t.current,n,s,{passive:!t.getProps()[r]})}class rP extends _s{mount(){this.unmount=es(Jv(this.node,!0),Jv(this.node,!1))}unmount(){}}class sP extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=es(ar(this.node.current,"focus",()=>this.onFocus()),ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const K2=(t,e)=>e?t===e?!0:K2(t,e.parentElement):!1;function Xh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Md(n))}class iP extends _s{constructor(){super(...arguments),this.removeStartListeners=Fe,this.removeEndListeners=Fe,this.removeAccessibleListeners=Fe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=hr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();xe.update(()=>{!f&&!K2(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=hr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=es(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Xh("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&xe.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=ar(this.node.current,"keyup",o),Xh("down",(l,c)=>{this.startPress(l,c)})},n=ar(this.node.current,"keydown",e),r=()=>{this.isPressing&&Xh("cancel",(i,o)=>this.cancelPress(i,o))},s=ar(this.node.current,"blur",r);this.removeAccessibleListeners=es(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&xe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!G2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&xe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=hr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=es(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Nm=new WeakMap,Jh=new WeakMap,oP=t=>{const e=Nm.get(t.target);e&&e(t)},aP=t=>{t.forEach(oP)};function lP({root:t,...e}){const n=t||document;Jh.has(n)||Jh.set(n,{});const r=Jh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(aP,{root:t,...e})),r[s]}function cP(t,e,n){const r=lP(e);return Nm.set(t,n),r.observe(t),()=>{Nm.delete(t),r.unobserve(t)}}const uP={some:0,all:1};class dP extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:uP[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=d?h:f;m&&m(c)};return cP(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hP(e,n))&&this.startObserver()}unmount(){}}function hP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fP={inView:{Feature:dP},tap:{Feature:iP},focus:{Feature:sP},hover:{Feature:rP}};function Q2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function mP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function pP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Vd(t,e,n){const r=t.getProps();return Ig(r,e,n!==void 0?n:r.custom,mP(t),pP(t))}let gP=Fe,Cg=Fe;const Ws=t=>t*1e3,Fn=t=>t/1e3,yP={current:!1},Y2=t=>Array.isArray(t)&&typeof t[0]=="number";function X2(t){return!!(!t||typeof t=="string"&&J2[t]||Y2(t)||Array.isArray(t)&&t.every(X2))}const ga=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,J2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ga([0,.65,.55,1]),circOut:ga([.55,0,1,.45]),backIn:ga([.31,.01,.66,-.59]),backOut:ga([.33,1.53,.69,.99])};function Z2(t){if(t)return Y2(t)?ga(t):Array.isArray(t)?t.map(Z2):J2[t]}function vP(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=Z2(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function xP(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const eT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wP=1e-7,_P=12;function bP(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=eT(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>wP&&++l<_P);return o}function Al(t,e,n,r){if(t===e&&n===r)return Fe;const s=i=>bP(i,0,1,t,n);return i=>i===0||i===1?i:eT(s(i),e,r)}const TP=Al(.42,0,1,1),SP=Al(0,0,.58,1),tT=Al(.42,0,.58,1),EP=t=>Array.isArray(t)&&typeof t[0]!="number",nT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rT=t=>e=>1-t(1-e),jg=t=>1-Math.sin(Math.acos(t)),sT=rT(jg),NP=nT(jg),iT=Al(.33,1.53,.69,.99),Ag=rT(iT),kP=nT(Ag),IP=t=>(t*=2)<1?.5*Ag(t):.5*(2-Math.pow(2,-10*(t-1))),CP={linear:Fe,easeIn:TP,easeInOut:tT,easeOut:SP,circIn:jg,circInOut:NP,circOut:sT,backIn:Ag,backInOut:kP,backOut:iT,anticipate:IP},Zv=t=>{if(Array.isArray(t)){Cg(t.length===4);const[e,n,r,s]=t;return Al(e,n,r,s)}else if(typeof t=="string")return CP[t];return t},Pg=(t,e)=>n=>!!(Cl(n)&&jA.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),oT=(t,e,n)=>r=>{if(!Cl(r))return r;const[s,i,o,l]=r.match(Dd);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},jP=t=>ls(0,255,t),Zh={...ui,transform:t=>Math.round(jP(t))},Us={test:Pg("rgb","red"),parse:oT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Zh.transform(t)+", "+Zh.transform(e)+", "+Zh.transform(n)+", "+ja(Ca.transform(r))+")"};function AP(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const km={test:Pg("#"),parse:AP,transform:Us.transform},Bi={test:Pg("hsl","hue"),parse:oT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+On.transform(ja(e))+", "+On.transform(ja(n))+", "+ja(Ca.transform(r))+")"},It={test:t=>Us.test(t)||km.test(t)||Bi.test(t),parse:t=>Us.test(t)?Us.parse(t):Bi.test(t)?Bi.parse(t):km.parse(t),transform:t=>Cl(t)?t:t.hasOwnProperty("red")?Us.transform(t):Bi.transform(t)},Pe=(t,e,n)=>-n*t+n*e+t;function ef(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function PP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=ef(c,l,t+1/3),i=ef(c,l,t),o=ef(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const tf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},RP=[km,Us,Bi],DP=t=>RP.find(e=>e.test(t));function ex(t){const e=DP(t);let n=e.parse(t);return e===Bi&&(n=PP(n)),n}const aT=(t,e)=>{const n=ex(t),r=ex(e),s={...n};return i=>(s.red=tf(n.red,r.red,i),s.green=tf(n.green,r.green,i),s.blue=tf(n.blue,r.blue,i),s.alpha=Pe(n.alpha,r.alpha,i),Us.transform(s))};function MP(t){var e,n;return isNaN(t)&&Cl(t)&&(((e=t.match(Dd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(D2))===null||n===void 0?void 0:n.length)||0)>0}const lT={regex:IA,countKey:"Vars",token:"${v}",parse:Fe},cT={regex:D2,countKey:"Colors",token:"${c}",parse:It.parse},uT={regex:Dd,countKey:"Numbers",token:"${n}",parse:ui.parse};function nf(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Ou(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&nf(n,lT),nf(n,cT),nf(n,uT),n}function dT(t){return Ou(t).values}function hT(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Ou(t),i=e.length;return o=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(lT.token,o[c]):c<r+n?l=l.replace(cT.token,It.transform(o[c])):l=l.replace(uT.token,ja(o[c]));return l}}const VP=t=>typeof t=="number"?0:t;function LP(t){const e=dT(t);return hT(t)(e.map(VP))}const cs={test:MP,parse:dT,createTransformer:hT,getAnimatableNone:LP},fT=(t,e)=>n=>`${n>0?e:t}`;function mT(t,e){return typeof t=="number"?n=>Pe(t,e,n):It.test(t)?aT(t,e):t.startsWith("var(")?fT(t,e):gT(t,e)}const pT=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>mT(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},OP=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=mT(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},gT=(t,e)=>{const n=cs.createTransformer(e),r=Ou(t),s=Ou(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?es(pT(r.values,s.values),n):fT(t,e)},fo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},tx=(t,e)=>n=>Pe(t,e,n);function FP(t){return typeof t=="number"?tx:typeof t=="string"?It.test(t)?aT:gT:Array.isArray(t)?pT:typeof t=="object"?OP:tx}function UP(t,e,n){const r=[],s=n||FP(t[0]),i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Fe:e;l=es(c,l)}r.push(l)}return r}function Ld(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Cg(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=UP(e,r,s),l=o.length,c=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=fo(t[h],t[h+1],d);return o[h](f)};return n?d=>c(ls(t[0],t[i-1],d)):c}function BP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=fo(0,e,r);t.push(Pe(n,1,s))}}function yT(t){const e=[0];return BP(e,t.length-1),e}function $P(t,e){return t.map(n=>n*e)}function zP(t,e){return t.map(()=>e||tT).splice(0,t.length-1)}function Fu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=EP(r)?r.map(Zv):Zv(r),i={done:!1,value:e[0]},o=$P(n&&n.length===e.length?n:yT(e),t),l=Ld(o,e,{ease:Array.isArray(s)?s:zP(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}function Rg(t,e){return e?t*(1e3/e):0}const HP=5;function vT(t,e,n){const r=Math.max(e-HP,0);return Rg(n-t(r),e-r)}const rf=.001,WP=.01,qP=10,GP=.05,KP=1;function QP({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=ls(GP,KP,o),t=ls(WP,qP,Fn(t)),o<1?(s=d=>{const h=d*o,f=h*t,m=h-n,g=Im(d,o),_=Math.exp(-f);return rf-m/g*_},i=d=>{const f=d*o*t,m=f*n+n,g=Math.pow(o,2)*Math.pow(d,2)*t,_=Math.exp(-f),x=Im(Math.pow(d,2),o);return(-s(d)+rf>0?-1:1)*((m-g)*_)/x}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-rf+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=XP(s,i,l);if(t=Ws(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const YP=12;function XP(t,e,n){let r=n;for(let s=1;s<YP;s++)r=r-t(r)/e(r);return r}function Im(t,e){return t*Math.sqrt(1-e*e)}const JP=["duration","bounce"],ZP=["stiffness","damping","mass"];function nx(t,e){return e.some(n=>t[n]!==void 0)}function e4(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!nx(t,ZP)&&nx(t,JP)){const n=QP(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function xT({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=e4({...r,velocity:-Fn(r.velocity||0)}),g=f||0,_=c/(2*Math.sqrt(l*d)),x=i-s,N=Fn(Math.sqrt(l/d)),w=Math.abs(x)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let v;if(_<1){const b=Im(N,_);v=D=>{const P=Math.exp(-_*N*D);return i-P*((g+_*N*x)/b*Math.sin(b*D)+x*Math.cos(b*D))}}else if(_===1)v=b=>i-Math.exp(-N*b)*(x+(g+N*x)*b);else{const b=N*Math.sqrt(_*_-1);v=D=>{const P=Math.exp(-_*N*D),O=Math.min(b*D,300);return i-P*((g+_*N*x)*Math.sinh(O)+b*x*Math.cosh(O))/b}}return{calculatedDuration:m&&h||null,next:b=>{const D=v(b);if(m)o.done=b>=h;else{let P=g;b!==0&&(_<1?P=vT(v,b,D):P=0);const O=Math.abs(P)<=n,k=Math.abs(i-D)<=e;o.done=O&&k}return o.value=o.done?i:D,o}}}function rx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},g=T=>l!==void 0&&T<l||c!==void 0&&T>c,_=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let x=n*e;const N=f+x,w=o===void 0?N:o(N);w!==N&&(x=w-f);const v=T=>-x*Math.exp(-T/r),b=T=>w+v(T),D=T=>{const I=v(T),C=b(T);m.done=Math.abs(I)<=d,m.value=m.done?w:C};let P,O;const k=T=>{g(m.value)&&(P=T,O=xT({keyframes:[m.value,_(m.value)],velocity:vT(b,T,m.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return k(0),{calculatedDuration:null,next:T=>{let I=!1;return!O&&P===void 0&&(I=!0,D(T),k(T)),P!==void 0&&T>P?O.next(T-P):(!I&&D(T),m)}}}const t4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>xe.update(e,!0),stop:()=>En(e),now:()=>Xe.isProcessing?Xe.timestamp:performance.now()}},sx=2e4;function ix(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sx;)e+=n,r=t.next(e);return e>=sx?1/0:e}const n4={decay:rx,inertia:rx,tween:Fu,keyframes:Fu,spring:xT};function cl({autoplay:t=!0,delay:e=0,driver:n=t4,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:f,...m}){let g=1,_=!1,x,N;const w=()=>{N=new Promise(q=>{x=q})};w();let v;const b=n4[s]||Fu;let D;b!==Fu&&typeof r[0]!="number"&&(D=Ld([0,100],r,{clamp:!1}),r=[0,100]);const P=b({...m,keyframes:r});let O;l==="mirror"&&(O=b({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let k="idle",T=null,I=null,C=null;P.calculatedDuration===null&&i&&(P.calculatedDuration=ix(P));const{calculatedDuration:A}=P;let R=1/0,j=1/0;A!==null&&(R=A+o,j=R*(i+1)-o);let Z=0;const le=q=>{if(I===null)return;g>0&&(I=Math.min(I,q)),g<0&&(I=Math.min(q-j/g,I)),T!==null?Z=T:Z=Math.round(q-I)*g;const te=Z-e*(g>=0?1:-1),ve=g>=0?te<0:te>j;Z=Math.max(te,0),k==="finished"&&T===null&&(Z=j);let dt=Z,St=P;if(i){const Jn=Math.min(Z,j)/R;let Nt=Math.floor(Jn),Mt=Jn%1;!Mt&&Jn>=1&&(Mt=1),Mt===1&&Nt--,Nt=Math.min(Nt,i+1),!!(Nt%2)&&(l==="reverse"?(Mt=1-Mt,o&&(Mt-=o/R)):l==="mirror"&&(St=O)),dt=ls(0,1,Mt)*R}const tt=ve?{done:!1,value:r[0]}:St.next(dt);D&&(tt.value=D(tt.value));let{done:Et}=tt;!ve&&A!==null&&(Et=g>=0?Z>=j:Z<=0);const Fo=T===null&&(k==="finished"||k==="running"&&Et);return f&&f(tt.value),Fo&&B(),tt},ce=()=>{v&&v.stop(),v=void 0},W=()=>{k="idle",ce(),x(),w(),I=C=null},B=()=>{k="finished",h&&h(),ce(),x()},K=()=>{if(_)return;v||(v=n(le));const q=v.now();c&&c(),T!==null?I=q-T:(!I||k==="finished")&&(I=q),k==="finished"&&w(),C=I,T=null,k="running",v.start()};t&&K();const ee={then(q,te){return N.then(q,te)},get time(){return Fn(Z)},set time(q){q=Ws(q),Z=q,T!==null||!v||g===0?T=q:I=v.now()-q/g},get duration(){const q=P.calculatedDuration===null?ix(P):P.calculatedDuration;return Fn(q)},get speed(){return g},set speed(q){q===g||!v||(g=q,ee.time=Fn(Z))},get state(){return k},play:K,pause:()=>{k="paused",T=Z},stop:()=>{_=!0,k!=="idle"&&(k="idle",d&&d(),W())},cancel:()=>{C!==null&&le(C),W()},complete:()=>{k="finished"},sample:q=>(I=0,le(q))};return ee}function r4(t){let e;return()=>(e===void 0&&(e=t()),e)}const s4=r4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),i4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Nc=10,o4=2e4,a4=(t,e)=>e.type==="spring"||t==="backgroundColor"||!X2(e.ease);function l4(t,e,{onUpdate:n,onComplete:r,...s}){if(!(s4()&&i4.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const h=()=>{c=new Promise(b=>{l=b})};h();let{keyframes:f,duration:m=300,ease:g,times:_}=s;if(a4(e,s)){const b=cl({...s,repeat:0,delay:0});let D={done:!1,value:f[0]};const P=[];let O=0;for(;!D.done&&O<o4;)D=b.sample(O),P.push(D.value),O+=Nc;_=void 0,f=P,m=O-Nc,g="linear"}const x=vP(t.owner.current,e,f,{...s,duration:m,ease:g,times:_}),N=()=>{d=!1,x.cancel()},w=()=>{d=!0,xe.update(N),l(),h()};return x.onfinish=()=>{d||(t.set(xP(f,s)),r&&r(),w())},{then(b,D){return c.then(b,D)},attachTimeline(b){return x.timeline=b,x.onfinish=null,Fe},get time(){return Fn(x.currentTime||0)},set time(b){x.currentTime=Ws(b)},get speed(){return x.playbackRate},set speed(b){x.playbackRate=b},get duration(){return Fn(m)},play:()=>{o||(x.play(),En(N))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:b}=x;if(b){const D=cl({...s,autoplay:!1});t.setWithVelocity(D.sample(b-Nc).value,D.sample(b).value,Nc)}w()},complete:()=>{d||x.finish()},cancel:w}}function c4({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Fe,pause:Fe,stop:Fe,then:i=>(i(),Promise.resolve()),cancel:Fe,complete:Fe});return e?cl({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const u4={type:"spring",stiffness:500,damping:25,restSpeed:10},d4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),h4={type:"keyframes",duration:.8},f4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m4=(t,{keyframes:e})=>e.length>2?h4:ci.has(t)?t.startsWith("scale")?d4(e[1]):u4:f4,Cm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(cs.test(e)||e==="0")&&!e.startsWith("url(")),p4=new Set(["brightness","contrast","saturate","opacity"]);function g4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Dd)||[];if(!r)return t;const s=n.replace(r,"");let i=p4.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const y4=/([a-z-]*)\(.*?\)/g,jm={...cs,getAnimatableNone:t=>{const e=t.match(y4);return e?e.map(g4).join(" "):t}},v4={...M2,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:jm,WebkitFilter:jm},Dg=t=>v4[t];function wT(t,e){let n=Dg(t);return n!==jm&&(n=cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _T=t=>/^0[^.\s]+$/.test(t);function x4(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||_T(t)}function w4(t,e,n,r){const s=Cm(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),x4(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(s&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];i[h]=wT(e,l)}return i}function _4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function Mg(t,e){return t[e]||t.default||t}const b4={skipAnimations:!1},Vg=(t,e,n,r={})=>s=>{const i=Mg(r,t)||{},o=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ws(o);const c=w4(e,t,n,i),d=c[0],h=c[c.length-1],f=Cm(t,d),m=Cm(t,h);let g={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:_=>{e.set(_),i.onUpdate&&i.onUpdate(_)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(_4(i)||(g={...g,...m4(t,g)}),g.duration&&(g.duration=Ws(g.duration)),g.repeatDelay&&(g.repeatDelay=Ws(g.repeatDelay)),!f||!m||yP.current||i.type===!1||b4.skipAnimations)return c4(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=l4(e,t,g);if(_)return _}return cl(g)};function Uu(t){return!!(bt(t)&&t.add)}const bT=t=>/^\-?\d*\.?\d+$/.test(t);function Lg(t,e){t.indexOf(e)===-1&&t.push(e)}function Og(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Fg{constructor(){this.subscriptions=[]}add(e){return Lg(this.subscriptions,e),()=>Og(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const T4=t=>!isNaN(parseFloat(t)),Aa={current:void 0};class S4{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Xe;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=T4(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Fg);const r=this.events[e].add(n);return e==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Aa.current&&Aa.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Rg(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xn(t,e){return new S4(t,e)}const TT=t=>e=>e.test(t),E4={test:t=>t==="auto",parse:t=>t},ST=[ui,re,On,Cr,PA,AA,E4],ca=t=>ST.find(TT(t)),N4=[...ST,It,cs],k4=t=>N4.find(TT(t));function I4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xn(n))}function Ug(t,e){const n=Vd(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const l=qA(i[o]);I4(t,o,l)}}function Am(t,e){[...e].reverse().forEach(r=>{const s=t.getVariant(r);s&&Ug(t,s),t.variantChildren&&t.variantChildren.forEach(i=>{Am(i,e)})})}function C4(t,e){if(Array.isArray(e))return Am(t,e);if(typeof e=="string")return Am(t,[e]);Ug(t,e)}function j4(t,e,n){var r,s;const i=Object.keys(e).filter(l=>!t.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),h!=null&&(typeof h=="string"&&(bT(h)||_T(h))?h=parseFloat(h):!k4(h)&&cs.test(d)&&(h=wT(c,d)),t.addValue(c,xn(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function A4(t,e){return e?(e[t]||e.default||e).from:void 0}function P4(t,e,n){const r={};for(const s in t){const i=A4(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function R4({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function D4(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function ET(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f),g=l[f];if(!m||g===void 0||h&&R4(h,f))continue;const _={delay:n,elapsed:0,...Mg(i||{},f)};if(window.HandoffAppearAnimations){const w=t.getProps()[I2];if(w){const v=window.HandoffAppearAnimations(w,f,m,xe);v!==null&&(_.elapsed=v,_.isHandoff=!0)}}let x=!_.isHandoff&&!D4(m,g);if(_.type==="spring"&&(m.getVelocity()||_.velocity)&&(x=!1),m.animation&&(x=!1),x)continue;m.start(Vg(f,m,g,t.shouldReduceMotion&&ci.has(f)?{type:!1}:_));const N=m.animation;Uu(c)&&(c.add(f),N.then(()=>c.remove(f))),d.push(N)}return o&&Promise.all(d).then(()=>{o&&Ug(t,o)}),d}function Pm(t,e,n={}){const r=Vd(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(ET(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return M4(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function M4(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(V4).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(Pm(d,e,{...i,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function V4(t,e){return t.sortNodePosition(e)}function NT(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Pm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Pm(t,e,n);else{const s=typeof e=="function"?Vd(t,e,n.custom):e;r=Promise.all(ET(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const L4=[...xg].reverse(),O4=xg.length;function F4(t){return e=>Promise.all(e.map(({animation:n,options:r})=>NT(t,n,r)))}function U4(t){let e=F4(t);const n=$4();let r=!0;const s=(c,d)=>{const h=Vd(t,d);if(h){const{transition:f,transitionEnd:m,...g}=h;c={...c,...g,...m}}return c};function i(c){e=c(t)}function o(c,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},m=[],g=new Set;let _={},x=1/0;for(let w=0;w<O4;w++){const v=L4[w],b=n[v],D=h[v]!==void 0?h[v]:f[v],P=al(D),O=v===d?b.isActive:null;O===!1&&(x=w);let k=D===f[v]&&D!==h[v]&&P;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={..._},!b.isActive&&O===null||!D&&!b.prevProp||Pd(D)||typeof D=="boolean")continue;let I=B4(b.prevProp,D)||v===d&&b.isActive&&!k&&P||w>x&&P,C=!1;const A=Array.isArray(D)?D:[D];let R=A.reduce(s,{});O===!1&&(R={});const{prevResolvedValues:j={}}=b,Z={...j,...R},le=ce=>{I=!0,g.has(ce)&&(C=!0,g.delete(ce)),b.needsAnimating[ce]=!0};for(const ce in Z){const W=R[ce],B=j[ce];if(_.hasOwnProperty(ce))continue;let K=!1;Lu(W)&&Lu(B)?K=!Q2(W,B):K=W!==B,K?W!==void 0?le(ce):g.add(ce):W!==void 0&&g.has(ce)?le(ce):b.protectedKeys[ce]=!0}b.prevProp=D,b.prevResolvedValues=R,b.isActive&&(_={..._,...R}),r&&t.blockInitialAnimation&&(I=!1),I&&(!k||C)&&m.push(...A.map(ce=>({animation:ce,options:{type:v,...c}})))}if(g.size){const w={};g.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(w[v]=b)}),m.push({animation:w})}let N=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(m):Promise.resolve()}function l(c,d,h){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var _;return(_=g.animationState)===null||_===void 0?void 0:_.setActive(c,d)}),n[c].isActive=d;const m=o(h,c);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function B4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Q2(e,t):!1}function js(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $4(){return{animate:js(!0),whileInView:js(),whileHover:js(),whileTap:js(),whileDrag:js(),whileFocus:js(),exit:js()}}class z4 extends _s{constructor(e){super(e),e.animationState||(e.animationState=U4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Pd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let H4=0;class W4 extends _s{constructor(){super(...arguments),this.id=H4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const q4={animation:{Feature:z4},exit:{Feature:W4}},ox=(t,e)=>Math.abs(t-e);function G4(t,e){const n=ox(t.x,e.x),r=ox(t.y,e.y);return Math.sqrt(n**2+r**2)}class kT{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=of(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=G4(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:_}=f,{timestamp:x}=Xe;this.history.push({..._,timestamp:x});const{onStart:N,onMove:w}=this.handlers;m||(N&&N(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=sf(m,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=of(f.type==="pointercancel"?this.lastMoveEventInfo:sf(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,N),_&&_(f,N)},!H2(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Md(e),l=sf(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Xe;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,of(l,this.history)),this.removeListeners=es(hr(this.contextWindow,"pointermove",this.handlePointerMove),hr(this.contextWindow,"pointerup",this.handlePointerUp),hr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),En(this.updatePoint)}}function sf(t,e){return e?{point:e(t.point)}:t}function ax(t,e){return{x:t.x-e.x,y:t.y-e.y}}function of({point:t},e){return{point:t,delta:ax(t,IT(e)),offset:ax(t,K4(e)),velocity:Q4(e,.1)}}function K4(t){return t[0]}function IT(t){return t[t.length-1]}function Q4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=IT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ws(e)));)n--;if(!r)return{x:0,y:0};const i=Fn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xt(t){return t.max-t.min}function Rm(t,e=0,n=.01){return Math.abs(t-e)<=n}function lx(t,e,n,r=.5){t.origin=r,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=Xt(n)/Xt(e),(Rm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(Rm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Pa(t,e,n,r){lx(t.x,e.x,n.x,r?r.originX:void 0),lx(t.y,e.y,n.y,r?r.originY:void 0)}function cx(t,e,n){t.min=n.min+e.min,t.max=t.min+Xt(e)}function Y4(t,e,n){cx(t.x,e.x,n.x),cx(t.y,e.y,n.y)}function ux(t,e,n){t.min=e.min-n.min,t.max=t.min+Xt(e)}function Ra(t,e,n){ux(t.x,e.x,n.x),ux(t.y,e.y,n.y)}function X4(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pe(n,t,r.max):Math.min(t,n)),t}function dx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function J4(t,{top:e,left:n,bottom:r,right:s}){return{x:dx(t.x,n,s),y:dx(t.y,e,r)}}function hx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Z4(t,e){return{x:hx(t.x,e.x),y:hx(t.y,e.y)}}function eR(t,e){let n=.5;const r=Xt(t),s=Xt(e);return s>r?n=fo(e.min,e.max-r,t.min):r>s&&(n=fo(t.min,t.max-s,e.min)),ls(0,1,n)}function tR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dm=.35;function nR(t=Dm){return t===!1?t=0:t===!0&&(t=Dm),{x:fx(t,"left","right"),y:fx(t,"top","bottom")}}function fx(t,e,n){return{min:mx(t,e),max:mx(t,n)}}function mx(t,e){return typeof t=="number"?t:t[e]||0}const px=()=>({translate:0,scale:1,origin:0,originPoint:0}),$i=()=>({x:px(),y:px()}),gx=()=>({min:0,max:0}),We=()=>({x:gx(),y:gx()});function tn(t){return[t("x"),t("y")]}function CT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function af(t){return t===void 0||t===1}function Mm({scale:t,scaleX:e,scaleY:n}){return!af(t)||!af(e)||!af(n)}function Rs(t){return Mm(t)||jT(t)||t.z||t.rotate||t.rotateX||t.rotateY}function jT(t){return yx(t.x)||yx(t.y)}function yx(t){return t&&t!=="0%"}function Bu(t,e,n){const r=t-n,s=e*r;return n+s}function vx(t,e,n,r,s){return s!==void 0&&(t=Bu(t,s,r)),Bu(t,n,r)+e}function Vm(t,e=0,n=1,r,s){t.min=vx(t.min,e,n,r,s),t.max=vx(t.max,e,n,r,s)}function AT(t,{x:e,y:n}){Vm(t.x,e.translate,e.scale,e.originPoint),Vm(t.y,n.translate,n.scale,n.originPoint)}function iR(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AT(t,o)),r&&Rs(i.latestValues)&&zi(t,i.latestValues))}e.x=xx(e.x),e.y=xx(e.y)}function xx(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Dr(t,e){t.min=t.min+e,t.max=t.max+e}function wx(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Pe(t.min,t.max,i);Vm(t,e[n],e[r],o,e.scale)}const oR=["x","scaleX","originX"],aR=["y","scaleY","originY"];function zi(t,e){wx(t.x,e,oR),wx(t.y,e,aR)}function PT(t,e){return CT(sR(t.getBoundingClientRect(),e))}function lR(t,e,n){const r=PT(t,n),{scroll:s}=e;return s&&(Dr(r.x,s.offset.x),Dr(r.y,s.offset.y)),r}const RT=({current:t})=>t?t.ownerDocument.defaultView:null,cR=new WeakMap;class uR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Md(h,"page").point)},i=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:_}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=q2(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(N=>{let w=this.getAxisMotionValue(N).get()||0;if(On.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[N];b&&(w=Xt(b)*(parseFloat(w)/100))}}this.originPoint[N]=w}),_&&xe.update(()=>_(h,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:_,onDrag:x}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:N}=f;if(g&&this.currentDirection===null){this.currentDirection=dR(N),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,N),this.updateAxis("y",f.point,N),this.visualElement.render(),x&&x(h,f)},l=(h,f)=>this.stop(h,f),c=()=>tn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new kT(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:RT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&xe.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!kc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=X4(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ui(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=J4(s.layoutBox,n):this.constraints=!1,this.elastic=nR(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&tn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=tR(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ui(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=lR(r,s.root,this.visualElement.getTransformPagePoint());let o=Z4(s.layout.layoutBox,i);if(n){const l=n(rR(o));this.hasMutatedConstraints=!!l,l&&(o=CT(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=tn(h=>{if(!kc(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,_)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Vg(e,r,0,n))}stopAnimation(){tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tn(n=>{const{drag:r}=this.getProps();if(!kc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Pe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ui(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};tn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=eR({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tn(o=>{if(!kc(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Pe(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;cR.set(this.visualElement,this);const e=this.visualElement.current,n=hr(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ui(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=ar(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(tn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Dm,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function kc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hR extends _s{constructor(e){super(e),this.removeGroupControls=Fe,this.removeListeners=Fe,this.controls=new uR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fe}unmount(){this.removeGroupControls(),this.removeListeners()}}const _x=t=>(e,n)=>{t&&xe.update(()=>t(e,n))};class fR extends _s{constructor(){super(...arguments),this.removePointerDownListener=Fe}onPointerDown(e){this.session=new kT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:_x(e),onStart:_x(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&xe.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=hr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function mR(){const t=S.useContext(jd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=S.useId();return S.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Jc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ua={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=bx(t,e.target.x),r=bx(t,e.target.y);return`${n}% ${r}%`}},pR={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=cs.parse(t);if(s.length>5)return r;const i=cs.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=Pe(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class gR extends ud.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;SA(yR),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||xe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DT(t){const[e,n]=mR(),r=S.useContext(_g);return ud.createElement(gR,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(j2),isPresent:e,safeToRemove:n})}const yR={borderRadius:{...ua,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ua,borderTopRightRadius:ua,borderBottomLeftRadius:ua,borderBottomRightRadius:ua,boxShadow:pR},MT=["TopLeft","TopRight","BottomLeft","BottomRight"],vR=MT.length,Tx=t=>typeof t=="string"?parseFloat(t):t,Sx=t=>typeof t=="number"||re.test(t);function xR(t,e,n,r,s,i){s?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,wR(r)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,_R(r))):i&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<vR;o++){const l=`border${MT[o]}Radius`;let c=Ex(e,l),d=Ex(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Sx(c)===Sx(d)?(t[l]=Math.max(Pe(Tx(c),Tx(d),r),0),(On.test(d)||On.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,r))}function Ex(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wR=VT(0,.5,sT),_R=VT(.5,.95,Fe);function VT(t,e,n){return r=>r<t?0:r>e?1:n(fo(t,e,r))}function Nx(t,e){t.min=e.min,t.max=e.max}function en(t,e){Nx(t.x,e.x),Nx(t.y,e.y)}function kx(t,e,n,r,s){return t-=e,t=Bu(t,1/n,r),s!==void 0&&(t=Bu(t,1/s,r)),t}function bR(t,e=0,n=1,r=.5,s,i=t,o=t){if(On.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Pe(i.min,i.max,r);t===i&&(l-=e),t.min=kx(t.min,e,n,l,s),t.max=kx(t.max,e,n,l,s)}function Ix(t,e,[n,r,s],i,o){bR(t,e[n],e[r],e[s],e.scale,i,o)}const TR=["x","scaleX","originX"],SR=["y","scaleY","originY"];function Cx(t,e,n,r){Ix(t.x,e,TR,n?n.x:void 0,r?r.x:void 0),Ix(t.y,e,SR,n?n.y:void 0,r?r.y:void 0)}function jx(t){return t.translate===0&&t.scale===1}function LT(t){return jx(t.x)&&jx(t.y)}function ER(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function OT(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Ax(t){return Xt(t.x)/Xt(t.y)}class NR{constructor(){this.members=[]}add(e){Lg(this.members,e),e.scheduleRender()}remove(e){if(Og(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Px(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const kR=(t,e)=>t.depth-e.depth;class IR{constructor(){this.children=[],this.isDirty=!1}add(e){Lg(this.children,e),this.isDirty=!0}remove(e){Og(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kR),this.isDirty=!1,this.children.forEach(e)}}function CR(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(En(r),t(i-e))};return xe.read(r,!0),()=>En(r)}function jR(t){window.MotionDebug&&window.MotionDebug.record(t)}function AR(t){return t instanceof SVGElement&&t.tagName!=="svg"}function PR(t,e,n){const r=bt(t)?t:xn(t);return r.start(Vg("",r,e,n)),r.animation}const Rx=["","X","Y","Z"],RR={visibility:"hidden"},Dx=1e3;let DR=0;const Ds={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function FT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=DR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ds.totalNodes=Ds.resolvedTargetDeltas=Ds.recalculatedProjection=0,this.nodes.forEach(LR),this.nodes.forEach($R),this.nodes.forEach(zR),this.nodes.forEach(OR),jR(Ds)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new IR)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Fg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AR(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=CR(m,250),Jc.hasAnimatedSinceResize&&(Jc.hasAnimatedSinceResize=!1,this.nodes.forEach(Vx))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||KR,{onLayoutAnimationStart:N,onLayoutAnimationComplete:w}=h.getProps(),v=!this.targetLayout||!OT(this.targetLayout,_)||g,b=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const D={...Mg(x,"layout"),onPlay:N,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else m||Vx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,En(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HR),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mx);return}this.isUpdating||this.nodes.forEach(UR),this.isUpdating=!1,this.nodes.forEach(BR),this.nodes.forEach(MR),this.nodes.forEach(VR),this.clearAllSnapshots();const l=performance.now();Xe.delta=ls(0,1e3/60,l-Xe.timestamp),Xe.timestamp=l,Xe.isProcessing=!0,Yh.update.process(Xe),Yh.preRender.process(Xe),Yh.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(FR),this.sharedNodes.forEach(WR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!LT(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||Rs(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),QR(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return We();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Dr(l.x,c.offset.x),Dr(l.y,c.offset.y)),l}removeElementScroll(o){const l=We();en(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){en(l,o);const{scroll:m}=this.root;m&&(Dr(l.x,-m.offset.x),Dr(l.y,-m.offset.y))}Dr(l.x,h.offset.x),Dr(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const c=We();en(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&zi(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Rs(h.latestValues)&&zi(c,h.latestValues)}return Rs(this.latestValues)&&zi(c,this.latestValues),c}removeTransform(o){const l=We();en(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Rs(d.latestValues))continue;Mm(d.latestValues)&&d.updateSnapshot();const h=We(),f=d.measurePageBox();en(h,f),Cx(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Rs(this.latestValues)&&Cx(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Ra(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),AT(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Ra(this.relativeTargetOrigin,this.target,g.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ds.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mm(this.parent.latestValues)||jT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;en(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;iR(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:_}=l;if(!_){this.projectionTransform&&(this.projectionDelta=$i(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$i(),this.projectionDeltaWithTransform=$i());const x=this.projectionTransform;Pa(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=Px(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Ds.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=$i();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=We(),g=c?c.source:void 0,_=this.layout?this.layout.source:void 0,x=g!==_,N=this.getStack(),w=!N||N.members.length<=1,v=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(GR));this.animationProgress=0;let b;this.mixTargetDelta=D=>{const P=D/1e3;Lx(f.x,o.x,P),Lx(f.y,o.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ra(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qR(this.relativeTarget,this.relativeTargetOrigin,m,P),b&&ER(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=We()),en(b,this.relativeTarget)),x&&(this.animationValues=h,xR(h,d,this.latestValues,P,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(En(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{Jc.hasAnimatedSinceResize=!0,this.currentAnimation=PR(0,Dx,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&UT(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||We();const f=Xt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Xt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}en(l,c),zi(l,h),Pa(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NR),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<Rx.length;h++){const f="rotate"+Rx[h];c[f]&&(d[f]=c[f],o.setStaticValue(f,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return RR;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Xc(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Xc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=Px(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x:g,y:_}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${_.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Mu){if(m[x]===void 0)continue;const{correct:N,applyTo:w}=Mu[x],v=d.transform==="none"?m[x]:N(m[x],f);if(w){const b=w.length;for(let D=0;D<b;D++)d[w[D]]=v}else d[x]=v}return this.options.layoutId&&(d.pointerEvents=f===this?Xc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Mx),this.root.sharedNodes.clear()}}}function MR(t){t.updateLayout()}function VR(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?tn(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],g=Xt(m);m.min=r[f].min,m.max=m.min+g}):UT(i,n.layoutBox,r)&&tn(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],g=Xt(r[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const l=$i();Pa(l,r,n.layoutBox);const c=$i();o?Pa(c,t.applyTransform(s,!0),n.measuredBox):Pa(c,r,n.layoutBox);const d=!LT(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const _=We();Ra(_,n.layoutBox,m.layoutBox);const x=We();Ra(x,r,g.layoutBox),OT(_,x)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function LR(t){Ds.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FR(t){t.clearSnapshot()}function Mx(t){t.clearMeasurements()}function UR(t){t.isLayoutDirty=!1}function BR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Vx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $R(t){t.resolveTargetDelta()}function zR(t){t.calcProjection()}function HR(t){t.resetRotation()}function WR(t){t.removeLeadSnapshot()}function Lx(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ox(t,e,n,r){t.min=Pe(e.min,n.min,r),t.max=Pe(e.max,n.max,r)}function qR(t,e,n,r){Ox(t.x,e.x,n.x,r),Ox(t.y,e.y,n.y,r)}function GR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KR={duration:.45,ease:[.4,0,.1,1]},Fx=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Ux=Fx("applewebkit/")&&!Fx("chrome/")?Math.round:Fe;function Bx(t){t.min=Ux(t.min),t.max=Ux(t.max)}function QR(t){Bx(t.x),Bx(t.y)}function UT(t,e,n){return t==="position"||t==="preserve-aspect"&&!Rm(Ax(e),Ax(n),.2)}const YR=FT({attachResizeListener:(t,e)=>ar(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lf={current:void 0},BT=FT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lf.current){const t=new YR({});t.mount(window),t.setOptions({layoutScroll:!0}),lf.current=t}return lf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XR={pan:{Feature:fR},drag:{Feature:hR,ProjectionNode:BT,MeasureLayout:DT}},JR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ZR(t){const e=JR.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Lm(t,e,n=1){const[r,s]=ZR(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return bT(o)?parseFloat(o):o}else return Em(s)?Lm(s,e,n+1):s}function e5(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Em(i))return;const o=Lm(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Em(i))continue;const o=Lm(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const t5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$T=t=>t5.has(t),n5=t=>Object.keys(t).some($T),$x=t=>t===ui||t===re,zx=(t,e)=>parseFloat(t.split(", ")[e]),Hx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return zx(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?zx(i[1],t):0}},r5=new Set(["x","y","z"]),s5=Il.filter(t=>!r5.has(t));function i5(t){const e=[];return s5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const mo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Hx(4,13),y:Hx(5,14)};mo.translateX=mo.x;mo.translateY=mo.y;const o5=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=mo[d](r,i)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=mo[d](c,i)}),t},a5=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter($T);let i=[],o=!1;const l=[];if(s.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=ca(h);const m=e[c];let g;if(Lu(m)){const _=m.length,x=m[0]===null?1:0;h=m[x],f=ca(h);for(let N=x;N<_&&m[N]!==null;N++)g?Cg(ca(m[N])===g):g=ca(m[N])}else g=ca(m);if(f!==g)if($x(f)&&$x(g)){const _=d.get();typeof _=="string"&&d.set(parseFloat(_)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&g===re&&(e[c]=m.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(h===0||m===0)?h===0?d.set(g.transform(h)):e[c]=f.transform(m):(o||(i=i5(t),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=o5(e,t,l);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),Ad&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function l5(t,e,n,r){return n5(e)?a5(t,e,n,r):{target:e,transitionEnd:r}}const c5=(t,e,n,r)=>{const s=e5(t,e,r);return e=s.target,r=s.transitionEnd,l5(t,e,n,r)},Om={current:null},zT={current:!1};function u5(){if(zT.current=!0,!!Ad)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Om.current=t.matches;t.addListener(e),e()}else Om.current=!1}function d5(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(bt(i))t.addValue(s,i),Uu(r)&&r.add(s);else if(bt(o))t.addValue(s,xn(i,{owner:t})),Uu(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,xn(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Wx=new WeakMap,HT=Object.keys(ll),h5=HT.length,qx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],f5=wg.length;class m5{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Rd(n),this.isVariantNode=C2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const m=h[f];l[f]!==void 0&&bt(m)&&(m.set(l[f],!1),Uu(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Wx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zT.current||u5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Om.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Wx.delete(this.current),this.projection&&this.projection.unmount(),En(this.notifyUpdate),En(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ci.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,l;for(let c=0;c<h5;c++){const d=HT[c],{isEnabled:h,Feature:f,ProjectionNode:m,MeasureLayout:g}=ll[d];m&&(o=m),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||f&&Ui(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:g})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qx.length;r++){const s=qx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=d5(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<f5;r++){const s=wg[r],i=this.props[s];(al(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xn(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Ig(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!bt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Fg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WT extends m5{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=P4(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){j4(this,r,o);const l=c5(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function p5(t){return window.getComputedStyle(t)}class g5 extends WT{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ci.has(n)){const r=Dg(n);return r&&r.default||0}else{const r=p5(e),s=(R2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PT(e,n)}build(e,n,r,s){Tg(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return kg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){F2(e,n,r,s)}}class y5 extends WT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ci.has(n)){const r=Dg(n);return r&&r.default||0}return n=U2.has(n)?n:vg(n),e.getAttribute(n)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(e,n){return $2(e,n)}build(e,n,r,s){Eg(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){B2(e,n,r,s)}mount(e){this.isSVGTag=Ng(e.tagName),super.mount(e)}}const v5=(t,e)=>bg(t)?new y5(e,{enableHardwareAcceleration:!1}):new g5(e,{enableHardwareAcceleration:!0}),x5={layout:{ProjectionNode:BT,MeasureLayout:DT}},w5={...q4,...fP,...XR,...x5},M=bA((t,e)=>eP(t,e,w5,v5));function qT(){const t=S.useRef(!1);return li(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function _5(){const t=qT(),[e,n]=S.useState(0),r=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>xe.postRender(r),[r]),e]}class b5 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T5({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),S.createElement(b5,{isPresent:e,childRef:r,sizeRef:s},S.cloneElement(t,{ref:r}))}const cf=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=jo(S5),c=S.useId(),d=S.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),i?void 0:[n]);return S.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),S.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=S.createElement(T5,{isPresent:n},t)),S.createElement(jd.Provider,{value:d},t)};function S5(){return new Map}function E5(t){return S.useEffect(()=>()=>t(),[])}const Ms=t=>t.key||"";function N5(t,e){t.forEach(n=>{const r=Ms(n);e.set(r,n)})}function k5(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Ae=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=S.useContext(_g).forceRender||_5()[0],c=qT(),d=k5(t);let h=d;const f=S.useRef(new Map).current,m=S.useRef(h),g=S.useRef(new Map).current,_=S.useRef(!0);if(li(()=>{_.current=!1,N5(d,g),m.current=h}),E5(()=>{_.current=!0,g.clear(),f.clear()}),_.current)return S.createElement(S.Fragment,null,h.map(v=>S.createElement(cf,{key:Ms(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},v)));h=[...h];const x=m.current.map(Ms),N=d.map(Ms),w=x.length;for(let v=0;v<w;v++){const b=x[v];N.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((v,b)=>{if(N.indexOf(b)!==-1)return;const D=g.get(b);if(!D)return;const P=x.indexOf(b);let O=v;if(!O){const k=()=>{f.delete(b);const T=Array.from(g.keys()).filter(I=>!N.includes(I));if(T.forEach(I=>g.delete(I)),m.current=d.filter(I=>{const C=Ms(I);return C===b||T.includes(C)}),!f.size){if(c.current===!1)return;l(),r&&r()}};O=S.createElement(cf,{key:Ms(D),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:i,mode:o},D),f.set(b,O)}h.splice(P,0,O)}),h=h.map(v=>{const b=v.key;return f.has(b)?v:S.createElement(cf,{key:Ms(v),isPresent:!0,presenceAffectsLayout:i,mode:o},v)}),S.createElement(S.Fragment,null,f.size?h:h.map(v=>S.cloneElement(v)))};function GT(t){const e=jo(()=>xn(t)),{isStatic:n}=S.useContext(Id);if(n){const[,r]=S.useState(t);S.useEffect(()=>e.on("change",r),[])}return e}const I5=t=>t&&typeof t=="object"&&t.mix,C5=t=>I5(t)?t.mix:void 0;function j5(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],l=Ld(s,i,{mixer:C5(i[0]),...o});return e?l(r):l}function KT(t,e){const n=GT(e()),r=()=>n.set(e());return r(),li(()=>{const s=()=>xe.update(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),En(r)}}),n}function A5(t){Aa.current=[],t();const e=KT(Aa.current,t);return Aa.current=void 0,e}function wn(t,e,n,r){if(typeof t=="function")return A5(t);const s=typeof e=="function"?e:j5(e,n,r);return Array.isArray(t)?Gx(t,s):Gx([t],([i])=>s(i))}function Gx(t,e){const n=jo(()=>[]);return KT(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function Ic(t,e={}){const{isStatic:n}=S.useContext(Id),r=S.useRef(null),s=GT(bt(t)?t.get():t),i=()=>{r.current&&r.current.stop()};return S.useInsertionEffect(()=>s.attach((o,l)=>{if(n)return l(o);if(i(),r.current=cl({keyframes:[s.get(),o],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:l}),!Xe.isProcessing){const c=performance.now()-Xe.timestamp;c<30&&(r.current.time=Fn(c))}return s.get()},i),[JSON.stringify(e)]),li(()=>{if(bt(t))return t.on("change",o=>s.set(parseFloat(o)))},[s]),s}function P5(t,e,n){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const Zc=new WeakMap;let jr;function R5(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function D5({target:t,contentRect:e,borderBoxSize:n}){var r;(r=Zc.get(t))===null||r===void 0||r.forEach(s=>{s({target:t,contentSize:e,get size(){return R5(t,n)}})})}function M5(t){t.forEach(D5)}function V5(){typeof ResizeObserver>"u"||(jr=new ResizeObserver(M5))}function L5(t,e){jr||V5();const n=P5(t);return n.forEach(r=>{let s=Zc.get(r);s||(s=new Set,Zc.set(r,s)),s.add(e),jr==null||jr.observe(r)}),()=>{n.forEach(r=>{const s=Zc.get(r);s==null||s.delete(e),s!=null&&s.size||jr==null||jr.unobserve(r)})}}const eu=new Set;let Da;function O5(){Da=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};eu.forEach(n=>n(e))},window.addEventListener("resize",Da)}function F5(t){return eu.add(t),Da||O5(),()=>{eu.delete(t),!eu.size&&Da&&(Da=void 0)}}function U5(t,e){return typeof t=="function"?F5(t):L5(t,e)}const B5=50,Kx=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),$5=()=>({time:0,x:Kx(),y:Kx()}),z5={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Qx(t,e,n,r){const s=n[e],{length:i,position:o}=z5[e],l=s.current,c=n.time;s.current=t["scroll"+o],s.scrollLength=t["scroll"+i]-t["client"+i],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=fo(0,s.scrollLength,s.current);const d=r-c;s.velocity=d>B5?0:Rg(s.current-l,d)}function H5(t,e,n){Qx(t,"x",e,n),Qx(t,"y",e,n),e.time=n}function W5(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return n}const q5={All:[[0,0],[1,1]]},Fm={start:0,center:.5,end:1};function Yx(t,e,n=0){let r=0;if(Fm[t]!==void 0&&(t=Fm[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const G5=[0,0];function K5(t,e,n,r){let s=Array.isArray(t)?t:G5,i=0,o=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,Fm[t]?t:"0"]),i=Yx(s[0],n,r),o=Yx(s[1],e),i-o}const Q5={x:0,y:0};function Y5(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function X5(t,e,n){let{offset:r=q5.All}=n;const{target:s=t,axis:i="y"}=n,o=i==="y"?"height":"width",l=s!==t?W5(s,t):Q5,c=s===t?{width:t.scrollWidth,height:t.scrollHeight}:Y5(s),d={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let h=!e[i].interpolate;const f=r.length;for(let m=0;m<f;m++){const g=K5(r[m],d[o],c[o],l[i]);!h&&g!==e[i].interpolatorOffsets[m]&&(h=!0),e[i].offset[m]=g}h&&(e[i].interpolate=Ld(e[i].offset,yT(r)),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=e[i].interpolate(e[i].current)}function J5(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function Z5(t,e,n,r={}){return{measure:()=>J5(t,r.target,n),update:s=>{H5(t,n,s),(r.offset||r.target)&&X5(t,n,r)},notify:()=>e(n)}}const da=new WeakMap,Xx=new WeakMap,uf=new WeakMap,Jx=t=>t===document.documentElement?window:t;function e3(t,{container:e=document.documentElement,...n}={}){let r=uf.get(e);r||(r=new Set,uf.set(e,r));const s=$5(),i=Z5(e,t,s,n);if(r.add(i),!da.has(e)){const l=()=>{for(const m of r)m.measure()},c=()=>{for(const m of r)m.update(Xe.timestamp)},d=()=>{for(const m of r)m.notify()},h=()=>{xe.read(l,!1,!0),xe.read(c,!1,!0),xe.update(d,!1,!0)};da.set(e,h);const f=Jx(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&Xx.set(e,U5(e,h)),f.addEventListener("scroll",h,{passive:!0})}const o=da.get(e);return xe.read(o,!1,!0),()=>{var l;En(o);const c=uf.get(e);if(!c||(c.delete(i),c.size))return;const d=da.get(e);da.delete(e),d&&(Jx(e).removeEventListener("scroll",d),(l=Xx.get(e))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function Zx(t,e){gP(!!(!e||e.current))}const t3=()=>({scrollX:xn(0),scrollY:xn(0),scrollXProgress:xn(0),scrollYProgress:xn(0)});function Bg({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=jo(t3);return(n?li:S.useEffect)(()=>(Zx("target",e),Zx("container",t),e3(({x:o,y:l})=>{s.scrollX.set(o.current),s.scrollXProgress.set(o.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function n3(t){t.values.forEach(e=>e.stop())}function r3(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const s=[];return t.forEach(i=>{s.push(NT(i,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return t.forEach(r=>{C4(r,n)})},stop(){t.forEach(n=>{n3(n)})},mount(){return()=>{e.stop()}}};return e}function s3(){const t=jo(r3);return li(t.mount,[]),t}const i3=s3;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>S.createElement("svg",{ref:h,...o3,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${a3(t)}`,l].join(" "),...d},[...e.map(([f,m])=>S.createElement(f,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=Q("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Q("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Q("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Q("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Q("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v4",key:"jdggr9"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Q("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Q("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=Q("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Q("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Q("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Q("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Q("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Q("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=Q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=Q("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Q("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=Q("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Q("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=Q("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Q("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=Q("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Q("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Q("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Q("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=Q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Q("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Q("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=Q("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Q("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Q("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Q("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),V3=()=>{};var sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},L3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,g=d&63;c||(g=64,o||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new O3;const m=i<<2|l>>4;if(r.push(m),d!==64){const g=l<<4&240|d>>2;if(r.push(g),f!==64){const _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F3=function(t){const e=sS(t);return iS.encodeByteArray(e,!0)},Wu=function(t){return F3(t).replace(/\./g,"")},oS=function(t){try{return iS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=()=>U3().__FIREBASE_DEFAULTS__,$3=()=>{if(typeof process>"u"||typeof sw>"u")return;const t=sw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oS(t[1]);return e&&JSON.parse(e)},Fd=()=>{try{return V3()||B3()||$3()||z3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aS=t=>{var e,n;return(n=(e=Fd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},H3=t=>{const e=aS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lS=()=>{var t;return(t=Fd())==null?void 0:t.config},cS=t=>{var e;return(e=Fd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wu(JSON.stringify(n)),Wu(JSON.stringify(o)),""].join(".")}const Va={};function G3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Va))Va[e]?t.emulator.push(e):t.prod.push(e);return t}function K3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iw=!1;function dS(t,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||Va[t]===e||Va[t]||iw)return;Va[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=G3().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{iw=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=K3(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),N=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;l(b),h(N,x);const D=d();c(v,w),b.append(v,_,N,D),document.body.appendChild(b)}i?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function Y3(){var e;const t=(e=Fd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z3(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eD(){return!Y3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function mS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function tD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="FirebaseError";class Cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nD,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,di.prototype.create)}}class di{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?rD(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Cn(s,l,r)}}function rD(t,e){return t.replace(sD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sD=/\{\$([^}]+)}/g;function iD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function us(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ow(i)&&ow(o)){if(!us(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ow(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oD(t,e){const n=new aD(t,e);return n.subscribe.bind(n)}class aD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hf),s.error===void 0&&(s.error=hf),s.complete===void 0&&(s.complete=hf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=1e3,uD=2,dD=4*60*60*1e3,hD=.5;function aw(t,e=cD,n=uD){const r=e*Math.pow(n,t),s=Math.round(hD*r*(Math.random()-.5)*2);return Math.min(dD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class kn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new W3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pD(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mD(t){return t===Vs?void 0:t}function pD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const yD={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},vD=de.INFO,xD={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},wD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ud{constructor(e){this.name=e,this._logLevel=vD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const _D=(t,e)=>e.some(n=>t instanceof n);let lw,cw;function bD(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TD(){return cw||(cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,Hm=new WeakMap,gS=new WeakMap,ff=new WeakMap,Gg=new WeakMap;function SD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(rs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pS.set(n,t)}).catch(()=>{}),Gg.set(e,t),e}function ED(t){if(Hm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ND(t){Wm=t(Wm)}function kD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mf(this),e,...n);return gS.set(r,e.sort?e.sort():[e]),rs(r)}:TD().includes(t)?function(...e){return t.apply(mf(this),e),rs(pS.get(this))}:function(...e){return rs(t.apply(mf(this),e))}}function ID(t){return typeof t=="function"?kD(t):(t instanceof IDBTransaction&&ED(t),_D(t,bD())?new Proxy(t,Wm):t)}function rs(t){if(t instanceof IDBRequest)return SD(t);if(ff.has(t))return ff.get(t);const e=ID(t);return e!==t&&(ff.set(t,e),Gg.set(e,t)),e}const mf=t=>Gg.get(t);function yS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=rs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(rs(o.result),c.oldVersion,c.newVersion,rs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const CD=["get","getKey","getAll","getAllKeys","count"],jD=["put","add","delete","clear"],pf=new Map;function uw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=jD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||CD.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return pf.set(e,i),i}ND(t=>({...t,get:(e,n,r)=>uw(e,n)||t.get(e,n,r),has:(e,n)=>!!uw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",dw="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Ud("@firebase/app"),RD="@firebase/app-compat",DD="@firebase/analytics-compat",MD="@firebase/analytics",VD="@firebase/app-check-compat",LD="@firebase/app-check",OD="@firebase/auth",FD="@firebase/auth-compat",UD="@firebase/database",BD="@firebase/data-connect",$D="@firebase/database-compat",zD="@firebase/functions",HD="@firebase/functions-compat",WD="@firebase/installations",qD="@firebase/installations-compat",GD="@firebase/messaging",KD="@firebase/messaging-compat",QD="@firebase/performance",YD="@firebase/performance-compat",XD="@firebase/remote-config",JD="@firebase/remote-config-compat",ZD="@firebase/storage",e6="@firebase/storage-compat",t6="@firebase/firestore",n6="@firebase/ai",r6="@firebase/firestore-compat",s6="firebase",i6="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",o6={[qm]:"fire-core",[RD]:"fire-core-compat",[MD]:"fire-analytics",[DD]:"fire-analytics-compat",[LD]:"fire-app-check",[VD]:"fire-app-check-compat",[OD]:"fire-auth",[FD]:"fire-auth-compat",[UD]:"fire-rtdb",[BD]:"fire-data-connect",[$D]:"fire-rtdb-compat",[zD]:"fire-fn",[HD]:"fire-fn-compat",[WD]:"fire-iid",[qD]:"fire-iid-compat",[GD]:"fire-fcm",[KD]:"fire-fcm-compat",[QD]:"fire-perf",[YD]:"fire-perf-compat",[XD]:"fire-rc",[JD]:"fire-rc-compat",[ZD]:"fire-gcs",[e6]:"fire-gcs-compat",[t6]:"fire-fst",[r6]:"fire-fst-compat",[n6]:"fire-vertex","fire-js":"fire-js",[s6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Map,a6=new Map,Km=new Map;function hw(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){const e=t.name;if(Km.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,t);for(const n of dl.values())hw(n,t);for(const n of a6.values())hw(n,t);return!0}function hi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new di("app","Firebase",l6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=i6;function vS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ss.create("bad-app-name",{appName:String(s)});if(n||(n=lS()),!n)throw ss.create("no-options");const i=dl.get(s);if(i){if(us(n,i.options)&&us(r,i.config))return i;throw ss.create("duplicate-app",{appName:s})}const o=new gD(s);for(const c of Km.values())o.addComponent(c);const l=new c6(n,r,o);return dl.set(s,l),l}function Bd(t=Gm){const e=dl.get(t);if(!e&&t===Gm&&lS())return vS();if(!e)throw ss.create("no-app",{appName:t});return e}function u6(){return Array.from(dl.values())}function cn(t,e,n){let r=o6[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(o.join(" "));return}Kn(new kn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="firebase-heartbeat-database",h6=1,hl="firebase-heartbeat-store";let gf=null;function xS(){return gf||(gf=yS(d6,h6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ss.create("idb-open",{originalErrorMessage:t.message})})),gf}async function f6(t){try{const n=(await xS()).transaction(hl),r=await n.objectStore(hl).get(wS(t));return await n.done,r}catch(e){if(e instanceof Cn)xr.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function fw(t,e){try{const r=(await xS()).transaction(hl,"readwrite");await r.objectStore(hl).put(e,wS(t)),await r.done}catch(n){if(n instanceof Cn)xr.warn(n.message);else{const r=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function wS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=1024,p6=30;class g6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>p6){const o=x6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mw(),{heartbeatsToSend:r,unsentEntries:s}=y6(this._heartbeatsCache.heartbeats),i=Wu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return xr.warn(n),""}}}function mw(){return new Date().toISOString().substring(0,10)}function y6(t,e=m6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),pw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?mS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pw(t){return Wu(JSON.stringify({version:2,heartbeats:t})).length}function x6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){Kn(new kn("platform-logger",e=>new AD(e),"PRIVATE")),Kn(new kn("heartbeat",e=>new g6(e),"PRIVATE")),cn(qm,dw,t),cn(qm,dw,"esm2020"),cn("fire-js","")}w6("");var gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,_S;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(C,A,R){for(var j=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)j[Z-2]=arguments[Z];return T.prototype[A].apply(C,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,T,I){I||(I=0);var C=Array(16);if(typeof T=="string")for(var A=0;16>A;++A)C[A]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(A=0;16>A;++A)C[A]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],A=k.g[2];var R=k.g[3],j=T+(R^I&(A^R))+C[0]+3614090360&4294967295;T=I+(j<<7&4294967295|j>>>25),j=R+(A^T&(I^A))+C[1]+3905402710&4294967295,R=T+(j<<12&4294967295|j>>>20),j=A+(I^R&(T^I))+C[2]+606105819&4294967295,A=R+(j<<17&4294967295|j>>>15),j=I+(T^A&(R^T))+C[3]+3250441966&4294967295,I=A+(j<<22&4294967295|j>>>10),j=T+(R^I&(A^R))+C[4]+4118548399&4294967295,T=I+(j<<7&4294967295|j>>>25),j=R+(A^T&(I^A))+C[5]+1200080426&4294967295,R=T+(j<<12&4294967295|j>>>20),j=A+(I^R&(T^I))+C[6]+2821735955&4294967295,A=R+(j<<17&4294967295|j>>>15),j=I+(T^A&(R^T))+C[7]+4249261313&4294967295,I=A+(j<<22&4294967295|j>>>10),j=T+(R^I&(A^R))+C[8]+1770035416&4294967295,T=I+(j<<7&4294967295|j>>>25),j=R+(A^T&(I^A))+C[9]+2336552879&4294967295,R=T+(j<<12&4294967295|j>>>20),j=A+(I^R&(T^I))+C[10]+4294925233&4294967295,A=R+(j<<17&4294967295|j>>>15),j=I+(T^A&(R^T))+C[11]+2304563134&4294967295,I=A+(j<<22&4294967295|j>>>10),j=T+(R^I&(A^R))+C[12]+1804603682&4294967295,T=I+(j<<7&4294967295|j>>>25),j=R+(A^T&(I^A))+C[13]+4254626195&4294967295,R=T+(j<<12&4294967295|j>>>20),j=A+(I^R&(T^I))+C[14]+2792965006&4294967295,A=R+(j<<17&4294967295|j>>>15),j=I+(T^A&(R^T))+C[15]+1236535329&4294967295,I=A+(j<<22&4294967295|j>>>10),j=T+(A^R&(I^A))+C[1]+4129170786&4294967295,T=I+(j<<5&4294967295|j>>>27),j=R+(I^A&(T^I))+C[6]+3225465664&4294967295,R=T+(j<<9&4294967295|j>>>23),j=A+(T^I&(R^T))+C[11]+643717713&4294967295,A=R+(j<<14&4294967295|j>>>18),j=I+(R^T&(A^R))+C[0]+3921069994&4294967295,I=A+(j<<20&4294967295|j>>>12),j=T+(A^R&(I^A))+C[5]+3593408605&4294967295,T=I+(j<<5&4294967295|j>>>27),j=R+(I^A&(T^I))+C[10]+38016083&4294967295,R=T+(j<<9&4294967295|j>>>23),j=A+(T^I&(R^T))+C[15]+3634488961&4294967295,A=R+(j<<14&4294967295|j>>>18),j=I+(R^T&(A^R))+C[4]+3889429448&4294967295,I=A+(j<<20&4294967295|j>>>12),j=T+(A^R&(I^A))+C[9]+568446438&4294967295,T=I+(j<<5&4294967295|j>>>27),j=R+(I^A&(T^I))+C[14]+3275163606&4294967295,R=T+(j<<9&4294967295|j>>>23),j=A+(T^I&(R^T))+C[3]+4107603335&4294967295,A=R+(j<<14&4294967295|j>>>18),j=I+(R^T&(A^R))+C[8]+1163531501&4294967295,I=A+(j<<20&4294967295|j>>>12),j=T+(A^R&(I^A))+C[13]+2850285829&4294967295,T=I+(j<<5&4294967295|j>>>27),j=R+(I^A&(T^I))+C[2]+4243563512&4294967295,R=T+(j<<9&4294967295|j>>>23),j=A+(T^I&(R^T))+C[7]+1735328473&4294967295,A=R+(j<<14&4294967295|j>>>18),j=I+(R^T&(A^R))+C[12]+2368359562&4294967295,I=A+(j<<20&4294967295|j>>>12),j=T+(I^A^R)+C[5]+4294588738&4294967295,T=I+(j<<4&4294967295|j>>>28),j=R+(T^I^A)+C[8]+2272392833&4294967295,R=T+(j<<11&4294967295|j>>>21),j=A+(R^T^I)+C[11]+1839030562&4294967295,A=R+(j<<16&4294967295|j>>>16),j=I+(A^R^T)+C[14]+4259657740&4294967295,I=A+(j<<23&4294967295|j>>>9),j=T+(I^A^R)+C[1]+2763975236&4294967295,T=I+(j<<4&4294967295|j>>>28),j=R+(T^I^A)+C[4]+1272893353&4294967295,R=T+(j<<11&4294967295|j>>>21),j=A+(R^T^I)+C[7]+4139469664&4294967295,A=R+(j<<16&4294967295|j>>>16),j=I+(A^R^T)+C[10]+3200236656&4294967295,I=A+(j<<23&4294967295|j>>>9),j=T+(I^A^R)+C[13]+681279174&4294967295,T=I+(j<<4&4294967295|j>>>28),j=R+(T^I^A)+C[0]+3936430074&4294967295,R=T+(j<<11&4294967295|j>>>21),j=A+(R^T^I)+C[3]+3572445317&4294967295,A=R+(j<<16&4294967295|j>>>16),j=I+(A^R^T)+C[6]+76029189&4294967295,I=A+(j<<23&4294967295|j>>>9),j=T+(I^A^R)+C[9]+3654602809&4294967295,T=I+(j<<4&4294967295|j>>>28),j=R+(T^I^A)+C[12]+3873151461&4294967295,R=T+(j<<11&4294967295|j>>>21),j=A+(R^T^I)+C[15]+530742520&4294967295,A=R+(j<<16&4294967295|j>>>16),j=I+(A^R^T)+C[2]+3299628645&4294967295,I=A+(j<<23&4294967295|j>>>9),j=T+(A^(I|~R))+C[0]+4096336452&4294967295,T=I+(j<<6&4294967295|j>>>26),j=R+(I^(T|~A))+C[7]+1126891415&4294967295,R=T+(j<<10&4294967295|j>>>22),j=A+(T^(R|~I))+C[14]+2878612391&4294967295,A=R+(j<<15&4294967295|j>>>17),j=I+(R^(A|~T))+C[5]+4237533241&4294967295,I=A+(j<<21&4294967295|j>>>11),j=T+(A^(I|~R))+C[12]+1700485571&4294967295,T=I+(j<<6&4294967295|j>>>26),j=R+(I^(T|~A))+C[3]+2399980690&4294967295,R=T+(j<<10&4294967295|j>>>22),j=A+(T^(R|~I))+C[10]+4293915773&4294967295,A=R+(j<<15&4294967295|j>>>17),j=I+(R^(A|~T))+C[1]+2240044497&4294967295,I=A+(j<<21&4294967295|j>>>11),j=T+(A^(I|~R))+C[8]+1873313359&4294967295,T=I+(j<<6&4294967295|j>>>26),j=R+(I^(T|~A))+C[15]+4264355552&4294967295,R=T+(j<<10&4294967295|j>>>22),j=A+(T^(R|~I))+C[6]+2734768916&4294967295,A=R+(j<<15&4294967295|j>>>17),j=I+(R^(A|~T))+C[13]+1309151649&4294967295,I=A+(j<<21&4294967295|j>>>11),j=T+(A^(I|~R))+C[4]+4149444226&4294967295,T=I+(j<<6&4294967295|j>>>26),j=R+(I^(T|~A))+C[11]+3174756917&4294967295,R=T+(j<<10&4294967295|j>>>22),j=A+(T^(R|~I))+C[2]+718787259&4294967295,A=R+(j<<15&4294967295|j>>>17),j=I+(R^(A|~T))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(A+(j<<21&4294967295|j>>>11))&4294967295,k.g[2]=k.g[2]+A&4294967295,k.g[3]=k.g[3]+R&4294967295}r.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,C=this.B,A=this.h,R=0;R<T;){if(A==0)for(;R<=I;)s(this,k,R),R+=this.blockSize;if(typeof k=="string"){for(;R<T;)if(C[A++]=k.charCodeAt(R++),A==this.blockSize){s(this,C),A=0;break}}else for(;R<T;)if(C[A++]=k[R++],A==this.blockSize){s(this,C),A=0;break}}this.h=A,this.o+=T},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var C=0;32>C;C+=8)k[I++]=this.g[T]>>>C&255;return k};function i(k,T){var I=l;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function o(k,T){this.h=T;for(var I=[],C=!0,A=k.length-1;0<=A;A--){var R=k[A]|0;C&&R==T||(I[A]=R,C=!1)}this.g=I}var l={};function c(k){return-128<=k&&128>k?i(k,function(T){return new o([T|0],0>T?-1:0)}):new o([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return N(d(-k));for(var T=[],I=1,C=0;k>=I;C++)T[C]=k/I|0,I*=4294967296;return new o(T,0)}function h(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return N(h(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(T,8)),C=f,A=0;A<k.length;A+=8){var R=Math.min(8,k.length-A),j=parseInt(k.substring(A,A+R),T);8>R?(R=d(Math.pow(T,R)),C=C.j(R).add(d(j))):(C=C.j(I),C=C.add(d(j)))}return C}var f=c(0),m=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-N(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var C=this.i(I);k+=(0<=C?C:4294967296+C)*T,T*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(_(this))return"0";if(x(this))return"-"+N(this).toString(k);for(var T=d(Math.pow(k,6)),I=this,C="";;){var A=D(I,T).g;I=w(I,A.j(T));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=A,_(I))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function _(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function x(k){return k.h==-1}t.l=function(k){return k=w(this,k),x(k)?-1:_(k)?0:1};function N(k){for(var T=k.g.length,I=[],C=0;C<T;C++)I[C]=~k.g[C];return new o(I,~k.h).add(m)}t.abs=function(){return x(this)?N(this):this},t.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],C=0,A=0;A<=T;A++){var R=C+(this.i(A)&65535)+(k.i(A)&65535),j=(R>>>16)+(this.i(A)>>>16)+(k.i(A)>>>16);C=j>>>16,R&=65535,j&=65535,I[A]=j<<16|R}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(k,T){return k.add(N(T))}t.j=function(k){if(_(this)||_(k))return f;if(x(this))return x(k)?N(this).j(N(k)):N(N(this).j(k));if(x(k))return N(this.j(N(k)));if(0>this.l(g)&&0>k.l(g))return d(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],C=0;C<2*T;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<k.g.length;A++){var R=this.i(C)>>>16,j=this.i(C)&65535,Z=k.i(A)>>>16,le=k.i(A)&65535;I[2*C+2*A]+=j*le,v(I,2*C+2*A),I[2*C+2*A+1]+=R*le,v(I,2*C+2*A+1),I[2*C+2*A+1]+=j*Z,v(I,2*C+2*A+1),I[2*C+2*A+2]+=R*Z,v(I,2*C+2*A+2)}for(C=0;C<T;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=T;C<2*T;C++)I[C]=0;return new o(I,0)};function v(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function b(k,T){this.g=k,this.h=T}function D(k,T){if(_(T))throw Error("division by zero");if(_(k))return new b(f,f);if(x(k))return T=D(N(k),T),new b(N(T.g),N(T.h));if(x(T))return T=D(k,N(T)),new b(N(T.g),T.h);if(30<k.g.length){if(x(k)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var I=m,C=T;0>=C.l(k);)I=P(I),C=P(C);var A=O(I,1),R=O(C,1);for(C=O(C,2),I=O(I,2);!_(C);){var j=R.add(C);0>=j.l(k)&&(A=A.add(I),R=j),C=O(C,1),I=O(I,1)}return T=w(k,A.j(T)),new b(A,T)}for(A=f;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=d(I),j=R.j(T);x(j)||0<j.l(k);)I-=C,R=d(I),j=R.j(T);_(R)&&(R=m),A=A.add(R),k=w(k,j)}return new b(A,k)}t.A=function(k){return D(this,k).h},t.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)&k.i(C);return new o(I,this.h&k.h)},t.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)|k.i(C);return new o(I,this.h|k.h)},t.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)^k.i(C);return new o(I,this.h^k.h)};function P(k){for(var T=k.g.length+1,I=[],C=0;C<T;C++)I[C]=k.i(C)<<1|k.i(C-1)>>>31;return new o(I,k.h)}function O(k,T){var I=T>>5;T%=32;for(var C=k.g.length-I,A=[],R=0;R<C;R++)A[R]=0<T?k.i(R+I)>>>T|k.i(R+I+1)<<32-T:k.i(R+I);return new o(A,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_S=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,is=o}).apply(typeof gw<"u"?gw:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bS,ya,TS,tu,Qm,SS,ES,NS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var y=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in y))break e;y=y[L]}u=u[u.length-1],E=y[u],p=p(E),p!=E&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var y=0,E=!1,L={next:function(){if(!E&&y<u.length){var F=y++;return{value:p(F,u[F]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,y){return u.call.apply(u.bind,arguments)}function f(u,p,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function m(u,p,y){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function _(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,L,F){for(var G=Array(arguments.length-2),be=2;be<arguments.length;be++)G[be-2]=arguments[be];return p.prototype[L].apply(E,G)}}function x(u){const p=u.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=u[E];return y}return[]}function N(u,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(c(E)){const L=u.length||0,F=E.length||0;u.length=L+F;for(let G=0;G<F;G++)u[L+G]=E[G]}else u.push(E)}}class w{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function D(u){return D[" "](u),u}D[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(u,p,y){for(const E in u)p.call(y,u[E],E,u)}function k(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function T(u){const p={};for(const y in u)p[y]=u[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)u[y]=E[y];for(let F=0;F<I.length;F++)y=I[F],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function A(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function R(u){l.setTimeout(()=>{throw u},0)}function j(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Z{constructor(){this.h=this.g=null}add(p,y){const E=le.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var le=new w(()=>new ce,u=>u.reset());class ce{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let W,B=!1,K=new Z,ee=()=>{const u=l.Promise.resolve(void 0);W=()=>{u.then(q)}};var q=()=>{for(var u;u=j();){try{u.h.call(u.g)}catch(y){R(y)}var p=le;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}B=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};l.addEventListener("test",y,p),l.removeEventListener("test",y,p)}catch{}return u}();function St(u,p){if(ve.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(P){e:{try{D(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}_(St,ve);var tt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),Fo=0;function Jn(u,p,y,E,L){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=L,this.key=++Fo,this.da=this.fa=!1}function Nt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u){this.src=u,this.g={},this.h=0}Mt.prototype.add=function(u,p,y,E,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var G=fn(u,p,E,L);return-1<G?(p=u[G],y||(p.fa=!1)):(p=new Jn(p,this.src,F,!!E,L),p.fa=y,u.push(p)),p};function mi(u,p){var y=p.type;if(y in u.g){var E=u.g[y],L=Array.prototype.indexOf.call(E,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(E,L,1),F&&(Nt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function fn(u,p,y,E){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==E)return L}return-1}var pi="closure_lm_"+(1e6*Math.random()|0),gi={};function $l(u,p,y,E,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)$l(u,p[F],y,E,L);return null}return y=zl(y),u&&u[Et]?u.K(p,y,d(E)?!!E.capture:!1,L):V(u,p,y,!1,E,L)}function V(u,p,y,E,L,F){if(!p)throw Error("Invalid event type");var G=d(L)?!!L.capture:!!L,be=Zn(u);if(be||(u[pi]=be=new Mt(u)),y=be.add(p,y,E,G,F),y.proxy)return y;if(E=$(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)dt||(L=G),L===void 0&&(L=!1),u.addEventListener(p.toString(),E,L);else if(u.attachEvent)u.attachEvent(_e(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function $(){function u(y){return p.call(u.src,u.listener,y)}const p=Es;return u}function ae(u,p,y,E,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)ae(u,p[F],y,E,L);else E=d(E)?!!E.capture:!!E,y=zl(y),u&&u[Et]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],y=fn(F,y,E,L),-1<y&&(Nt(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=Zn(u))&&(p=u.g[p.toString()],u=-1,p&&(u=fn(p,y,E,L)),(y=-1<u?p[u]:null)&&Ue(y))}function Ue(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Et])mi(p.i,u);else{var y=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(y,E,u.capture):p.detachEvent?p.detachEvent(_e(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=Zn(p))?(mi(y,u),y.h==0&&(y.src=null,p[pi]=null)):Nt(u)}}}function _e(u){return u in gi?gi[u]:gi[u]="on"+u}function Es(u,p){if(u.da)u=!0;else{p=new St(p,this);var y=u.listener,E=u.ha||u.src;u.fa&&Ue(u),u=y.call(E,p)}return u}function Zn(u){return u=u[pi],u instanceof Mt?u:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function zl(u){return typeof u=="function"?u:(u[Uo]||(u[Uo]=function(p){return u.handleEvent(p)}),u[Uo])}function Qe(){te.call(this),this.i=new Mt(this),this.M=this,this.F=null}_(Qe,te),Qe.prototype[Et]=!0,Qe.prototype.removeEventListener=function(u,p,y,E){ae(this,u,p,y,E)};function Ye(u,p){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new ve(p,u);else if(p instanceof ve)p.target=p.target||u;else{var L=p;p=new ve(E,u),C(p,L)}if(L=!0,y)for(var F=y.length-1;0<=F;F--){var G=p.g=y[F];L=Hl(G,E,!0,p)&&L}if(G=p.g=u,L=Hl(G,E,!0,p)&&L,L=Hl(G,E,!1,p)&&L,y)for(F=0;F<y.length;F++)G=p.g=y[F],L=Hl(G,E,!1,p)&&L}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],E=0;E<y.length;E++)Nt(y[E]);delete u.g[p],u.h--}}this.F=null},Qe.prototype.K=function(u,p,y,E){return this.i.add(String(u),p,!1,y,E)},Qe.prototype.L=function(u,p,y,E){return this.i.add(String(u),p,!0,y,E)};function Hl(u,p,y,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var G=p[F];if(G&&!G.da&&G.capture==y){var be=G.listener,it=G.ha||G.src;G.fa&&mi(u.i,G),L=be.call(it,E)!==!1&&L}}return L&&!E.defaultPrevented}function M0(u,p,y){if(typeof u=="function")y&&(u=m(u,y));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(u,p||0)}function V0(u){u.g=M0(()=>{u.g=null,u.i&&(u.i=!1,V0(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class WN extends te{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:V0(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bo(u){te.call(this),this.h=u,this.g={}}_(Bo,te);var L0=[];function O0(u){O(u.g,function(p,y){this.g.hasOwnProperty(y)&&Ue(p)},u),u.g={}}Bo.prototype.N=function(){Bo.aa.N.call(this),O0(this)},Bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oh=l.JSON.stringify,qN=l.JSON.parse,GN=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function ah(){}ah.prototype.h=null;function F0(u){return u.h||(u.h=u.i())}function U0(){}var $o={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lh(){ve.call(this,"d")}_(lh,ve);function ch(){ve.call(this,"c")}_(ch,ve);var Ns={},B0=null;function Wl(){return B0=B0||new Qe}Ns.La="serverreachability";function $0(u){ve.call(this,Ns.La,u)}_($0,ve);function zo(u){const p=Wl();Ye(p,new $0(p))}Ns.STAT_EVENT="statevent";function z0(u,p){ve.call(this,Ns.STAT_EVENT,u),this.stat=p}_(z0,ve);function kt(u){const p=Wl();Ye(p,new z0(p,u))}Ns.Ma="timingevent";function H0(u,p){ve.call(this,Ns.Ma,u),this.size=p}_(H0,ve);function Ho(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function Wo(){this.g=!0}Wo.prototype.xa=function(){this.g=!1};function KN(u,p,y,E,L,F){u.info(function(){if(u.g)if(F)for(var G="",be=F.split("&"),it=0;it<be.length;it++){var ye=be[it].split("=");if(1<ye.length){var ht=ye[0];ye=ye[1];var ft=ht.split("_");G=2<=ft.length&&ft[1]=="type"?G+(ht+"="+ye+"&"):G+(ht+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+y+`
`+G})}function QN(u,p,y,E,L,F,G){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+y+`
`+F+" "+G})}function yi(u,p,y,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+XN(u,y)+(E?" "+E:"")})}function YN(u,p){u.info(function(){return"TIMEOUT: "+p})}Wo.prototype.info=function(){};function XN(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return oh(y)}catch{return p}}var ql={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},W0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uh;function Gl(){}_(Gl,ah),Gl.prototype.g=function(){return new XMLHttpRequest},Gl.prototype.i=function(){return{}},uh=new Gl;function Sr(u,p,y,E){this.j=u,this.i=p,this.l=y,this.R=E||1,this.U=new Bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new q0}function q0(){this.i=null,this.g="",this.h=!1}var G0={},dh={};function hh(u,p,y){u.L=1,u.v=Xl(er(p)),u.m=y,u.P=!0,K0(u,null)}function K0(u,p){u.F=Date.now(),Kl(u),u.A=er(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),ly(y.i,"t",E),u.C=0,y=u.j.J,u.h=new q0,u.g=Ny(u.j,y?p:null,!u.m),0<u.O&&(u.M=new WN(m(u.Y,u,u.g),u.O)),p=u.U,y=u.g,E=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(L0[0]=L.toString()),L=L0);for(var F=0;F<L.length;F++){var G=$l(y,L[F],E||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),zo(),KN(u.i,u.u,u.A,u.l,u.R,u.m)}Sr.prototype.ca=function(u){u=u.target;const p=this.M;p&&tr(u)==3?p.j():this.Y(u)},Sr.prototype.Y=function(u){try{if(u==this.g)e:{const ft=tr(this.g);var p=this.g.Ba();const wi=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||py(this.g)))){this.J||ft!=4||p==7||(p==8||0>=wi?zo(3):zo(2)),fh(this);var y=this.g.Z();this.X=y;t:if(Q0(this)){var E=py(this.g);u="";var L=E.length,F=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),qo(this);var G="";break t}this.h.i=new l.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(E[p],{stream:!(F&&p==L-1)});E.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=y==200,QN(this.i,this.u,this.A,this.l,this.R,ft,y),this.o){if(this.T&&!this.K){t:{if(this.g){var be,it=this.g;if((be=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(be)){var ye=be;break t}}ye=null}if(y=ye)yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mh(this,y);else{this.o=!1,this.s=3,kt(12),ks(this),qo(this);break e}}if(this.P){y=!0;let mn;for(;!this.J&&this.C<G.length;)if(mn=JN(this,G),mn==dh){ft==4&&(this.s=4,kt(14),y=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==G0){this.s=4,kt(15),yi(this.i,this.l,G,"[Invalid Chunk]"),y=!1;break}else yi(this.i,this.l,mn,null),mh(this,mn);if(Q0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||G.length!=0||this.h.h||(this.s=1,kt(16),y=!1),this.o=this.o&&y,!y)yi(this.i,this.l,G,"[Invalid Chunked Response]"),ks(this),qo(this);else if(0<G.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),wh(ht),ht.M=!0,kt(11))}}else yi(this.i,this.l,G,null),mh(this,G);ft==4&&ks(this),this.o&&!this.J&&(ft==4?by(this.j,this):(this.o=!1,Kl(this)))}else pk(this.g),y==400&&0<G.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),ks(this),qo(this)}}}catch{}finally{}};function Q0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function JN(u,p){var y=u.C,E=p.indexOf(`
`,y);return E==-1?dh:(y=Number(p.substring(y,E)),isNaN(y)?G0:(E+=1,E+y>p.length?dh:(p=p.slice(E,E+y),u.C=E+y,p)))}Sr.prototype.cancel=function(){this.J=!0,ks(this)};function Kl(u){u.S=Date.now()+u.I,Y0(u,u.I)}function Y0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ho(m(u.ba,u),p)}function fh(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Sr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(YN(this.i,this.A),this.L!=2&&(zo(),kt(17)),ks(this),this.s=2,qo(this)):Y0(this,this.S-u)};function qo(u){u.j.G==0||u.J||by(u.j,u)}function ks(u){fh(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,O0(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function mh(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||ph(y.h,u))){if(!u.K&&ph(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)rc(y),tc(y);else break e;xh(y),kt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ho(m(y.Za,y),6e3));if(1>=Z0(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Cs(y,11)}else if((u.K||y.g==u)&&rc(y),!v(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let ye=L[p];if(y.T=ye[0],ye=ye[1],y.G==2)if(ye[0]=="c"){y.K=ye[1],y.ia=ye[2];const ht=ye[3];ht!=null&&(y.la=ht,y.j.info("VER="+y.la));const ft=ye[4];ft!=null&&(y.Aa=ft,y.j.info("SVER="+y.Aa));const wi=ye[5];wi!=null&&typeof wi=="number"&&0<wi&&(E=1.5*wi,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const mn=u.g;if(mn){const ic=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ic){var F=E.h;F.g||ic.indexOf("spdy")==-1&&ic.indexOf("quic")==-1&&ic.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(gh(F,F.h),F.h=null))}if(E.D){const _h=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;_h&&(E.ya=_h,Se(E.I,E.D,_h))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var G=u;if(E.qa=Ey(E,E.J?E.ia:null,E.W),G.K){ey(E.h,G);var be=G,it=E.L;it&&(be.I=it),be.B&&(fh(be),Kl(be)),E.g=G}else wy(E);0<y.i.length&&nc(y)}else ye[0]!="stop"&&ye[0]!="close"||Cs(y,7);else y.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Cs(y,7):vh(y):ye[0]!="noop"&&y.l&&y.l.ta(ye),y.v=0)}}zo(4)}catch{}}var ZN=class{constructor(u,p){this.g=u,this.map=p}};function X0(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function J0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Z0(u){return u.h?1:u.g?u.g.size:0}function ph(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function gh(u,p){u.g?u.g.add(p):u.h=p}function ey(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}X0.prototype.cancel=function(){if(this.i=ty(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ty(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return x(u.i)}function ek(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],y=u.length,E=0;E<y;E++)p.push(u[E]);return p}p=[],y=0;for(E in u)p[y++]=u[E];return p}function tk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const E in u)p[y++]=E;return p}}}function ny(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=tk(u),E=ek(u),L=E.length,F=0;F<L;F++)p.call(void 0,E[F],y&&y[F],u)}var ry=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nk(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),L=null;if(0<=E){var F=u[y].substring(0,E);L=u[y].substring(E+1)}else F=u[y];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Is(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Is){this.h=u.h,Ql(this,u.j),this.o=u.o,this.g=u.g,Yl(this,u.s),this.l=u.l;var p=u.i,y=new Qo;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),sy(this,y),this.m=u.m}else u&&(p=String(u).match(ry))?(this.h=!1,Ql(this,p[1]||"",!0),this.o=Go(p[2]||""),this.g=Go(p[3]||"",!0),Yl(this,p[4]),this.l=Go(p[5]||"",!0),sy(this,p[6]||"",!0),this.m=Go(p[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}Is.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Ko(p,iy,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Ko(p,iy,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ko(y,y.charAt(0)=="/"?ik:sk,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ko(y,ak)),u.join("")};function er(u){return new Is(u)}function Ql(u,p,y){u.j=y?Go(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Yl(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function sy(u,p,y){p instanceof Qo?(u.i=p,lk(u.i,u.h)):(y||(p=Ko(p,ok)),u.i=new Qo(p,u.h))}function Se(u,p,y){u.i.set(p,y)}function Xl(u){return Se(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Go(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ko(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,rk),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var iy=/[#\/\?@]/g,sk=/[#\?:]/g,ik=/[#\?]/g,ok=/[#\?@]/g,ak=/#/g;function Qo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Er(u){u.g||(u.g=new Map,u.h=0,u.i&&nk(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Qo.prototype,t.add=function(u,p){Er(this),this.i=null,u=vi(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function oy(u,p){Er(u),p=vi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function ay(u,p){return Er(u),p=vi(u,p),u.g.has(p)}t.forEach=function(u,p){Er(this),this.g.forEach(function(y,E){y.forEach(function(L){u.call(p,L,E,this)},this)},this)},t.na=function(){Er(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const L=u[E];for(let F=0;F<L.length;F++)y.push(p[E])}return y},t.V=function(u){Er(this);let p=[];if(typeof u=="string")ay(this,u)&&(p=p.concat(this.g.get(vi(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return Er(this),this.i=null,u=vi(this,u),ay(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ly(u,p,y){oy(u,p),0<y.length&&(u.i=null,u.g.set(vi(u,p),x(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const F=encodeURIComponent(String(E)),G=this.V(E);for(E=0;E<G.length;E++){var L=F;G[E]!==""&&(L+="="+encodeURIComponent(String(G[E]))),u.push(L)}}return this.i=u.join("&")};function vi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function lk(u,p){p&&!u.j&&(Er(u),u.i=null,u.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(oy(this,E),ly(this,L,y))},u)),u.j=p}function ck(u,p){const y=new Wo;if(l.Image){const E=new Image;E.onload=g(Nr,y,"TestLoadImage: loaded",!0,p,E),E.onerror=g(Nr,y,"TestLoadImage: error",!1,p,E),E.onabort=g(Nr,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=g(Nr,y,"TestLoadImage: timeout",!1,p,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function uk(u,p){const y=new Wo,E=new AbortController,L=setTimeout(()=>{E.abort(),Nr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then(F=>{clearTimeout(L),F.ok?Nr(y,"TestPingServer: ok",!0,p):Nr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Nr(y,"TestPingServer: error",!1,p)})}function Nr(u,p,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function dk(){this.g=new GN}function hk(u,p,y){const E=y||"";try{ny(u,function(L,F){let G=L;d(L)&&(G=oh(L)),p.push(E+F+"="+encodeURIComponent(G))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function Jl(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Jl,ah),Jl.prototype.g=function(){return new Zl(this.l,this.j)},Jl.prototype.i=function(u){return function(){return u}}({});function Zl(u,p){Qe.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Zl,Qe),t=Zl.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Xo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function cy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Yo(this):Xo(this),this.readyState==3&&cy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Yo(this))},t.Qa=function(u){this.g&&(this.response=u,Yo(this))},t.ga=function(){this.g&&Yo(this)};function Yo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xo(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Xo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function uy(u){let p="";return O(u,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function yh(u,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=uy(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Se(u,p,y))}function Le(u){Qe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Le,Qe);var fk=/^https?$/i,mk=["POST","PUT"];t=Le.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uh.g(),this.v=this.o?F0(this.o):F0(uh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){dy(this,F);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const F of E.keys())y.set(F,E.get(F));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),L=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(mk,p,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of y)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{my(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){dy(this,F)}};function dy(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,hy(u),ec(u)}function hy(u){u.A||(u.A=!0,Ye(u,"complete"),Ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ye(this,"complete"),Ye(this,"abort"),ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ec(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fy(this):this.bb())},t.bb=function(){fy(this)};function fy(u){if(u.h&&typeof o<"u"&&(!u.v[1]||tr(u)!=4||u.Z()!=2)){if(u.u&&tr(u)==4)M0(u.Ea,0,u);else if(Ye(u,"readystatechange"),tr(u)==4){u.h=!1;try{const G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=G===0){var L=String(u.D).match(ry)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),E=!fk.test(L?L.toLowerCase():"")}y=E}if(y)Ye(u,"complete"),Ye(u,"success");else{u.m=6;try{var F=2<tr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",hy(u)}}finally{ec(u)}}}}function ec(u,p){if(u.g){my(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ye(u,"ready");try{y.onreadystatechange=E}catch{}}}function my(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function tr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),qN(p)}};function py(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pk(u){const p={};u=(u.g&&2<=tr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(v(u[E]))continue;var y=A(u[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[L]||[];p[L]=F,F.push(y)}k(p,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function gy(u){this.Aa=0,this.i=[],this.j=new Wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,u),this.cb=Jo("retryDelaySeedMs",1e4,u),this.Wa=Jo("forwardChannelMaxRetries",2,u),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new X0(u&&u.concurrentRequestLimit),this.Da=new dk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gy.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,E){kt(0),this.W=u,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ey(this,null,this.W),nc(this)};function vh(u){if(yy(u),u.G==3){var p=u.U++,y=er(u.I);if(Se(y,"SID",u.K),Se(y,"RID",p),Se(y,"TYPE","terminate"),Zo(u,y),p=new Sr(u,u.j,p),p.L=2,p.v=Xl(er(y)),y=!1,l.navigator&&l.navigator.sendBeacon)try{y=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&l.Image&&(new Image().src=p.v,y=!0),y||(p.g=Ny(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Kl(p)}Sy(u)}function tc(u){u.g&&(wh(u),u.g.cancel(),u.g=null)}function yy(u){tc(u),u.u&&(l.clearTimeout(u.u),u.u=null),rc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function nc(u){if(!J0(u.h)&&!u.s){u.s=!0;var p=u.Ga;W||ee(),B||(W(),B=!0),K.add(p,u),u.B=0}}function gk(u,p){return Z0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ho(m(u.Ga,u,p),Ty(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Sr(this,this.j,u);let F=this.o;if(this.S&&(F?(F=T(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=xy(this,L,p),y=er(this.I),Se(y,"RID",u),Se(y,"CVER",22),this.D&&Se(y,"X-HTTP-Session-Id",this.D),Zo(this,y),F&&(this.O?p="headers="+encodeURIComponent(String(uy(F)))+"&"+p:this.m&&yh(y,this.m,F)),gh(this.h,L),this.Ua&&Se(y,"TYPE","init"),this.P?(Se(y,"$req",p),Se(y,"SID","null"),L.T=!0,hh(L,y,null)):hh(L,y,p),this.G=2}}else this.G==3&&(u?vy(this,u):this.i.length==0||J0(this.h)||vy(this))};function vy(u,p){var y;p?y=p.l:y=u.U++;const E=er(u.I);Se(E,"SID",u.K),Se(E,"RID",y),Se(E,"AID",u.T),Zo(u,E),u.m&&u.o&&yh(E,u.m,u.o),y=new Sr(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=xy(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),gh(u.h,y),hh(y,E,p)}function Zo(u,p){u.H&&O(u.H,function(y,E){Se(p,E,y)}),u.l&&ny({},function(y,E){Se(p,E,y)})}function xy(u,p,y){y=Math.min(u.i.length,y);var E=u.l?m(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const G=["count="+y];F==-1?0<y?(F=L[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let be=!0;for(let it=0;it<y;it++){let ye=L[it].g;const ht=L[it].map;if(ye-=F,0>ye)F=Math.max(0,L[it].g-100),be=!1;else try{hk(ht,G,"req"+ye+"_")}catch{E&&E(ht)}}if(be){E=G.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,E}function wy(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;W||ee(),B||(W(),B=!0),K.add(p,u),u.v=0}}function xh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ho(m(u.Fa,u),Ty(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,_y(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ho(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),tc(this),_y(this))};function wh(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function _y(u){u.g=new Sr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=er(u.qa);Se(p,"RID","rpc"),Se(p,"SID",u.K),Se(p,"AID",u.T),Se(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Se(p,"TO",u.ja),Se(p,"TYPE","xmlhttp"),Zo(u,p),u.m&&u.o&&yh(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Xl(er(p)),y.m=null,y.P=!0,K0(y,u)}t.Za=function(){this.C!=null&&(this.C=null,tc(this),xh(this),kt(19))};function rc(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function by(u,p){var y=null;if(u.g==p){rc(u),wh(u),u.g=null;var E=2}else if(ph(u.h,p))y=p.D,ey(u.h,p),E=1;else return;if(u.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;E=Wl(),Ye(E,new H0(E,y)),nc(u)}else wy(u);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&gk(u,p)||E==2&&xh(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),L){case 1:Cs(u,5);break;case 4:Cs(u,10);break;case 3:Cs(u,6);break;default:Cs(u,2)}}}function Ty(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function Cs(u,p){if(u.j.info("Error code "+p),p==2){var y=m(u.fb,u),E=u.Xa;const L=!E;E=new Is(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ql(E,"https"),Xl(E),L?ck(E.toString(),y):uk(E.toString(),y)}else kt(2);u.G=0,u.l&&u.l.sa(p),Sy(u),yy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Sy(u){if(u.G=0,u.ka=[],u.l){const p=ty(u.h);(p.length!=0||u.i.length!=0)&&(N(u.ka,p),N(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function Ey(u,p,y){var E=y instanceof Is?er(y):new Is(y);if(E.g!="")p&&(E.g=p+"."+E.g),Yl(E,E.s);else{var L=l.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new Is(null);E&&Ql(F,E),p&&(F.g=p),L&&Yl(F,L),y&&(F.l=y),E=F}return y=u.D,p=u.ya,y&&p&&Se(E,y,p),Se(E,"VER",u.la),Zo(u,E),E}function Ny(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Le(new Jl({eb:y})):new Le(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ky(){}t=ky.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sc(){}sc.prototype.g=function(u,p){return new Wt(u,p)};function Wt(u,p){Qe.call(this),this.g=new gy(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new xi(this)}_(Wt,Qe),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){vh(this.g)},Wt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=oh(u),u=y);p.i.push(new ZN(p.Ya++,u)),p.G==3&&nc(p)},Wt.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,Wt.aa.N.call(this)};function Iy(u){lh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(Iy,lh);function Cy(){ch.call(this),this.status=1}_(Cy,ch);function xi(u){this.g=u}_(xi,ky),xi.prototype.ua=function(){Ye(this.g,"a")},xi.prototype.ta=function(u){Ye(this.g,new Iy(u))},xi.prototype.sa=function(u){Ye(this.g,new Cy)},xi.prototype.ra=function(){Ye(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,NS=function(){return new sc},ES=function(){return Wl()},SS=Ns,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ql.NO_ERROR=0,ql.TIMEOUT=8,ql.HTTP_ERROR=6,tu=ql,W0.COMPLETE="complete",TS=W0,U0.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,ya=U0,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,bS=Le}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const yw="@firebase/firestore",vw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Ud("@firebase/firestore");function Si(){return ti.logLevel}function Y(t,...e){if(ti.logLevel<=de.DEBUG){const n=e.map(Kg);ti.debug(`Firestore (${Ro}): ${t}`,...n)}}function wr(t,...e){if(ti.logLevel<=de.ERROR){const n=e.map(Kg);ti.error(`Firestore (${Ro}): ${t}`,...n)}}function go(t,...e){if(ti.logLevel<=de.WARN){const n=e.map(Kg);ti.warn(`Firestore (${Ro}): ${t}`,...n)}}function Kg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kS(t,r,n)}function kS(t,e,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wr(r),new Error(r)}function Me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||kS(e,s,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class b6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T6{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new IS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class S6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new S6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=k6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Ym(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return yf(s)===yf(i)?he(s,i):yf(s)?1:-1}return he(t.length,e.length)}const I6=55296,C6=57343;function yf(t){const e=t.charCodeAt(0);return e>=I6&&e<=C6}function yo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__name__";class Pn{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Pn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return he(e.length,n.length)}static compareSegments(e,n){const r=Pn.isNumericId(e),s=Pn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Pn.extractNumericId(e).compare(Pn.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class Ie extends Pn{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const j6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Pn{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return j6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ww}static keyField(){return new wt([ww])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new J(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new J(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ie.fromString(e))}static fromName(e){return new ne(Ie.fromString(e).popFirst(5))}static empty(){return new ne(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ie(e.slice()))}}function A6(t,e,n,r){if(e===!0&&r===!0)throw new J(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _w(t){if(ne.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Xm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$d(t);throw new J(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dl(t,e){if(!jS(t))throw new J(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=-62135596800,Tw=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Tw);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bw)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tw}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dl(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:Ke("string",Ce._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ce(0,0))}static max(){return new ie(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=-1;function P6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new ds(s,ne.empty(),e)}function R6(t){return new ds(t.readTime,t.key,fl)}class ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ds(ie.min(),ne.empty(),fl)}static max(){return new ds(ie.max(),ne.empty(),fl)}}function D6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==M6)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function L6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=-1;function Wd(t){return t==null}function qu(t){return t===0&&1/t==-1/0}function F6(t){return typeof t=="number"&&Number.isInteger(t)&&!qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="";function U6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Sw(e)),e=B6(t.get(n),e);return Sw(e)}function B6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case AS:n+="";break;default:n+=i}}return n}function Sw(t){return t+AS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??at.RED,this.left=s??at.EMPTY,this.right=i??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new at(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return at.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Hr([])}unionWith(e){let n=new et(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RS("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const $6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=$6.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fs(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="server_timestamp",MS="__type__",VS="__previous_value__",LS="__local_write_time__";function Qg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MS])==null?void 0:r.stringValue)===DS}function qd(t){const e=t.mapValue.fields[VS];return Qg(e)?qd(e):e}function ml(t){const e=hs(t.mapValue.fields[LS].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r,s,i,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Gu="(default)";class pl{constructor(e,n){this.projectId=e,this.database=n||Gu}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="__type__",H6="__max__",Pc={mapValue:{}},FS="__vector__",Ku="value";function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qg(t)?4:q6(t)?9007199254740991:W6(t)?10:11:oe(28295,{value:t})}function Qn(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ml(t).isEqual(ml(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=hs(s.timestampValue),l=hs(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return fs(s.bytesValue).isEqual(fs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),l=Be(i.doubleValue);return o===l?qu(o)===qu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Ew(o)!==Ew(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Qn(o[c],l[c])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function gl(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function vo(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Be(i.integerValue||i.doubleValue),c=Be(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return kw(t.timestampValue,e.timestampValue);case 4:return kw(ml(t),ml(e));case 5:return Ym(t.stringValue,e.stringValue);case 6:return function(i,o){const l=fs(i),c=fs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=he(l[d],c[d]);if(h!==0)return h}return he(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=he(Be(i.latitude),Be(o.latitude));return l!==0?l:he(Be(i.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Iw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,g,_,x;const l=i.fields||{},c=o.fields||{},d=(m=l[Ku])==null?void 0:m.arrayValue,h=(g=c[Ku])==null?void 0:g.arrayValue,f=he(((_=d==null?void 0:d.values)==null?void 0:_.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:Iw(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Pc.mapValue&&o===Pc.mapValue)return 0;if(i===Pc.mapValue)return 1;if(o===Pc.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Ym(c[f],h[f]);if(m!==0)return m;const g=vo(l[c[f]],d[h[f]]);if(g!==0)return g}return he(c.length,h.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=hs(t),r=hs(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function Iw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=vo(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function xo(t){return Jm(t)}function Jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Jm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Jm(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function nu(t){switch(ms(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qd(t);return e?16+nu(e):16;case 5:return 2*t.stringValue.length;case 6:return fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+nu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Mo(r.fields,(i,o)=>{s+=i.length+nu(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function Cw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zm(t){return!!t&&"integerValue"in t}function Yg(t){return!!t&&"arrayValue"in t}function jw(t){return!!t&&"nullValue"in t}function Aw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vf(t){return!!t&&"mapValue"in t}function W6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[OS])==null?void 0:r.stringValue)===FS}function La(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=La(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return{...t}}function q6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===H6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=La(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];vf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mn(La(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new xt(e,0,ie.min(),ie.min(),ie.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,s){return new xt(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new xt(e,2,n,ie.min(),ie.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,ie.min(),ie.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.position=e,this.inclusive=n}}function Pw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=vo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function G6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{}class Ge extends US{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q6(e,n,r):n==="array-contains"?new J6(e,r):n==="in"?new Z6(e,r):n==="not-in"?new eM(e,r):n==="array-contains-any"?new tM(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Y6(e,r):new X6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends US{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new In(e,n)}matches(e){return BS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BS(t){return t.op==="and"}function $S(t){return K6(t)&&BS(t)}function K6(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function ep(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+xo(t.value);if($S(t))return t.filters.map(e=>ep(e)).join(",");{const e=t.filters.map(n=>ep(n)).join(",");return`${t.op}(${e})`}}function zS(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&Qn(r.value,s.value)}(t,e):t instanceof In?function(r,s){return s instanceof In&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&zS(o,s.filters[l]),!0):!1}(t,e):void oe(19439)}function HS(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(HS).join(" ,")+"}"}(t):"Filter"}class Q6 extends Ge{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y6 extends Ge{constructor(e,n){super(e,"in",n),this.keys=WS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class X6 extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=WS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class J6 extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yg(n)&&gl(n.arrayValue,this.value)}}class Z6 extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gl(this.value.arrayValue,n)}}class eM extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gl(this.value.arrayValue,n)}}class tM extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Dw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new nM(t,e,n,r,s,i,o)}function Xg(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ep(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xo(r)).join(",")),e.Te=n}return e.Te}function Jg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rw(t.startAt,e.startAt)&&Rw(t.endAt,e.endAt)}function tp(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rM(t,e,n,r,s,i,o,l){return new Ml(t,e,n,r,s,i,o,l)}function qS(t){return new Ml(t)}function Mw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GS(t){return t.collectionGroup!==null}function Oa(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new et(wt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Yu(i,r))}),n.has(wt.keyField().canonicalString())||e.Ie.push(new Yu(wt.keyField(),r))}return e.Ie}function Un(t){const e=me(t);return e.Ee||(e.Ee=sM(e,Oa(t))),e.Ee}function sM(t,e){if(t.limitType==="F")return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Yu(s.field,i)});const n=t.endAt?new Qu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qu(t.startAt.position,t.startAt.inclusive):null;return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function np(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rp(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gd(t,e){return Jg(Un(t),Un(e))&&t.limitType===e.limitType}function KS(t){return`${Xg(Un(t))}|lt:${t.limitType}`}function Ei(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>HS(s)).join(", ")}]`),Wd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>xo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>xo(s)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function Kd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Oa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=Pw(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Oa(r),s)||r.endAt&&!function(o,l,c){const d=Pw(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Oa(r),s))}(t,e)}function iM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QS(t){return(e,n)=>{let r=!1;for(const s of Oa(t)){const i=oM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function oM(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?vo(c,d):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new ze(ne.comparator);function ps(){return aM}const YS=new ze(ne.comparator);function va(...t){let e=YS;for(const n of t)e=e.insert(n.key,n);return e}function lM(t){let e=YS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bs(){return Fa()}function XS(){return Fa()}function Fa(){return new fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const cM=new et(ne.comparator);function pe(...t){let e=cM;for(const n of t)e=e.add(n);return e}const uM=new et(he);function dM(){return uM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function JS(t){return{integerValue:""+t}}function hM(t,e){return F6(e)?JS(e):Zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this._=void 0}}function fM(t,e,n){return t instanceof sp?function(s,i){const o={fields:{[MS]:{stringValue:DS},[LS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qg(i)&&(i=qd(i)),i&&(o.fields[VS]=i),{mapValue:o}}(n,e):t instanceof Xu?ZS(t,e):t instanceof Ju?eE(t,e):function(s,i){const o=pM(s,i),l=Vw(o)+Vw(s.Ae);return Zm(o)&&Zm(s.Ae)?JS(l):Zg(s.serializer,l)}(t,e)}function mM(t,e,n){return t instanceof Xu?ZS(t,e):t instanceof Ju?eE(t,e):n}function pM(t,e){return t instanceof ip?function(r){return Zm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class sp extends Qd{}class Xu extends Qd{constructor(e){super(),this.elements=e}}function ZS(t,e){const n=tE(e);for(const r of t.elements)n.some(s=>Qn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ju extends Qd{constructor(e){super(),this.elements=e}}function eE(t,e){let n=tE(e);for(const r of t.elements)n=n.filter(s=>!Qn(s,r));return{arrayValue:{values:n}}}class ip extends Qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Vw(t){return Be(t.integerValue||t.doubleValue)}function tE(t){return Yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xu&&s instanceof Xu||r instanceof Ju&&s instanceof Ju?yo(r.elements,s.elements,Qn):r instanceof ip&&s instanceof ip?Qn(r.Ae,s.Ae):r instanceof sp&&s instanceof sp}(t.transform,e.transform)}class Gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gs}static exists(e){return new Gs(void 0,e)}static updateTime(e){return new Gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ru(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class e0{}function nE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vM(t.key,Gs.none()):new t0(t.key,t.data,Gs.none());{const n=t.data,r=Mn.empty();let s=new et(wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yd(t.key,r,new Hr(s.toArray()),Gs.none())}}function yM(t,e,n){t instanceof t0?function(s,i,o){const l=s.value.clone(),c=Ow(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Yd?function(s,i,o){if(!ru(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Ow(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(rE(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ua(t,e,n,r){return t instanceof t0?function(i,o,l,c){if(!ru(i.precondition,o))return l;const d=i.value.clone(),h=Fw(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yd?function(i,o,l,c){if(!ru(i.precondition,o))return l;const d=Fw(i.fieldTransforms,c,o),h=o.data;return h.setAll(rE(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return ru(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Lw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yo(r,s,(i,o)=>gM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class t0 extends e0{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yd extends e0{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ow(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,mM(o,l,n[s]))}return r}function Fw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,fM(i,o,e))}return r}class vM extends e0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&yM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=nE(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,r)=>Lw(n,r))&&yo(this.baseMutations,e.baseMutations,(n,r)=>Lw(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,fe;function sE(t){if(t===void 0)return wr("GRPC error has no .code"),H.UNKNOWN;switch(t){case He.OK:return H.OK;case He.CANCELLED:return H.CANCELLED;case He.UNKNOWN:return H.UNKNOWN;case He.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case He.INTERNAL:return H.INTERNAL;case He.UNAVAILABLE:return H.UNAVAILABLE;case He.UNAUTHENTICATED:return H.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case He.NOT_FOUND:return H.NOT_FOUND;case He.ALREADY_EXISTS:return H.ALREADY_EXISTS;case He.PERMISSION_DENIED:return H.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case He.ABORTED:return H.ABORTED;case He.OUT_OF_RANGE:return H.OUT_OF_RANGE;case He.UNIMPLEMENTED:return H.UNIMPLEMENTED;case He.DATA_LOSS:return H.DATA_LOSS;default:return oe(39323,{code:t})}}(fe=He||(He={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new is([4294967295,4294967295],0);function Uw(t){const e=bM().encode(t),n=new _S;return n.update(e),new Uint8Array(n.digest())}function Bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new is([n,r],0),new is([s,i],0)]}class n0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xa(`Invalid padding: ${n}`);if(r<0)throw new xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(is.fromNumber(r)));return s.compare(TM)===1&&(s=new is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Uw(e),[r,s]=Bw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new n0(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Uw(e),[r,s]=Bw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xd(ie.min(),s,new ze(he),ps(),pe())}}class Vl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class iE{constructor(e,n){this.targetId=e,this.Ce=n}}class oE{constructor(e,n,r=ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class $w{constructor(){this.ve=0,this.Fe=zw(),this.Me=ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new Vl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=zw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=Rc(),this.He=Rc(),this.Ye=new ze(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(tp(i))if(r===0){const o=new ne(i.path);this.et(n,o,xt.newNoDocument(o,ie.min()))}else Me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=fs(r).toUint8Array()}catch(c){if(c instanceof RS)return go("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new n0(o,s,i)}catch(c){return go(c instanceof xa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&tp(l.target)){const c=new ne(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,xt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=pe();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Xd(e,n,this.Ye,this.je,r);return this.je=ps(),this.Je=Rc(),this.He=Rc(),this.Ye=new ze(he),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $w,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new et(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new et(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $w),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rc(){return new ze(ne.comparator)}function zw(){return new ze(ne.comparator)}const EM={asc:"ASCENDING",desc:"DESCENDING"},NM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kM={and:"AND",or:"OR"};class IM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(t,e){return t.useProto3Json||Wd(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xi(t){return Me(!!t,49232),ie.fromTimestamp(function(n){const r=hs(n);return new Ce(r.seconds,r.nanos)}(t))}function lE(t,e){return lp(t,e).canonicalString()}function lp(t,e){const n=function(s){return new Ie(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cE(t){const e=Ie.fromString(t);return Me(mE(e),10190,{key:e.toString()}),e}function xf(t,e){const n=cE(e);if(n.get(1)!==t.databaseId.projectId)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(dE(n))}function uE(t,e){return lE(t.databaseId,e)}function CM(t){const e=cE(t);return e.length===4?Ie.emptyPath():dE(e)}function Hw(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dE(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Me(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?H.UNKNOWN:sE(d.code);return new J(h,d.message||"")}(o);n=new oE(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xf(t,r.document.name),i=Xi(r.document.updateTime),o=r.document.createTime?Xi(r.document.createTime):ie.min(),l=new Mn({mapValue:{fields:r.document.fields}}),c=xt.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new su(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xf(t,r.document),i=r.readTime?Xi(r.readTime):ie.min(),o=xt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new su([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xf(t,r.document),i=r.removedTargetIds||[];n=new su([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new _M(s,i),l=r.targetId;n=new iE(l,o)}}return n}function AM(t,e){return{documents:[uE(t,e.path)]}}function PM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uE(t,s);const i=function(d){if(d.length!==0)return fE(In.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Ni(m.field),direction:MM(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=op(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function RM(t){let e=CM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=hE(f);return m instanceof In&&$S(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(_){return new Yu(ki(_.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Wd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new Qu(g,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,g=f.values||[];return new Qu(g,m)}(n.endAt)),rM(e,s,o,i,l,"F",c,d)}function DM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ki(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ki(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ki(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ki(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(ki(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(r=>hE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function MM(t){return EM[t]}function VM(t){return NM[t]}function LM(t){return kM[t]}function Ni(t){return{fieldPath:t.canonicalString()}}function ki(t){return wt.fromServerFormat(t.fieldPath)}function fE(t){return t instanceof Ge?function(n){if(n.op==="=="){if(Aw(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NAN"}};if(jw(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Aw(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NAN"}};if(jw(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(n.field),op:VM(n.op),value:n.value}}}(t):t instanceof In?function(n){const r=n.getFilters().map(s=>fE(s));return r.length===1?r[0]:{compositeFilter:{op:LM(n.op),filters:r}}}(t):oe(54877,{filter:t})}function mE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,r,s,i=ie.min(),o=ie.min(),l=ut.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.yt=e}}function FM(t){const e=RM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.Cn=new BM}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ds.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class BM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new et(Ie.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new et(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class Lt{static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(pE,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wo(0)}static cr(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="LruGarbageCollector",$M=1048576;function Gw([t,e],[n,r]){const s=he(t,n);return s===0?he(e,r):s}class zM{constructor(e){this.Ir=e,this.buffer=new et(Gw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Gw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(qw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?Y(qw,"Ignoring IndexedDB error during garbage collection: ",n):await zd(n)}await this.Vr(3e5)})}}class WM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Hd.ce);const r=new zM(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Ww)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ww):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Si()<=de.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function qM(t,e){return new WM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.changes=new fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ua(r.mutation,s,Hr.empty(),Ce.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=Bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=va();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ps();const o=Fa(),l=function(){return Fa()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Yd)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Ua(h.mutation,d,h.mutation.getFieldMask(),Ce.now())):o.set(d.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new KM(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Fa();let s=new ze((o,l)=>o-l),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Hr.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||pe()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=XS();h.forEach(m=>{if(!i.has(m)){const g=nE(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Bs());let l=fl,c=i;return o.next(d=>U.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,pe())).next(h=>({batchId:l,changes:lM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=va();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=va();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,c=>{const d=function(f,m){return new Ml(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let l=va();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Ua(h.mutation,d,Hr.empty(),Ce.now()),Kd(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Xi(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:FM(s.bundledQuery),readTime:Xi(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.overlays=new ze(ne.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bs();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Bs(),i=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Bs(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Bs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return U.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wM(n,r));let i=this.qr.get(n);i===void 0&&(i=pe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.Qr=new et(nt.$r),this.Ur=new et(nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new nt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new Ie([])),r=new nt(n,e),s=new nt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Ie([])),r=new nt(n,e),s=new nt(n,e+1);let i=pe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new et(nt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xM(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new nt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?O6:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),s=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(he);return n.forEach(s=>{const i=new nt(s,0),o=new nt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new nt(new ne(i),0);let l=new et(he);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},o),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new nt(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.ri=e,this.docs=function(){return new ze(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():xt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ps();const o=n.path,l=new ne(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||D6(R6(h),r)<=0||(s.has(h.key)||Kd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tV(this)}getSize(e){return U.resolve(this.size)}}class tV extends GM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.persistence=e,this.si=new fi(n=>Xg(n),Jg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new r0,this.targetCount=0,this.ai=wo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hd(0),this.li=!1,this.li=!0,this.hi=new JM,this.referenceDelegate=e(this),this.Pi=new nV(this),this.indexManager=new UM,this.remoteDocumentCache=function(s){return new eV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new OM(n),this.Ii=new YM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ZM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new rV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class rV extends V6{constructor(e){super(),this.currentSequenceNumber=e}}class s0{constructor(e){this.persistence=e,this.Ri=new r0,this.Vi=null}static mi(e){return new s0(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=ne.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zu{constructor(e,n){this.persistence=e,this.pi=new fi(r=>U6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=qM(this,n)}static mi(e,n){return new Zu(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nu(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new i0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return eD()?8:L6(Tt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new sV;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Si()<=de.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ei(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Si()<=de.DEBUG&&Y("QueryEngine","Query:",Ei(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Si()<=de.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ei(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):U.resolve())}ys(e,n){if(Mw(n))return U.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=rp(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,rp(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Mw(n)||s.isEqual(ie.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(Si()<=de.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ei(n)),this.vs(e,o,n,P6(s,fl)).next(l=>l))})}Ds(e,n){let r=new et(QS(e));return n.forEach((s,i)=>{Kd(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Si()<=de.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ei(n)),this.ps.getDocumentsMatchingQuery(e,n,ds.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="LocalStore",oV=3e8;class aV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ze(he),this.xs=new fi(i=>Xg(i),Jg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function lV(t,e,n,r){return new aV(t,e,n,r)}async function yE(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=pe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function vE(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function cV(t,e){const n=me(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ut.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(x,N,w){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=oV?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,g,h)&&l.push(n.Pi.updateTargetData(i,g))});let c=ps(),d=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(uV(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(ie.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return U.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function uV(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ps();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Y(o0,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function dV(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Wr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function cp(t,e,n){const r=me(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Do(o))throw o;Y(o0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Kw(t,e,n){const r=me(t);let s=ie.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=me(c),m=f.xs.get(h);return m!==void 0?U.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,Un(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:pe())).next(l=>(hV(r,iM(e),l),{documents:l,Qs:i})))}function hV(t,e,n){let r=t.Os.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Qw{constructor(){this.activeTargetIds=dM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fV{constructor(){this.Mo=new Qw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Qw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="ConnectivityMonitor";class Xw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(Yw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(Yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function up(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",pV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Gu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=up(),l=this.zo(e,n.toUriEncodedString());Y(wf,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=Po(d);return this.Jo(e,l,c,r,h).then(f=>(Y(wf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw go(wf,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=pV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class vV extends gV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=up();return new Promise((l,c)=>{const d=new bS;d.setWithCredentials(!0),d.listenOnce(TS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case tu.NO_ERROR:const f=d.getResponseJson();Y(gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case tu.TIMEOUT:Y(gt,`RPC '${e}' ${o} timed out`),c(new J(H.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:const m=d.getStatus();if(Y(gt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const x=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(_.status);c(new J(x,_.message))}else c(new J(H.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new J(H.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Y(gt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Y(gt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=up(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NS(),l=ES(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Y(gt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,g=!1;const _=new yV({Yo:N=>{g?Y(gt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(m||(Y(gt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Y(gt,`RPC '${e}' stream ${s} sending:`,N),f.send(N))},Zo:()=>f.close()}),x=(N,w,v)=>{N.listen(w,b=>{try{v(b)}catch(D){setTimeout(()=>{throw D},0)}})};return x(f,ya.EventType.OPEN,()=>{g||(Y(gt,`RPC '${e}' stream ${s} transport opened.`),_.o_())}),x(f,ya.EventType.CLOSE,()=>{g||(g=!0,Y(gt,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(f))}),x(f,ya.EventType.ERROR,N=>{g||(g=!0,go(gt,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),_.a_(new J(H.UNAVAILABLE,"The operation could not be completed")))}),x(f,ya.EventType.MESSAGE,N=>{var w;if(!g){const v=N.data[0];Me(!!v,16349);const b=v,D=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(D){Y(gt,`RPC '${e}' stream ${s} received error:`,D);const P=D.status;let O=function(I){const C=He[I];if(C!==void 0)return sE(C)}(P),k=D.message;O===void 0&&(O=H.INTERNAL,k="Unknown error status: "+P+" with message "+D.message),g=!0,_.a_(new J(O,k)),f.close()}else Y(gt,`RPC '${e}' stream ${s} received:`,v),_.u_(v)}}),x(l,SS.STAT_EVENT,N=>{N.stat===Qm.PROXY?Y(gt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Qm.NOPROXY&&Y(gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return new IM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="PersistentStream";class xV{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new J(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(Jw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(Jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wV extends xV{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jM(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Xi(o.readTime):ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Hw(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=tp(c)?{documents:AM(i,c)}:{query:PM(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=aE(i,o.resumeToken);const d=op(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ie.min())>0){l.readTime=ap(i,o.snapshotVersion.toTimestamp());const d=op(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=DM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Hw(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{}class bV extends _V{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,lp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(H.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,lp(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(H.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class TV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class SV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ol(this)&&(Y(_o,"Restarting streams for network reachability change."),await async function(c){const d=me(c);d.Ea.add(4),await Ll(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Zd(d)}(this))})}),this.Ra=new TV(r,s)}}async function Zd(t){if(Ol(t))for(const e of t.da)await e(!0)}async function Ll(t){for(const e of t.da)await e(!1)}function wE(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u0(n)?c0(n):Vo(n).O_()&&l0(n,e))}function a0(t,e){const n=me(t),r=Vo(n);n.Ia.delete(e),r.O_()&&_E(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ol(n)&&n.Ra.set("Unknown"))}function l0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).Y_(e)}function _E(t,e){t.Va.Ue(e),Vo(t).Z_(e)}function c0(t){t.Va=new SM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.Ra.ua()}function u0(t){return Ol(t)&&!Vo(t).x_()&&t.Ia.size>0}function Ol(t){return me(t).Ea.size===0}function bE(t){t.Va=void 0}async function EV(t){t.Ra.set("Online")}async function NV(t){t.Ia.forEach((e,n)=>{l0(t,e)})}async function kV(t,e){bE(t),u0(t)?(t.Ra.ha(e),c0(t)):t.Ra.set("Unknown")}async function IV(t,e,n){if(t.Ra.set("Online"),e instanceof oE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Y(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zw(t,r)}else if(e instanceof su?t.Va.Ze(e):e instanceof iE?t.Va.st(e):t.Va.tt(e),!n.isEqual(ie.min()))try{const r=await vE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),_E(i,c);const f=new Wr(h.target,c,d,h.sequenceNumber);l0(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y(_o,"Failed to raise snapshot:",r),await Zw(t,r)}}async function Zw(t,e,n){if(!Do(e))throw e;t.Ea.add(1),await Ll(t),t.Ra.set("Offline"),n||(n=()=>vE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(_o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zd(t)})}async function e1(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Y(_o,"RemoteStore received new credentials");const r=Ol(n);n.Ea.add(3),await Ll(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zd(n)}async function CV(t,e){const n=me(t);e?(n.Ea.delete(2),await Zd(n)):e||(n.Ea.add(2),await Ll(n),n.Ra.set("Unknown"))}function Vo(t){return t.ma||(t.ma=function(n,r,s){const i=me(n);return i.sa(),new wV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:EV.bind(null,t),t_:NV.bind(null,t),r_:kV.bind(null,t),H_:IV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),u0(t)?c0(t):t.Ra.set("Unknown")):(await t.ma.stop(),bE(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new d0(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TE(t,e){if(wr("AsyncQueue",`${e}: ${t}`),Do(t))return new J(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{static emptySet(e){return new Ji(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=va(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ji;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.ga=new ze(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class bo{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new bo(e,n,Ji.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AV{constructor(){this.queries=n1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=n1(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new J(H.ABORTED,"Firestore shutting down"))}}function n1(){return new fi(t=>KS(t),Gd)}async function PV(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new jV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=TE(o,`Initialization of query '${Ei(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&h0(n)}async function RV(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DV(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&h0(n)}function MV(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function h0(t){t.Ca.forEach(e=>{e.next()})}var dp,r1;(r1=dp||(dp={})).Ma="default",r1.Cache="cache";class VV{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.key=e}}class EE{constructor(e){this.key=e}}class LV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=QS(e),this.tu=new Ji(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new t1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=Kd(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;m&&g?m.data.isEqual(g.data)?_!==x&&(r.track({type:3,doc:g}),N=!0):this.su(m,g)||(r.track({type:2,doc:g}),N=!0,(c&&this.eu(g,c)>0||d&&this.eu(g,d)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),N=!0):m&&!g&&(r.track({type:1,doc:m}),N=!0,(c||d)&&(l=!0)),N&&(g?(o=o.add(g),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,_){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:N})}};return x(g)-x(_)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new bo(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new EE(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new SE(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const f0="SyncEngine";class OV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FV{constructor(e){this.key=e,this.hu=!1}}class UV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new fi(l=>KS(l),Gd),this.Iu=new Map,this.Eu=new Set,this.du=new ze(ne.comparator),this.Au=new Map,this.Ru=new r0,this.Vu={},this.mu=new Map,this.fu=wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BV(t,e,n=!0){const r=jE(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await NE(r,e,n,!0),s}async function $V(t,e){const n=jE(t);await NE(n,e,!0,!1)}async function NE(t,e,n,r){const s=await dV(t.localStore,Un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await zV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&wE(t.remoteStore,s),l}async function zV(t,e,n,r,s){t.pu=(f,m,g)=>async function(x,N,w,v){let b=N.view.ru(w);b.Cs&&(b=await Kw(x.localStore,N.query,!1).then(({documents:k})=>N.view.ru(k,b)));const D=v&&v.targetChanges.get(N.targetId),P=v&&v.targetMismatches.get(N.targetId)!=null,O=N.view.applyChanges(b,x.isPrimaryClient,D,P);return i1(x,N.targetId,O.au),O.snapshot}(t,f,m,g);const i=await Kw(t.localStore,e,!0),o=new LV(e,i.Qs),l=o.ru(i.documents),c=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);i1(t,n,d.au);const h=new OV(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function HV(t,e,n){const r=me(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Gd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await cp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&a0(r.remoteStore,s.targetId),hp(r,s.targetId)}).catch(zd)):(hp(r,s.targetId),await cp(r.localStore,s.targetId,!0))}async function WV(t,e){const n=me(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),a0(n.remoteStore,r.targetId))}async function kE(t,e){const n=me(t);try{const r=await cV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Me(o.hu,14607):s.removedDocuments.size>0&&(Me(o.hu,42227),o.hu=!1))}),await CE(n,r,e)}catch(r){await zd(r)}}function s1(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=me(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(d=!0)}),d&&h0(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qV(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ze(ne.comparator);o=o.insert(i,xt.newNoDocument(i,ie.min()));const l=pe().add(i),c=new Xd(ie.min(),new Map,new ze(he),o,l);await kE(r,c),r.du=r.du.remove(i),r.Au.delete(e),m0(r)}else await cp(r.localStore,e,!1).then(()=>hp(r,e,n)).catch(zd)}function hp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||IE(t,r)})}function IE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(a0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),m0(t))}function i1(t,e,n){for(const r of n)r instanceof SE?(t.Ru.addReference(r.key,e),GV(t,r)):r instanceof EE?(Y(f0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||IE(t,r.key)):oe(19791,{wu:r})}function GV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(f0,"New document in limbo: "+n),t.Eu.add(r),m0(t))}function m0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Ie.fromString(e)),r=t.fu.next();t.Au.set(r,new FV(n)),t.du=t.du.insert(n,r),wE(t.remoteStore,new Wr(Un(qS(n.path)),r,"TargetPurposeLimboResolution",Hd.ce))}}async function CE(t,e,n){const r=me(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=i0.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=me(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,m=>U.forEach(m.Es,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>U.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Do(f))throw f;Y(o0,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const g=h.Ms.get(m),_=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(m,x)}}}(r.localStore,i))}async function KV(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Y(f0,"User change. New user:",e.toKey());const r=await yE(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new J(H.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await CE(n,r.Ls)}}function QV(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let s=pe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function jE(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qV.bind(null,e),e.Pu.H_=DV.bind(null,e.eventManager),e.Pu.yu=MV.bind(null,e.eventManager),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lV(this.persistence,new iV,e.initialUser,this.serializer)}Cu(e){return new gE(s0.mi,this.serializer)}Du(e){return new fV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class YV extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Me(this.persistence.referenceDelegate instanceof Zu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new gE(r=>Zu.mi(r,n),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KV.bind(null,this.syncEngine),await CV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AV}()}createDatastore(e){const n=Jd(e.databaseInfo.databaseId),r=function(i){return new vV(i)}(e.databaseInfo);return function(i,o,l,c){return new bV(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new SV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>s1(this.syncEngine,n,0),function(){return Xw.v()?new Xw:new mV}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,h){const f=new UV(s,i,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);Y(_o,"RemoteStore shutting down."),i.Ea.add(5),await Ll(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}fp.provider={build:()=>new fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class JV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yt.UNAUTHENTICATED,this.clientId=CS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(gs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(gs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=TE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(gs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function o1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZV(t);Y(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>e1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>e1(e.remoteStore,s)),t._onlineComponents=e}async function ZV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(gs,"Using user provided OfflineComponentProvider");try{await bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await bf(t,new ed)}}else Y(gs,"Using default OfflineComponentProvider"),await bf(t,new YV(void 0));return t._offlineComponents}async function eL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(gs,"Using user provided OnlineComponentProvider"),await o1(t,t._uninitializedComponentsProvider._online)):(Y(gs,"Using default OnlineComponentProvider"),await o1(t,new fp))),t._onlineComponents}async function tL(t){const e=await eL(t),n=e.eventManager;return n.onListen=BV.bind(null,e.syncEngine),n.onUnlisten=HV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$V.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WV.bind(null,e.syncEngine),n}function nL(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new XV({next:m=>{h.Nu(),o.enqueueAndForget(()=>RV(i,f)),m.fromCache&&c.source==="server"?d.reject(new J(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new VV(l,h,{includeMetadataChanges:!0,qa:!0});return PV(i,f)}(await tL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firestore.googleapis.com",l1=!0;class c1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PE,this.ssl=l1}else this.host=e.host,this.ssl=e.ssl??l1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$M)throw new J(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _6;switch(r.type){case"firstParty":return new E6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=a1.get(n);r&&(Y("ComponentProvider","Removing Datastore"),a1.delete(n),r.terminate())}(this),Promise.resolve()}}function rL(t,e,n,r={}){var d;t=Xm(t,p0);const s=Po(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(uS(`https://${l}`),dS("Firestore",!0)),i.host!==PE&&i.host!==l&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!us(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=yt.MOCK_USER;else{h=q3(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yt(m)}t._authCredentials=new b6(new IS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dl(n,At._jsonSchema))return new At(e,r||null,new ne(Ie.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Ke("string",At._jsonSchemaVersion),referencePath:Ke("string")};class Zi extends Lo{constructor(e,n,r){super(e,n,qS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ne(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function sL(t,e,...n){if(t=hn(t),t instanceof p0){const r=Ie.fromString(e,...n);return _w(r),new Zi(t,null,r)}{if(!(t instanceof At||t instanceof Zi))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return _w(r),new Zi(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="AsyncQueue";class d1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xE(this,"async_queue_retry"),this._c=()=>{const r=_f();r&&Y(u1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;Y(u1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",h1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=d0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&oe(47125,{Pc:h1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function h1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class RE extends p0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new d1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d1(e),this._firestoreClient=void 0,await e}}}function iL(t,e){const n=typeof t=="object"?t:Bd(),r=typeof t=="string"?t:Gu,s=hi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=H3("firestore");i&&rL(s,...i)}return s}function oL(t){if(t._terminated)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aL(t),t._firestoreClient}function aL(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new z6(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,AE(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sn(ut.fromBase64String(e))}catch(n){throw new J(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sn(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dl(e,sn._jsonSchema))return sn.fromBase64String(e.bytes)}}sn._jsonSchemaVersion="firestore/bytes/1.0",sn._jsonSchema={type:Ke("string",sn._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bn._jsonSchemaVersion}}static fromJSON(e){if(Dl(e,Bn._jsonSchema))return new Bn(e.latitude,e.longitude)}}Bn._jsonSchemaVersion="firestore/geoPoint/1.0",Bn._jsonSchema={type:Ke("string",Bn._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dl(e,$n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $n(e.vectorValues);throw new J(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Ke("string",$n._jsonSchemaVersion),vectorValues:Ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/^__.*__$/;function VE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class g0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new g0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VE(this.Ac)&&lL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jd(e)}Cc(e,n,r,s=!1){return new g0({Ac:e,methodName:n,Dc:r,path:wt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uL(t){const e=t._freezeSettings(),n=Jd(t._databaseId);return new cL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dL(t,e,n,r=!1){return y0(n,t.Cc(r?4:3,e))}function y0(t,e){if(LE(t=hn(t)))return fL("Unsupported field value:",e,t),hL(t,e);if(t instanceof ME)return function(r,s){if(!VE(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=y0(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ce.fromDate(r);return{timestampValue:ap(s.serializer,i)}}if(r instanceof Ce){const i=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(s.serializer,i)}}if(r instanceof Bn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sn)return{bytesValue:aE(s.serializer,r._byteString)};if(r instanceof At){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $n)return function(o,l){return{mapValue:{fields:{[OS]:{stringValue:FS},[Ku]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Zg(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${$d(r)}`)}(t,e)}function hL(t,e){const n={};return PS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,s)=>{const i=y0(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function LE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Bn||t instanceof sn||t instanceof At||t instanceof ME||t instanceof $n)}function fL(t,e,n){if(!LE(n)||!jS(n)){const r=$d(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}const mL=new RegExp("[~\\*/\\[\\]]");function pL(t,e,n){if(e.search(mL)>=0)throw mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new DE(...e.split("."))._internalPath}catch{throw mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new J(H.INVALID_ARGUMENT,l+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gL extends OE{data(){return super.data()}}function v0(t,e){return typeof e=="string"?pL(t,e):e instanceof DE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x0{}class vL extends x0{}function xL(t,e,...n){let r=[];e instanceof x0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof w0).length,l=i.filter(c=>c instanceof eh).length;if(o>1||o>0&&l>0)throw new J(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class eh extends vL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new eh(e,n,r)}_apply(e){const n=this._parse(e);return FE(e._query,n),new Lo(e.firestore,e.converter,np(e._query,n))}_parse(e){const n=uL(e.firestore);return function(i,o,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){m1(f,h);const _=[];for(const x of f)_.push(f1(c,i,x));m={arrayValue:{values:_}}}else m=f1(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||m1(f,h),m=dL(l,o,f,h==="in"||h==="not-in");return Ge.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wL(t,e,n){const r=e,s=v0("where",t);return eh._create(s,r,n)}class w0 extends x0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)FE(o,c),o=np(o,c)}(e._query,n),new Lo(e.firestore,e.converter,np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function f1(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new J(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GS(e)&&n.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ie.fromString(n));if(!ne.isDocumentKey(r))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cw(t,new ne(r))}if(n instanceof At)return Cw(t,n._key);throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(n)}.`)}function m1(t,e){if(!Array.isArray(t)||t.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FE(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _L{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Ku].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Be(o.doubleValue));return new $n(n)}convertGeoPoint(e){return new Bn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);Me(mE(r),9688,{name:e});const s=new pl(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||wr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends OE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Ke("string",eo._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class iu extends eo{data(e={}){return super.data(e)}}class to{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new iu(this._firestore,this._userDataWriter,r.key,r,new Mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new iu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new iu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:bL(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=CS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Ke("string",to._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class TL extends _L{constructor(e){super(),this.firestore=e}convertBytes(e){return new sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function SL(t){t=Xm(t,Lo);const e=Xm(t.firestore,RE),n=oL(e),r=new TL(e);return yL(t._query),nL(n,t._query).then(s=>new to(e,r,t,s))}(function(e,n=!0){(function(s){Ro=s})(Ss),Kn(new kn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new RE(new T6(r.getProvider("auth-internal")),new N6(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new J(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),cn(yw,vw,e),cn(yw,vw,"esm2020")})();var EL="firebase",NL="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn(EL,NL,"app");const UE="@firebase/installations",_0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=1e4,$E=`w:${_0}`,zE="FIS_v2",kL="https://firebaseinstallations.googleapis.com/v1",IL=60*60*1e3,CL="installations",jL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ni=new di(CL,jL,AL);function HE(t){return t instanceof Cn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE({projectId:t}){return`${kL}/projects/${t}/installations`}function qE(t){return{token:t.token,requestStatus:2,expiresIn:RL(t.expiresIn),creationTime:Date.now()}}async function GE(t,e){const r=(await e.json()).error;return ni.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function PL(t,{refreshToken:e}){const n=KE(t);return n.append("Authorization",DL(e)),n}async function QE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function RL(t){return Number(t.replace("s","000"))}function DL(t){return`${zE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=WE(t),s=KE(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:zE,appId:t.appId,sdkVersion:$E},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await QE(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:qE(d.authToken)}}else throw await GE("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^[cdef][\w-]{21}$/,pp="";function OL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=FL(t);return LL.test(n)?n:pp}catch{return pp}}function FL(t){return VL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function JE(t,e){const n=th(t);ZE(n,e),UL(n,e)}function ZE(t,e){const n=XE.get(t);if(n)for(const r of n)r(e)}function UL(t,e){const n=BL();n&&n.postMessage({key:t,fid:e}),$L()}let $s=null;function BL(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=t=>{ZE(t.data.key,t.data.fid)}),$s}function $L(){XE.size===0&&$s&&($s.close(),$s=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firebase-installations-database",HL=1,ri="firebase-installations-store";let Tf=null;function b0(){return Tf||(Tf=yS(zL,HL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ri)}}})),Tf}async function td(t,e){const n=th(t),s=(await b0()).transaction(ri,"readwrite"),i=s.objectStore(ri),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&JE(t,e.fid),e}async function eN(t){const e=th(t),r=(await b0()).transaction(ri,"readwrite");await r.objectStore(ri).delete(e),await r.done}async function nh(t,e){const n=th(t),s=(await b0()).transaction(ri,"readwrite"),i=s.objectStore(ri),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&JE(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(t){let e;const n=await nh(t.appConfig,r=>{const s=WL(r),i=qL(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===pp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function WL(t){const e=t||{fid:OL(),registrationStatus:0};return tN(e)}function qL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ni.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=GL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:KL(t)}:{installationEntry:e}}async function GL(t,e){try{const n=await ML(t,e);return td(t.appConfig,n)}catch(n){throw HE(n)&&n.customData.serverCode===409?await eN(t.appConfig):await td(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function KL(t){let e=await p1(t.appConfig);for(;e.registrationStatus===1;)await YE(100),e=await p1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await T0(t);return r||n}return e}function p1(t){return nh(t,e=>{if(!e)throw ni.create("installation-not-found");return tN(e)})}function tN(t){return QL(t)?{fid:t.fid,registrationStatus:0}:t}function QL(t){return t.registrationStatus===1&&t.registrationTime+BE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL({appConfig:t,heartbeatServiceProvider:e},n){const r=XL(t,n),s=PL(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:$E,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await QE(()=>fetch(r,l));if(c.ok){const d=await c.json();return qE(d)}else throw await GE("Generate Auth Token",c)}function XL(t,{fid:e}){return`${WE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(t,e=!1){let n;const r=await nh(t.appConfig,i=>{if(!nN(i))throw ni.create("not-registered");const o=i.authToken;if(!e&&eO(o))return i;if(o.requestStatus===1)return n=JL(t,e),i;{if(!navigator.onLine)throw ni.create("app-offline");const l=nO(i);return n=ZL(t,l),l}});return n?await n:r.authToken}async function JL(t,e){let n=await g1(t.appConfig);for(;n.authToken.requestStatus===1;)await YE(100),n=await g1(t.appConfig);const r=n.authToken;return r.requestStatus===0?S0(t,e):r}function g1(t){return nh(t,e=>{if(!nN(e))throw ni.create("not-registered");const n=e.authToken;return rO(n)?{...e,authToken:{requestStatus:0}}:e})}async function ZL(t,e){try{const n=await YL(t,e),r={...e,authToken:n};return await td(t.appConfig,r),n}catch(n){if(HE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await td(t.appConfig,r)}throw n}}function nN(t){return t!==void 0&&t.registrationStatus===2}function eO(t){return t.requestStatus===2&&!tO(t)}function tO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IL}function nO(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function rO(t){return t.requestStatus===1&&t.requestTime+BE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t){const e=t,{installationEntry:n,registrationPromise:r}=await T0(e);return r?r.catch(console.error):S0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e=!1){const n=t;return await oO(n),(await S0(n,e)).token}async function oO(t){const{registrationPromise:e}=await T0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){if(!t||!t.options)throw Sf("App Configuration");if(!t.name)throw Sf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sf(t){return ni.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="installations",lO="installations-internal",cO=t=>{const e=t.getProvider("app").getImmediate(),n=aO(e),r=hi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},uO=t=>{const e=t.getProvider("app").getImmediate(),n=hi(e,rN).getImmediate();return{getId:()=>sO(n),getToken:s=>iO(n,s)}};function dO(){Kn(new kn(rN,cO,"PUBLIC")),Kn(new kn(lO,uO,"PRIVATE"))}dO();cn(UE,_0);cn(UE,_0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="analytics",hO="firebase_id",fO="origin",mO=60*1e3,pO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",E0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt=new Ud("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qt=new di("analytics","Analytics",gO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){if(!t.startsWith(E0)){const e=Qt.create("invalid-gtag-resource",{gtagURL:t});return zt.warn(e.message),""}return t}function sN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xO(t,e){const n=vO("firebase-js-sdk-policy",{createScriptURL:yO}),r=document.createElement("script"),s=`${E0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function wO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function _O(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await sN(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){zt.error(l)}t("config",s,i)}async function bO(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await sN(n);for(const c of o){const d=l.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){zt.error(i)}}function TO(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await bO(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await _O(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=o;t("consent",l,c)}else if(i==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){zt.error(l)}}return s}function SO(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=TO(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function EO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(E0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=30,kO=1e3;class IO{constructor(e={},n=kO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iN=new IO;function CO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jO(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:CO(n)},s=pO.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(l=c.error.message)}catch{}throw Qt.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function AO(t,e=iN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Qt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Qt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new DO;return setTimeout(async()=>{l.abort()},mO),oN({appId:r,apiKey:s,measurementId:i},o,l,e)}async function oN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=iN){var l;const{appId:i,measurementId:o}=t;try{await PO(r,e)}catch(c){if(o)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await jO(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!RO(d)){if(s.deleteThrottleMetadata(i),o)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const h=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?aw(n,s.intervalMillis,NO):aw(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),zt.debug(`Calling attemptFetch again in ${h} millis`),oN(t,f,r,s)}}function PO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RO(t){if(!(t instanceof Cn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class DO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function MO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(){if(fS())try{await mS()}catch(t){return zt.warn(Qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zt.warn(Qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function LO(t,e,n,r,s,i,o){const l=AO(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>zt.error(m)),e.push(l);const c=VO().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([l,c]);EO(i)||xO(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[fO]="firebase",f.update=!0,h!=null&&(f[hO]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.app=e}_delete(){return delete Ba[this.app.options.appId],Promise.resolve()}}let Ba={},y1=[];const v1={};let Ef="dataLayer",FO="gtag",x1,aN,w1=!1;function UO(){const t=[];if(hS()&&t.push("This is a browser extension environment."),tD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Qt.create("invalid-analytics-context",{errorInfo:e});zt.warn(n.message)}}function BO(t,e,n){UO();const r=t.options.appId;if(!r)throw Qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qt.create("no-api-key");if(Ba[r]!=null)throw Qt.create("already-exists",{id:r});if(!w1){wO(Ef);const{wrappedGtag:i,gtagCore:o}=SO(Ba,y1,v1,Ef,FO);aN=i,x1=o,w1=!0}return Ba[r]=LO(t,y1,v1,e,x1,Ef,n),new OO(t)}function $O(t=Bd()){t=hn(t);const e=hi(t,nd);return e.isInitialized()?e.getImmediate():zO(t)}function zO(t,e={}){const n=hi(t,nd);if(n.isInitialized()){const s=n.getImmediate();if(us(e,n.getOptions()))return s;throw Qt.create("already-initialized")}return n.initialize({options:e})}function HO(t,e,n,r){t=hn(t),MO(aN,Ba[t.app.options.appId],e,n,r).catch(s=>zt.error(s))}const _1="@firebase/analytics",b1="0.10.18";function WO(){Kn(new kn(nd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return BO(r,s,n)},"PUBLIC")),Kn(new kn("analytics-internal",t,"PRIVATE")),cn(_1,b1),cn(_1,b1,"esm2020");function t(e){try{const n=e.getProvider(nd).getImmediate();return{logEvent:(r,s,i)=>HO(n,r,s,i)}}catch(n){throw Qt.create("interop-component-reg-failed",{reason:n})}}}WO();function lN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qO=lN,cN=new di("auth","Firebase",lN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Ud("@firebase/auth");function GO(t,...e){rd.logLevel<=de.WARN&&rd.warn(`Auth (${Ss}): ${t}`,...e)}function ou(t,...e){rd.logLevel<=de.ERROR&&rd.error(`Auth (${Ss}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,...e){throw N0(t,...e)}function zn(t,...e){return N0(t,...e)}function uN(t,e,n){const r={...qO(),[e]:n};return new di("auth","Firebase",r).create(e,{appName:t.name})}function Ks(t){return uN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cN.create(t,...e)}function se(t,e,...n){if(!t)throw N0(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ou(e),new Error(e)}function br(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function KO(){return T1()==="http:"||T1()==="https:"}function T1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KO()||hS()||"connection"in navigator)?navigator.onLine:!0}function YO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=Q3()||J3()}get(){return QO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZO=new Fl(3e4,6e4);function I0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oo(t,e,n,r,s={}){return hN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Rl({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return X3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Po(t.emulatorConfig.host)&&(d.credentials="include"),dN.fetch()(await fN(t,t.config.apiHost,n,l),d)})}async function hN(t,e,n){t._canInitEmulator=!1;const r={...XO,...e};try{const s=new t9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Vc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Vc(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw uN(t,h,d);_r(t,h)}}catch(s){if(s instanceof Cn)throw s;_r(t,"network-request-failed",{message:String(s)})}}async function e9(t,e,n,r,s={}){const i=await Oo(t,e,n,r,s);return"mfaPendingCredential"in i&&_r(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function fN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?k0(t.config,s):`${t.config.apiScheme}://${s}`;return JO.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class t9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),ZO.get())})}}function Vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=zn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e){return Oo(t,"POST","/v1/accounts:delete",e)}async function sd(t,e){return Oo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r9(t,e=!1){const n=hn(t),r=await n.getIdToken(e),s=C0(r);se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:$a(Nf(s.auth_time)),issuedAtTime:$a(Nf(s.iat)),expirationTime:$a(Nf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Nf(t){return Number(t)*1e3}function C0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const s=oS(n);return s?JSON.parse(s):(ou("Failed to decode base64 JWT payload"),null)}catch(s){return ou("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function S1(t){const e=C0(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cn&&s9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function s9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$a(this.lastLoginAt),this.creationTime=$a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var f;const e=t.auth,n=await t.getIdToken(),r=await yl(t,sd(e,{idToken:n}));se(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?mN(s.providerUserInfo):[],o=a9(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new yp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function o9(t){const e=hn(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e){const n=await hN(t,{},async()=>{const r=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await fN(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Po(t.emulatorConfig.host)&&(c.credentials="include"),dN.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c9(t,e){return Oo(t,"POST","/v2/accounts:revokeToken",I0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=S1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await l9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new no;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _n{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new i9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yl(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r9(this,e)}reload(){return o9(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await yl(this,n9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:g,providerData:_,stsTokenManager:x}=n;se(f&&x,e,"internal-error");const N=no.fromJSON(this.name,x);se(typeof f=="string",e,"internal-error"),Ir(r,e.name),Ir(s,e.name),se(typeof m=="boolean",e,"internal-error"),se(typeof g=="boolean",e,"internal-error"),Ir(i,e.name),Ir(o,e.name),Ir(l,e.name),Ir(c,e.name),Ir(d,e.name),Ir(h,e.name);const w=new _n({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:N,createdAt:d,lastLoginAt:h});return _&&Array.isArray(_)&&(w.providerData=_.map(v=>({...v}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new no;s.updateFromServerResponse(n);const i=new _n({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await id(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?mN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new no;l.updateFromIdToken(r);const c=new _n({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new yp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;function cr(t){br(t instanceof Function,"Expected a class definition");let e=E1.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pN.type="NONE";const N1=pN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e,n){return`firebase:${t}:${e}:${n}`}class ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=au(this.userKey,s.apiKey,i),this.fullPersistenceKey=au("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sd(this.auth,{idToken:e}).catch(()=>{});return n?_n._fromGetAccountInfoResponse(this.auth,n,e):null}return _n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ro(cr(N1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||cr(N1);const o=au(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await sd(e,{idToken:h}).catch(()=>{});if(!m)break;f=await _n._fromGetAccountInfoResponse(e,m,h)}else f=_n._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ro(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ro(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_N(e))return"Blackberry";if(bN(e))return"Webos";if(yN(e))return"Safari";if((e.includes("chrome/")||vN(e))&&!e.includes("edge/"))return"Chrome";if(wN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gN(t=Tt()){return/firefox\//i.test(t)}function yN(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vN(t=Tt()){return/crios\//i.test(t)}function xN(t=Tt()){return/iemobile/i.test(t)}function wN(t=Tt()){return/android/i.test(t)}function _N(t=Tt()){return/blackberry/i.test(t)}function bN(t=Tt()){return/webos/i.test(t)}function j0(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u9(t=Tt()){var e;return j0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function d9(){return Z3()&&document.documentMode===10}function TN(t=Tt()){return j0(t)||wN(t)||bN(t)||_N(t)||/windows phone/i.test(t)||xN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e=[]){let n;switch(t){case"Browser":n=k1(Tt());break;case"Worker":n=`${k1(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ss}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e={}){return Oo(t,"GET","/v2/passwordPolicy",I0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=6;class p9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??m9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I1(this),this.idTokenSubscription=new I1(this),this.beforeStateQueue=new h9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sd(this,{idToken:e}),r=await _n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Dn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Ks(this));const n=e?hn(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f9(this),n=new p9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new di("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&GO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function A0(t){return hn(t)}class I1{constructor(e){this.auth=e,this.observer=null,this.addObserver=oD(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y9(t){P0=t}function v9(t){return P0.loadJS(t)}function x9(){return P0.gapiScript}function w9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t,e){const n=hi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(us(i,e??{}))return s;_r(s,"already-initialized")}return n.initialize({options:e})}function b9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T9(t,e,n){const r=A0(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=EN(e),{host:o,port:l}=S9(e),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(us(d,r.config.emulator)&&us(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Po(o)?(uS(`${i}//${o}${c}`),dS("Auth",!0)):E9()}function EN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S9(t){const e=EN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:C1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:C1(o)}}}function C1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t,e){return e9(t,"POST","/v1/accounts:signInWithIdp",I0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="http://localhost";class si extends NN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new si(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,so(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:N9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends kN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Ul{constructor(){super("facebook.com")}static credential(e){return si._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return si._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Ul{constructor(){super("github.com")}static credential(e){return si._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ul{constructor(){super("twitter.com")}static credential(e,n){return si._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await _n._fromIdTokenResponse(e,r,s),o=j1(r);return new To({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=j1(r);return new To({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function j1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Cn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new od(e,n,r,s)}}function IN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,i,e,r):i})}async function k9(t,e,n=!1){const r=await yl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e,n=!1){const{auth:r}=t;if(Dn(r.app))return Promise.reject(Ks(r));const s="reauthenticate";try{const i=await yl(t,IN(r,s,e,t),n);se(i.idToken,r,"internal-error");const o=C0(i.idToken);se(o,r,"internal-error");const{sub:l}=o;return se(t.uid===l,r,"user-mismatch"),To._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_r(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e,n=!1){if(Dn(t.app))return Promise.reject(Ks(t));const r="signIn",s=await IN(t,r,e),i=await To._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function j9(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function A9(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=1e3,R9=10;class jN extends CN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);d9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,R9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jN.type="LOCAL";const D9=jN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends CN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AN.type="SESSION";const PN=AN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await M9(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=R0("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function L9(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function O9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function U9(){return RN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="firebaseLocalStorageDb",B9=1,ld="firebaseLocalStorage",MN="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function $9(){const t=indexedDB.deleteDatabase(DN);return new Bl(t).toPromise()}function vp(){const t=indexedDB.open(DN,B9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ld,{keyPath:MN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await $9(),e(await vp()))})})}async function A1(t,e,n){const r=sh(t,!0).put({[MN]:e,value:n});return new Bl(r).toPromise()}async function z9(t,e){const n=sh(t,!1).get(e),r=await new Bl(n).toPromise();return r===void 0?null:r.value}function P1(t,e){const n=sh(t,!0).delete(e);return new Bl(n).toPromise()}const H9=800,W9=3;class VN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(U9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await O9(),!this.activeServiceWorker)return;this.sender=new V9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await A1(e,ad,"1"),await P1(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=sh(s,!1).getAll();return new Bl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VN.type="LOCAL";const q9=VN;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e){return e?cr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends NN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K9(t){return C9(t.auth,new D0(t),t.bypassAuthState)}function Q9(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),I9(n,new D0(t),t.bypassAuthState)}async function Y9(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),k9(n,new D0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K9;case"linkViaPopup":case"linkViaRedirect":return Y9;case"reauthViaPopup":case"reauthViaRedirect":return Q9;default:_r(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new Fl(2e3,1e4);class Hi extends LN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=R0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X9.get())};e()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="pendingRedirect",lu=new Map;class Z9 extends LN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lu.get(this.auth._key());if(!e){try{const r=await eF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lu.set(this.auth._key(),e)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eF(t,e){const n=rF(e),r=nF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function tF(t,e){lu.set(t._key(),e)}function nF(t){return cr(t._redirectPersistence)}function rF(t){return au(J9,t.config.apiKey,t.name)}async function sF(t,e,n=!1){if(Dn(t.app))return Promise.reject(Ks(t));const r=A0(t),s=G9(r,e),o=await new Z9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=10*60*1e3;class oF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ON(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iF&&this.cachedEventUids.clear(),this.cachedEventUids.has(R1(e))}saveEventToCache(e){this.cachedEventUids.add(R1(e)),this.lastProcessedEventTime=Date.now()}}function R1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ON({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ON(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e={}){return Oo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uF=/^https?/;async function dF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lF(t);for(const n of e)try{if(hF(n))return}catch{}_r(t,"unauthorized-domain")}function hF(t){const e=gp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uF.test(n))return!1;if(cF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=new Fl(3e4,6e4);function D1(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mF(t){return new Promise((e,n)=>{var s,i,o;function r(){D1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D1(),n(zn(t,"network-request-failed"))},timeout:fF.get()})}if((i=(s=Hn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Hn().gapi)!=null&&o.load)r();else{const l=w9("iframefcb");return Hn()[l]=()=>{gapi.load?r():n(zn(t,"network-request-failed"))},v9(`${x9()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw cu=null,e})}let cu=null;function pF(t){return cu=cu||mF(t),cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=new Fl(5e3,15e3),yF="__/auth/iframe",vF="emulator/auth/iframe",xF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _F(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k0(e,vF):`https://${t.config.authDomain}/${yF}`,r={apiKey:e.apiKey,appName:t.name,v:Ss},s=wF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Rl(r).slice(1)}`}async function bF(t){const e=await pF(t),n=Hn().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:_F(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),l=Hn().setTimeout(()=>{i(o)},gF.get());function c(){Hn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SF=500,EF=600,NF="_blank",kF="http://localhost";class M1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IF(t,e,n,r=SF,s=EF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...TF,width:r.toString(),height:s.toString(),top:i,left:o},d=Tt().toLowerCase();n&&(l=vN(d)?NF:n),gN(d)&&(e=e||kF,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,_])=>`${m}${g}=${_},`,"");if(u9(d)&&l!=="_self")return CF(e||"",l),new M1(null);const f=window.open(e||"",l,h);se(f,t,"popup-blocked");try{f.focus()}catch{}return new M1(f)}function CF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="__/auth/handler",AF="emulator/auth/handler",PF=encodeURIComponent("fac");async function V1(t,e,n,r,s,i){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ss,eventId:s};if(e instanceof kN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",iD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ul){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${PF}=${encodeURIComponent(c)}`:"";return`${RF(t)}?${Rl(l).slice(1)}${d}`}function RF({config:t}){return t.emulator?k0(t,AF):`https://${t.authDomain}/${jF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class DF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PN,this._completeRedirectFn=sF,this._overrideRedirectResult=tF}async _openPopup(e,n,r,s){var o;br((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await V1(e,n,r,gp(),s);return IF(e,i,R0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await V1(e,n,r,gp(),s);return L9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bF(e),r=new oF(e);return n.register("authEvent",s=>(se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kf,{type:kf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[kf];i!==void 0&&n(!!i),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TN()||yN()||j0()}}const MF=DF;var L1="@firebase/auth",O1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OF(t){Kn(new kn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SN(t)},d=new g9(r,s,i,c);return b9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new kn("auth-internal",e=>{const n=A0(e.getProvider("auth").getImmediate());return(r=>new VF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(L1,O1,LF(t)),cn(L1,O1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=5*60,UF=cS("authIdTokenMaxAge")||FF;let F1=null;const BF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UF)return;const s=n==null?void 0:n.token;F1!==s&&(F1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $F(t=Bd()){const e=hi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_9(t,{popupRedirectResolver:MF,persistence:[q9,D9,PN]}),r=cS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=BF(i.toString());A9(n,o,()=>o(n.currentUser)),j9(n,l=>o(l))}}const s=aS("auth");return s&&T9(n,`http://${s}`),n}function zF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}y9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=zn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",zF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OF("Browser");const HF={apiKey:"AIzaSyBGn7NtE-rFOGYP6nWGPaAXb_mK-i4hdjg",authDomain:"trekandstay-fade6.firebaseapp.com",projectId:"trekandstay-fade6",storageBucket:"trekandstay-fade6.appspot.com",messagingSenderId:"1086551379927",appId:"1:1086551379927:web:8502d2414d95e4e53b0592",measurementId:"G-X0L1D0QFC6"};console.log("[firebase] Init (SDK",Ss+")");const ii=u6().length?Bd():vS(HF);console.log("[firebase] App ready:",ii.name);const WF=$F(ii);new sr;console.log(" Firebase Auth initialized");let FN=null;if(typeof window<"u")try{FN=$O(ii),console.log(" Firebase Analytics initialized")}catch(t){console.warn(" Firebase Analytics initialization failed (normal in development):",t)}let Mr=null,vl;const qF=performance.now();try{vl=iL(ii),console.log("[firebase] Firestore ready")}catch(t){Mr=t,console.error("[firebase] Firestore init failed:",t)}globalThis.__FIREBASE_DIAG={ts:new Date().toISOString(),elapsedMs:+(performance.now()-qF).toFixed(2),projectId:ii.options.projectId,appName:ii.name,firestoreOk:!!vl&&!Mr,firstError:Mr?Mr instanceof Error?{name:Mr.name,message:Mr.message}:String(Mr):null,sdkVersion:Ss};Mr&&console.warn(" Firestore diagnostics (initial):",globalThis.__FIREBASE_DIAG);console.log("[firebase] Status:",{app:!!ii,auth:!!WF,db:!!vl,analytics:!!FN});function GF(){if(!vl){const t=globalThis,e=typeof t.__FIREBASE_DIAG=="object"?t.__FIREBASE_DIAG:{value:t.__FIREBASE_DIAG};throw new Error("Firestore unavailable. Diagnostics: "+JSON.stringify(e))}return vl}const KF="http://localhost:8000/api",QF=()=>{const t=localStorage.getItem("authToken");return{"Content-Type":"application/json",...t&&{Authorization:`Token ${t}`}}};async function bi(t,e={}){try{const n=await fetch(`${KF}${t}`,{headers:QF(),...e});if(!n.ok)throw new Error(`API Error: ${n.status}`);return{data:await n.json(),success:!0}}catch(n){return console.error(`API call failed for ${t}:`,n),{data:null,success:!1,error:n instanceof Error?n.message:"Unknown error"}}}const U1={async getLeads(t={}){const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r&&e.append(n,String(r))}),await bi(`/leads/?${e.toString()}`)},async updateLeadStage(t,e,n=""){return await bi(`/leads/${t}/change-stage/`,{method:"POST",body:JSON.stringify({stage:e,notes:n})})},async getLeadEvents(t){return await bi(`/leads/${t}/events/`)},async createLead(t){return await bi("/leads/",{method:"POST",body:JSON.stringify(t)})},async createBooking(t){return await bi("/bookings/",{method:"POST",body:JSON.stringify(t)})},async updateBookingStatus(t,e){return await bi(`/bookings/${t}/status/`,{method:"PATCH",body:JSON.stringify({status:e})})}};class YF{constructor(){this.events=[],this.sessionId=this.generateSessionId(),this.startTime=Date.now(),this.conversionFunnel={page_view:0,hero_interaction:0,booking_modal_open:0,lead_capture_open:0,seat_selection:0,payment_initiated:0,booking_completed:0,lead_submitted:0},this.initializeTracking()}generateSessionId(){return`tas_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getUtmParameters(){const e=new URLSearchParams(window.location.search);return{utm_source:e.get("utm_source")||"",utm_medium:e.get("utm_medium")||"",utm_campaign:e.get("utm_campaign")||""}}initializeTracking(){this.track("page_view",{page_title:document.title,page_url:window.location.href,...this.getUtmParameters()});let e=0;const n=()=>{const r=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100);r>e&&(e=r,r>=25&&r%25===0&&this.track("scroll_depth",{depth_percent:r}))};window.addEventListener("scroll",n,{passive:!0}),[30,60,120,300].forEach(r=>{setTimeout(()=>{this.track("time_on_page_milestone",{seconds_spent:r})},r*1e3)}),document.addEventListener("visibilitychange",()=>{this.track("visibility_change",{hidden:document.hidden,time_spent:Date.now()-this.startTime})}),window.addEventListener("beforeunload",()=>{this.track("page_exit",{total_time_spent:Date.now()-this.startTime,final_scroll_depth:e}),this.flush()})}track(e,n={}){const r={event_type:e,page:window.location.pathname,timestamp:Date.now(),session_id:this.sessionId,properties:{...n,time_since_page_load:Date.now()-this.startTime},user_agent:navigator.userAgent,screen_resolution:`${window.screen.width}x${window.screen.height}`,viewport_size:`${window.innerWidth}x${window.innerHeight}`,referrer:document.referrer,...this.getUtmParameters()};this.events.push(r),e in this.conversionFunnel&&this.conversionFunnel[e]++;const s=["booking_completed","lead_submitted","payment_initiated"];(this.events.length>=10||s.includes(e))&&this.flush(),console.log("Analytics Event:",r)}trackInteraction(e,n,r={}){this.track("user_interaction",{element:e,action:n,...r})}trackBookingFlow(e,n={}){this.track("booking_flow",{step:e,funnel_position:e,...n})}trackLeadCapture(e,n={}){this.track("lead_capture_flow",{step:e,...n})}trackTripInterest(e,n,r){this.track("trip_interest",{trip_id:e,trip_name:n,action:r,interested_in:n})}trackConversion(e,n){this.track("conversion",{conversion_type:e,amount:n,conversion_value:n||0,funnel_completion:this.conversionFunnel})}trackError(e,n={}){this.track("error",{error_message:e,...n})}getConversionFunnel(){return{...this.conversionFunnel}}getSessionData(){return{session_id:this.sessionId,events_count:this.events.length,session_duration:Date.now()-this.startTime,conversion_funnel:this.conversionFunnel}}async flush(){if(this.events.length===0)return;const e=[...this.events];this.events=[];try{await fetch("/api/analytics/track/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:e,session_data:this.getSessionData()})})}catch(n){console.error("Analytics tracking failed:",n),this.events.unshift(...e)}}trackExperiment(e,n){this.track("ab_test",{experiment_name:e,variant:n,experiment_id:`${e}_${n}`})}trackClick(e,n,r){this.track("click_heatmap",{click_x:e,click_y:n,element:r,viewport_width:window.innerWidth,viewport_height:window.innerHeight})}trackHover(e,n){this.track("hover_data",{element:e,hover_duration:n})}}const Br=new YF,Ti=(t,e={})=>{Br.trackBookingFlow(t,e)},XF=(t,e={})=>{Br.trackLeadCapture(t,e)},B1=(t,e)=>{Br.trackConversion(t,e)},JF=({className:t=""})=>{const e=S.useRef(null),{scrollYProgress:n}=Bg({target:e,offset:["start end","end start"]}),r={stiffness:100,damping:30,restDelta:.001},s=Ic(wn(n,[0,1],[0,-50]),r),i=Ic(wn(n,[0,1],[0,-100]),r),o=Ic(wn(n,[0,1],[0,-150]),r),l=Ic(wn(n,[0,.5,1],[1,.8,.3]),r);return a.jsxs("div",{ref:e,className:`absolute inset-0 overflow-hidden ${t}`,children:[a.jsx(M.div,{className:"absolute inset-0",animate:{background:["linear-gradient(135deg, rgba(5, 150, 105, 0.4) 0%, rgba(8, 145, 178, 0.4) 50%, rgba(168, 85, 247, 0.4) 100%)","linear-gradient(225deg, rgba(168, 85, 247, 0.4) 0%, rgba(5, 150, 105, 0.4) 50%, rgba(8, 145, 178, 0.4) 100%)","linear-gradient(315deg, rgba(8, 145, 178, 0.4) 0%, rgba(168, 85, 247, 0.4) 50%, rgba(5, 150, 105, 0.4) 100%)","linear-gradient(135deg, rgba(5, 150, 105, 0.4) 0%, rgba(8, 145, 178, 0.4) 50%, rgba(168, 85, 247, 0.4) 100%)"]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{opacity:l}}),a.jsx(M.div,{className:"absolute bottom-0 left-0 w-full h-64 opacity-20",style:{y:o},children:a.jsx("div",{className:"flex items-end justify-center h-full",children:[...Array(5)].map((c,d)=>a.jsx(M.div,{className:"bg-gradient-to-t from-emerald-600 to-emerald-400",style:{width:`${120+d*40}px`,height:`${100+d*20}px`,clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",marginLeft:d>0?"-20px":"0"},animate:{scale:[1,1.02,1],opacity:[.2,.3,.2]},transition:{duration:8+d*2,repeat:1/0,ease:"easeInOut",delay:d*.5}},d))})}),a.jsx(M.div,{className:"absolute bottom-0 left-0 w-full h-48 opacity-30",style:{y:i},children:a.jsx("div",{className:"flex items-end justify-center h-full",children:[...Array(4)].map((c,d)=>a.jsx(M.div,{className:"bg-gradient-to-t from-teal-600 to-teal-400",style:{width:`${100+d*35}px`,height:`${80+d*15}px`,clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",marginLeft:d>0?"-15px":"0"},animate:{scale:[1,1.01,1],opacity:[.3,.4,.3]},transition:{duration:6+d*1.5,repeat:1/0,ease:"easeInOut",delay:d*.3}},d))})}),a.jsx(M.div,{className:"absolute bottom-0 left-0 w-full h-32 opacity-40",style:{y:s},children:a.jsx("div",{className:"flex items-end justify-center h-full",children:[...Array(3)].map((c,d)=>a.jsx(M.div,{className:"bg-gradient-to-t from-cyan-600 to-cyan-400",style:{width:`${80+d*30}px`,height:`${60+d*10}px`,clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",marginLeft:d>0?"-10px":"0"},animate:{scale:[1,1.005,1],opacity:[.4,.5,.4]},transition:{duration:4+d,repeat:1/0,ease:"easeInOut",delay:d*.2}},d))})}),a.jsx(M.div,{className:"absolute top-1/4 left-10 opacity-20",animate:{y:[-20,20,-20],rotate:[0,5,-5,0],scale:[1,1.1,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:a.jsx(ln,{className:"w-16 h-16 text-emerald-300"})}),a.jsx(M.div,{className:"absolute top-1/3 right-16 opacity-15",animate:{y:[20,-20,20],rotate:[0,-3,3,0],scale:[1,.9,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},children:a.jsx(tS,{className:"w-20 h-20 text-teal-300"})}),a.jsx(M.div,{className:"absolute top-1/2 left-1/3 opacity-10",animate:{y:[-10,10,-10],x:[-5,5,-5],scale:[1,1.2,1]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:4},children:a.jsx(zu,{className:"w-12 h-12 text-cyan-300"})}),a.jsx("div",{className:"absolute inset-0",children:[...Array(15)].map((c,d)=>a.jsx(M.div,{className:"absolute w-2 h-2 bg-emerald-300 rounded-full opacity-20",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[-50,50,-50],opacity:[.2,.5,.2],scale:[.5,1,.5]},transition:{duration:15+Math.random()*10,repeat:1/0,ease:"easeInOut",delay:Math.random()*5}},d))})]})},$1=({onTripSelect:t,className:e=""})=>{const[n,r]=S.useState(!1),[s,i]=S.useState("map"),[o,l]=S.useState({difficulty:3,groupSize:4,season:"monsoon",region:"maharashtra"}),c=[{id:"maharashtra",name:"Maharashtra",icon:ln,color:"emerald",trips:12},{id:"goa",name:"Goa",icon:M3,color:"blue",trips:8},{id:"karnataka",name:"Karnataka",icon:tS,color:"green",trips:15},{id:"rajasthan",name:"Rajasthan",icon:p3,color:"orange",trips:6}],d=[{id:"monsoon",name:"Monsoon",months:"Jun-Sep",icon:"",color:"blue"},{id:"winter",name:"Winter",months:"Oct-Feb",icon:"",color:"cyan"},{id:"summer",name:"Summer",months:"Mar-May",icon:"",color:"yellow"}],h=[{level:1,label:"Easy",description:"Beginner friendly",color:"green"},{level:2,label:"Moderate",description:"Some experience needed",color:"yellow"},{level:3,label:"Challenging",description:"Good fitness required",color:"orange"},{level:4,label:"Expert",description:"Advanced trekkers only",color:"red"},{level:5,label:"Extreme",description:"Professional level",color:"purple"}],f=g=>{const _=o.groupSize>4?.1:0,x=o.season==="monsoon"?1.2:1;return Math.round(g*(1-_)*x)},m=[{id:1,name:"Waterfall Rappelling Adventure",basePrice:8500,difficulty:3,region:"maharashtra",season:["monsoon"],rating:4.8,image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=400&h=300&fit=crop"},{id:2,name:"Fort Exploration Trek",basePrice:6500,difficulty:2,region:"maharashtra",season:["winter","summer"],rating:4.6,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop"}].filter(g=>g.difficulty<=o.difficulty&&g.region===o.region&&g.season.includes(o.season));return a.jsxs("div",{children:[a.jsx(M.button,{onClick:()=>r(!0),className:`bg-gradient-to-r from-emerald-500 to-teal-500 text-white p-3 rounded-full shadow-lg hover:shadow-emerald-500/25 ${e}`,whileHover:{scale:1.1},whileTap:{scale:.9},animate:{boxShadow:["0 0 0 0 rgba(16, 185, 129, 0.7)","0 0 0 8px rgba(16, 185, 129, 0)","0 0 0 0 rgba(16, 185, 129, 0)"]},transition:{duration:2,repeat:1/0},children:a.jsx(Nn,{className:"w-5 h-5"})}),a.jsx(Ae,{children:n&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl z-10",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:" Discover Your Perfect Trek"}),a.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(rS,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex space-x-1 mt-4 bg-gray-100 rounded-lg p-1",children:[{id:"map",label:"Regions",icon:Nn},{id:"difficulty",label:"Difficulty",icon:ln},{id:"season",label:"Season",icon:qn},{id:"group",label:"Group Size",icon:Ao}].map(g=>a.jsxs("button",{onClick:()=>i(g.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md transition-all duration-200 ${s===g.id?"bg-white text-emerald-600 shadow-sm":"text-gray-600 hover:text-emerald-600"}`,children:[a.jsx(g.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:g.label})]},g.id))})]}),a.jsxs("div",{className:"p-6",children:[s==="map"&&a.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select Your Adventure Region"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:c.map(g=>{const _=g.icon;return a.jsx(M.button,{onClick:()=>l({...o,region:g.id}),className:`p-6 rounded-xl border-2 transition-all duration-200 text-left ${o.region===g.id?`border-${g.color}-500 bg-${g.color}-50`:"border-gray-200 hover:border-gray-300"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-${g.color}-100`,children:a.jsx(_,{className:`w-6 h-6 text-${g.color}-600`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-semibold text-gray-800",children:g.name}),a.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[g.trips," adventures available"]}),a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[[...Array(5)].map((x,N)=>a.jsx(Ht,{className:"w-3 h-3 text-yellow-400 fill-current"},N)),a.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"4.8 avg rating"})]})]})]})},g.id)})})]}),s==="difficulty"&&a.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Choose Your Challenge Level"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ln,{className:"w-5 h-5 text-emerald-600"}),a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"range",min:"1",max:"5",value:o.difficulty,onChange:g=>l({...o,difficulty:parseInt(g.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${(o.difficulty-1)*25}%, #e5e7eb ${(o.difficulty-1)*25}%, #e5e7eb 100%)`}})}),a.jsxs("span",{className:"text-sm font-medium text-gray-600 w-12",children:["Level ",o.difficulty]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:h.map(g=>a.jsxs(M.div,{className:`p-4 rounded-lg border text-center transition-all duration-200 ${o.difficulty>=g.level?`border-${g.color}-500 bg-${g.color}-50`:"border-gray-200 bg-gray-50"}`,animate:{scale:o.difficulty>=g.level?1.05:1},children:[a.jsx("div",{className:"font-semibold text-sm",children:g.label}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:g.description})]},g.level))})]})]}),s==="season"&&a.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Best Time to Adventure"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:d.map(g=>a.jsxs(M.button,{onClick:()=>l({...o,season:g.id}),className:`p-6 rounded-xl border-2 transition-all duration-200 ${o.season===g.id?`border-${g.color}-500 bg-${g.color}-50`:"border-gray-200 hover:border-gray-300"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx("div",{className:"text-3xl mb-2",children:g.icon}),a.jsx("h5",{className:"font-semibold text-gray-800",children:g.name}),a.jsx("p",{className:"text-gray-600 text-sm",children:g.months})]},g.id))})]}),s==="group"&&a.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(m3,{className:"w-5 h-5 text-emerald-600"}),a.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Group Size & Pricing"})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-gray-700",children:"Group Size:"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>l({...o,groupSize:Math.max(1,o.groupSize-1)}),className:"w-8 h-8 rounded-full bg-emerald-200 flex items-center justify-center hover:bg-emerald-300 transition-colors",children:"-"}),a.jsx("span",{className:"text-xl font-bold text-emerald-600 w-12 text-center",children:o.groupSize}),a.jsx("button",{onClick:()=>l({...o,groupSize:Math.min(20,o.groupSize+1)}),className:"w-8 h-8 rounded-full bg-emerald-200 flex items-center justify-center hover:bg-emerald-300 transition-colors",children:"+"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Base Price (per person):"}),a.jsx("span",{children:"8,500"})]}),o.groupSize>4&&a.jsxs("div",{className:"flex justify-between text-sm text-emerald-600",children:[a.jsx("span",{children:"Group Discount (10%):"}),a.jsx("span",{children:"-850"})]}),o.season==="monsoon"&&a.jsxs("div",{className:"flex justify-between text-sm text-blue-600",children:[a.jsx("span",{children:"Peak Season (+20%):"}),a.jsx("span",{children:"+1,700"})]}),a.jsx("hr",{className:"my-2"}),a.jsxs("div",{className:"flex justify-between font-semibold",children:[a.jsx("span",{children:"Total per person:"}),a.jsxs("span",{className:"text-emerald-600",children:["",f(8500).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsxs("span",{children:["Total for ",o.groupSize," people:"]}),a.jsxs("span",{className:"text-emerald-600",children:["",(f(8500)*o.groupSize).toLocaleString()]})]})]})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Perfect Matches (",m.length,")"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:m.map(g=>a.jsx(M.div,{className:"bg-gray-50 rounded-xl p-4 hover:bg-gray-100 transition-colors cursor-pointer",whileHover:{scale:1.02},onClick:()=>{t==null||t(g),r(!1)},children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("img",{src:g.image,alt:g.name,className:"w-20 h-20 rounded-lg object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-semibold text-gray-800",children:g.name}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Ht,{className:"w-3 h-3 text-yellow-400 fill-current"}),a.jsx("span",{className:"text-sm text-gray-600",children:g.rating})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:["",f(g.basePrice).toLocaleString()]}),a.jsx(jt,{className:"w-4 h-4 text-gray-400"})]})]})]})},g.id))})]})]})]})})}),a.jsx("style",{children:`
        input[type="range"]::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #10b981;
          cursor: pointer;
        }
        input[type="range"]::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #10b981;
          cursor: pointer;
          border: none;
        }
      `})]})},ZF=({tripData:t,onActionClick:e,className:n=""})=>{const[r,s]=S.useState(!1),[i,o]=S.useState(null),[l,c]=S.useState([]),[d,h]=S.useState(!1),f=[{id:"whatsapp",icon:ei,label:"WhatsApp Inquiry",action:"whatsapp",color:"green",delay:.1,position:{bottom:"140px",right:"20px"}},{id:"call",icon:ns,label:"Quick Call",action:"call",color:"blue",delay:.2,position:{bottom:"120px",right:"80px"}},{id:"wishlist",icon:ts,label:"Add to Wishlist",action:"wishlist",color:"red",delay:.3,position:{bottom:"200px",right:"60px"}},{id:"share",icon:Pl,label:"Share Adventure",action:"share",color:"purple",delay:.4,position:{bottom:"180px",right:"120px"}},{id:"photos",icon:$g,label:"View Gallery",action:"gallery",color:"indigo",delay:.5,position:{bottom:"240px",right:"40px"}}],m=g=>{switch(c(_=>[..._,g.id].slice(-3)),l.length>=2&&(h(!0),setTimeout(()=>h(!1),2e3)),g.action){case"whatsapp":{const _=`Hi! I'm interested in ${(t==null?void 0:t.name)||"your adventure trips"}. Can you share more details?`;window.open(`https://wa.me/919902937730?text=${encodeURIComponent(_)}`,"_blank");break}case"call":window.open("tel:+919902937730","_self");break;case"wishlist":break;case"share":{navigator.share?navigator.share({title:(t==null?void 0:t.name)||"Amazing Adventure",text:"Check out this amazing adventure!",url:window.location.href}):navigator.clipboard.writeText(window.location.href);break}}e==null||e(g.action,{bubble:g,tripData:t})};return S.useEffect(()=>{const g=setTimeout(()=>{s(!0),setTimeout(()=>s(!1),3e3)},5e3);return()=>clearTimeout(g)},[]),a.jsxs("div",{className:`relative ${n}`,children:[a.jsx(Ae,{children:d&&a.jsxs(M.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"absolute -top-16 -left-8 pointer-events-none",children:[a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-4 py-2 rounded-full font-bold text-sm shadow-lg",children:" Engagement Streak!"}),[...Array(8)].map((g,_)=>a.jsx(M.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",initial:{x:0,y:0,opacity:1},animate:{x:Math.random()*100-50,y:-Math.random()*50-20,opacity:0},transition:{duration:1}},_))]})}),a.jsx(Ae,{children:f.map(g=>{const _=g.icon;return r||i===g.id?a.jsx(M.div,{initial:{opacity:0,scale:0,x:50,y:50},animate:{opacity:1,scale:1,x:0,y:0,rotate:[0,5,-5,0]},exit:{opacity:0,scale:0,x:50,y:50},transition:{delay:g.delay,duration:.3,type:"spring",stiffness:300,damping:20},className:"absolute",style:{bottom:g.position.bottom,right:g.position.right},children:a.jsxs("div",{className:"relative group",children:[a.jsxs(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"absolute right-full top-1/2 -translate-y-1/2 mr-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:[a.jsx("div",{className:"bg-black/80 text-white px-3 py-1 rounded-lg text-sm whitespace-nowrap",children:g.label}),a.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 border-4 border-transparent border-l-black/80"})]}),a.jsx(M.button,{onClick:()=>m(g),className:`w-12 h-12 bg-gradient-to-r from-${g.color}-500 to-${g.color}-600 text-white rounded-full shadow-lg flex items-center justify-center hover:shadow-${g.color}-500/25 transition-all duration-200`,whileHover:{scale:1.1,rotate:10,boxShadow:"0 0 20px rgba(0,0,0,0.3)"},whileTap:{scale:.9},animate:{y:[0,-5,0],boxShadow:["0 4px 20px rgba(0,0,0,0.1)","0 8px 25px rgba(0,0,0,0.15)","0 4px 20px rgba(0,0,0,0.1)"]},transition:{y:{duration:3,repeat:1/0,ease:"easeInOut"},boxShadow:{duration:2,repeat:1/0,ease:"easeInOut"}},children:a.jsx(_,{className:"w-5 h-5"})}),l.includes(g.id)&&a.jsx(M.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center",children:a.jsx(P3,{className:"w-2 h-2 text-white"})})]})},g.id):null})}),a.jsxs(M.button,{onClick:()=>s(!r),className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-full shadow-2xl flex items-center justify-center relative overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},animate:{rotate:r?45:0,boxShadow:["0 0 0 0 rgba(16, 185, 129, 0.7)","0 0 0 10px rgba(16, 185, 129, 0)","0 0 0 20px rgba(16, 185, 129, 0)"]},transition:{boxShadow:{duration:2,repeat:1/0}},children:[a.jsx(M.div,{className:"absolute inset-0 bg-gradient-to-r from-teal-400 to-emerald-400",animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"}}),a.jsx("div",{className:"relative z-10",children:r?a.jsx(M.div,{initial:{rotate:0},animate:{rotate:45},transition:{type:"spring",stiffness:300,damping:20},children:a.jsx(Ts,{className:"w-6 h-6"})}):a.jsx(M.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:a.jsx(ZT,{className:"w-6 h-6"})})}),l.length>0&&a.jsx(M.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:l.length})]}),l.length>0&&a.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute -top-12 left-0 right-0 text-center",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1 text-xs font-medium text-gray-700 shadow-lg",children:[" Engagement: ",l.length,"/3"]})}),a.jsx(Ae,{children:!r&&l.length===0&&a.jsx(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute -left-20 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg",children:"Tap to explore! "})})})]})},e8=({location:t="Maharashtra",compact:e=!1,className:n=""})=>{const[r,s]=S.useState(null),[i,o]=S.useState(!1),[l,c]=S.useState(!0);S.useEffect(()=>{const m=async()=>{c(!0),await new Promise(x=>setTimeout(x,1500));const _={location:t,temperature:24,condition:"partly-cloudy",humidity:68,windSpeed:12,visibility:8.5,pressure:1012,forecast:[{day:"Today",high:26,low:18,condition:"partly-cloudy",rainChance:20},{day:"Tomorrow",high:28,low:20,condition:"sunny",rainChance:5},{day:"Day 3",high:25,low:19,condition:"rainy",rainChance:85},{day:"Day 4",high:23,low:17,condition:"cloudy",rainChance:45},{day:"Day 5",high:27,low:21,condition:"sunny",rainChance:10}],trekingCondition:{status:"good",recommendation:"Great weather for trekking! Pack light rain gear just in case.",factors:["Comfortable temperature","Low rain chance","Good visibility"]},lastUpdated:new Date().toLocaleTimeString()};s(_),c(!1)};m();const g=setInterval(m,5*60*1e3);return()=>clearInterval(g)},[t]);const d=(m,g="w-6 h-6")=>{const _=`${g} transition-all duration-300`;switch(m){case"sunny":return a.jsx(nw,{className:`${_} text-yellow-500`});case"partly-cloudy":return a.jsx(zu,{className:`${_} text-blue-400`});case"cloudy":return a.jsx(zu,{className:`${_} text-gray-500`});case"rainy":return a.jsx(ul,{className:`${_} text-blue-600`});case"snowy":return a.jsx(w3,{className:`${_} text-blue-200`});default:return a.jsx(nw,{className:`${_} text-yellow-500`})}},h=m=>{switch(m){case"sunny":return{animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"}};case"rainy":return{animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}};case"cloudy":case"partly-cloudy":return{animate:{x:[-2,2,-2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}};default:return{}}},f=m=>{switch(m){case"excellent":return"text-green-600 bg-green-100";case"good":return"text-emerald-600 bg-emerald-100";case"moderate":return"text-yellow-600 bg-yellow-100";case"poor":return"text-orange-600 bg-orange-100";case"dangerous":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return l?a.jsx(M.div,{className:`bg-white/20 backdrop-blur-md rounded-xl p-4 border border-white/30 ${n}`,animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-white/30 rounded-full animate-spin"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-white/30 rounded mb-2"}),a.jsx("div",{className:"h-3 bg-white/20 rounded w-3/4"})]})]})}):r?e?a.jsx(M.button,{onClick:()=>o(!0),className:`bg-white/10 backdrop-blur-md rounded-lg p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 ${n}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(M.div,{...h(r.condition),children:d(r.condition,"w-5 h-5")}),a.jsxs("span",{className:"text-white font-medium",children:[r.temperature,"C"]}),a.jsx(Nn,{className:"w-3 h-3 text-white/70"})]})}):a.jsxs(a.Fragment,{children:[a.jsxs(M.div,{className:`bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20 ${n}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4 text-emerald-400"}),a.jsx("h3",{className:"text-white font-semibold",children:r.location})]}),a.jsx("button",{onClick:()=>o(!0),className:"text-white/70 hover:text-white transition-colors",children:a.jsx(Od,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(M.div,{className:"flex-shrink-0",...h(r.condition),children:d(r.condition,"w-12 h-12")}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[r.temperature,"C"]}),a.jsx("div",{className:"text-white/80 capitalize",children:r.condition.replace("-"," ")})]}),a.jsxs("div",{className:"text-right text-sm text-white/70",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(T3,{className:"w-3 h-3"}),a.jsxs("span",{children:[r.humidity,"%"]})]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(rw,{className:"w-3 h-3"}),a.jsxs("span",{children:[r.windSpeed," km/h"]})]})]})]}),a.jsxs("div",{className:`rounded-lg p-3 mb-4 ${f(r.trekingCondition.status)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(zg,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-semibold capitalize",children:["Trek Condition: ",r.trekingCondition.status]})]}),a.jsx("p",{className:"text-sm opacity-90",children:r.trekingCondition.recommendation})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm",children:[a.jsx(qn,{className:"w-3 h-3"}),a.jsx("span",{children:"5-Day Outlook"})]}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:r.forecast.map((m,g)=>a.jsxs(M.div,{className:"bg-white/10 rounded-lg p-2 text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:g*.1},children:[a.jsx("div",{className:"text-xs text-white/70 mb-1",children:m.day}),a.jsx(M.div,{className:"mb-2",...h(m.condition),children:d(m.condition,"w-4 h-4 mx-auto")}),a.jsxs("div",{className:"text-xs text-white font-medium",children:[m.high,""]}),a.jsxs("div",{className:"text-xs text-white/60",children:[m.low,""]}),m.rainChance>30&&a.jsxs("div",{className:"text-xs text-blue-300 mt-1",children:[m.rainChance,"%"]})]},m.day))})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/50 mt-4",children:[a.jsx(bs,{className:"w-3 h-3"}),a.jsxs("span",{children:["Updated: ",r.lastUpdated]})]})]}),a.jsx(Ae,{children:i&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Weather Details"}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx($m,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-semibold",children:"Temperature"})]}),a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.temperature,"C"]})]}),a.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Hg,{className:"w-5 h-5 text-cyan-600"}),a.jsx("span",{className:"font-semibold",children:"Visibility"})]}),a.jsxs("div",{className:"text-2xl font-bold text-cyan-600",children:[r.visibility," km"]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(rw,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-semibold",children:"Pressure"})]}),a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.pressure," hPa"]})]})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-emerald-800 mb-3",children:"Trekking Recommendations"}),a.jsx("div",{className:"space-y-2",children:r.trekingCondition.factors.map((m,g)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),a.jsx("span",{className:"text-emerald-700",children:m})]},g))})]})]})})})})]}):null},z1=({primaryText:t=" Book Your Adventure Now",secondaryText:e=" Limited Time Special Offer - Seats Filling Fast!",onClick:n,disabled:r=!1,variant:s="primary",size:i="lg",showCountdown:o=!0,className:l=""})=>{const[c,d]=S.useState(!1),[h,f]=S.useState(0),[m,g]=S.useState(!1),[_,x]=S.useState(15*60),N=i3();S.useEffect(()=>{if(!o)return;const k=setInterval(()=>{x(T=>T<=1?(clearInterval(k),0):T-1)},1e3);return()=>clearInterval(k)},[o]),S.useEffect(()=>{const k=setInterval(()=>{!c&&h<3&&N.start({scale:[1,1.05,1],boxShadow:["0 0 0 0 rgba(16, 185, 129, 0.7)","0 0 0 15px rgba(16, 185, 129, 0)","0 0 0 0 rgba(16, 185, 129, 0)"]})},8e3);return()=>clearInterval(k)},[c,h,N]);const w=()=>{f(k=>k+1),h>=2&&(g(!0),setTimeout(()=>g(!1),2e3)),N.start({scale:[1,.95,1.05,1],rotate:[0,-2,2,0]}),n==null||n()},v=k=>{const T=Math.floor(k/60),I=k%60;return`${T}:${I.toString().padStart(2,"0")}`},b=()=>{switch(s){case"primary":return"from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600";case"secondary":return"from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600";case"premium":return"from-yellow-400 via-orange-500 to-red-500 hover:from-yellow-500 hover:via-orange-600 hover:to-red-600 shadow-lg hover:shadow-xl transition-all duration-300";case"urgency":return"from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600";default:return"from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600"}},D=()=>{switch(i){case"sm":return"px-6 py-3 text-sm";case"md":return"px-8 py-4 text-base";case"lg":return"px-10 py-5 text-lg";case"xl":return"px-12 py-6 text-xl";default:return"px-10 py-5 text-lg"}},O=h>=5?po:h>=3?JT:s==="premium"?eS:s==="urgency"?Ts:jt;return a.jsxs("div",{className:`relative inline-block ${l}`,children:[a.jsx(Ae,{children:m&&a.jsxs(M.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"absolute inset-0 pointer-events-none",children:[[...Array(12)].map((k,T)=>a.jsx(M.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",style:{left:"50%",top:"50%"},initial:{x:0,y:0,opacity:1},animate:{x:Math.cos(T*30*Math.PI/180)*100,y:Math.sin(T*30*Math.PI/180)*100,opacity:0},transition:{duration:1.5,ease:"easeOut"}},T)),a.jsx(M.div,{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full opacity-30",initial:{scale:0},animate:{scale:3},exit:{scale:0},transition:{duration:.6}})]})}),o&&_>0&&a.jsxs(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"absolute -top-3 -right-3 bg-gradient-to-r from-red-500 to-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full z-10 flex items-center gap-1 shadow-lg",children:[" ",v(_)]}),h>=3&&a.jsxs(M.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"absolute -top-3 -left-3 bg-yellow-500 text-white text-xs font-bold px-2 py-1 rounded-full z-10 flex items-center gap-1",children:[a.jsx(po,{className:"w-3 h-3"}),"VIP"]}),a.jsxs(M.button,{onClick:w,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),disabled:r,animate:N,className:`
          relative overflow-hidden font-bold text-white rounded-full shadow-2xl transition-all duration-300 
          bg-gradient-to-r ${b()} ${D()}
          hover:shadow-emerald-500/25 disabled:opacity-50 disabled:cursor-not-allowed
          transform-gpu
        `,whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[a.jsx(M.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent",animate:{x:c?["0%","100%"]:"0%",opacity:c?[0,1,0]:0},transition:{duration:c?.8:0,ease:"easeInOut"}}),a.jsx(Ae,{children:c&&a.jsx(a.Fragment,{children:[...Array(6)].map((k,T)=>a.jsx(M.div,{className:"absolute",style:{left:`${20+T*15}%`,top:`${20+T%2*40}%`},initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1,0],rotate:[0,180]},exit:{opacity:0},transition:{duration:1.5,delay:T*.1,repeat:1/0,repeatDelay:1},children:a.jsx(Hu,{className:"w-3 h-3 text-white"})},T))})}),a.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[a.jsx(M.div,{animate:{rotate:c?[0,360]:0,scale:h>=3?[1,1.2,1]:1},transition:{rotate:{duration:.6},scale:{duration:1,repeat:1/0}},children:a.jsx(O,{className:`${i==="xl"?"w-7 h-7":i==="lg"?"w-6 h-6":"w-5 h-5"}`})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx(M.span,{animate:{y:c?-2:0},className:"leading-tight",children:t}),e&&a.jsx(M.span,{initial:{opacity:0,y:10},animate:{opacity:c?1:.7,y:c?0:5},className:`${i==="xl"?"text-sm":"text-xs"} text-white/90 leading-tight`,children:e})]}),h>0&&a.jsx(M.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"flex items-center gap-1",children:[...Array(Math.min(h,5))].map((k,T)=>a.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:T*.1},children:a.jsx(ts,{className:"w-3 h-3 text-red-200 fill-current"})},T))})]}),a.jsx(M.div,{className:"absolute inset-0 rounded-full",animate:{boxShadow:["0 0 0 0 rgba(16, 185, 129, 0.4)","0 0 0 8px rgba(16, 185, 129, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeOut"}})]}),a.jsxs(Ae,{children:[h===1&&a.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-emerald-500 text-white px-3 py-1 rounded-lg text-sm whitespace-nowrap",children:" Great choice! Click again to continue"}),h===3&&a.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-purple-500 text-white px-3 py-1 rounded-lg text-sm whitespace-nowrap",children:" You're on fire! VIP status unlocked!"})]})]})},H1=[{id:"first_steps",name:"First Steps",description:"Welcome to your adventure journey!",icon:ln,points:50,unlocked:!1,category:"explorer",rarity:"common",requirement:{type:"points",value:10}},{id:"weather_watcher",name:"Weather Watcher",description:"Checked weather conditions",icon:zu,points:25,unlocked:!1,category:"explorer",rarity:"common",requirement:{type:"actions",value:1,actions:["weather_check"]}},{id:"trip_explorer",name:"Trip Explorer",description:"Discovered new adventures",icon:zg,points:75,unlocked:!1,category:"explorer",rarity:"rare",requirement:{type:"actions",value:3,actions:["trip_view","itinerary_view"]}},{id:"social_butterfly",name:"Social Butterfly",description:"Shared adventures with friends",icon:Pl,points:100,unlocked:!1,category:"social",rarity:"rare",requirement:{type:"actions",value:2,actions:["share","whatsapp"]}},{id:"booking_champion",name:"Booking Champion",description:"Made your first booking!",icon:Gn,points:200,unlocked:!1,category:"adventurer",rarity:"epic",requirement:{type:"actions",value:1,actions:["booking_completed"]}},{id:"engagement_master",name:"Engagement Master",description:"Highly engaged user",icon:Ts,points:150,unlocked:!1,category:"loyal",rarity:"epic",requirement:{type:"points",value:500}},{id:"adventure_legend",name:"Adventure Legend",description:"Ultimate adventure enthusiast",icon:po,points:500,unlocked:!1,category:"champion",rarity:"legendary",requirement:{type:"points",value:1e3}}],t8={page_load:5,hero_cta_click:15,scroll_milestone:10,weather_check:20,trip_discovery:25,itinerary_view:30,gallery_view:25,highlights_read:20,share:50,whatsapp:40,call_action:35,wishlist_add:30,booking_start:75,seat_selection:50,booking_completed:200,lead_capture:100,floating_action:15,widget_interaction:20,animation_trigger:10,achievement_celebrated:25,session_time:5,session_5min:25,session_10min:50,return_visitor:40,button_click:10,modal_open:15,form_interaction:20,cta_interaction:25},n8=({onPointsEarned:t,onAchievementUnlocked:e,onLevelUp:n,className:r=""})=>{const[s,i]=S.useState({totalPoints:0,level:1,achievements:H1,pointsHistory:[],streakCount:0,lastActivity:Date.now(),badges:[],challengesCompleted:0}),[o,l]=S.useState(!1),[c,d]=S.useState(null),[h,f]=S.useState(null),[m,g]=S.useState(!1);S.useEffect(()=>{const P=localStorage.getItem("adventure_progress");if(P)try{const O=JSON.parse(P);i(k=>({...k,...O,achievements:H1.map(T=>{var C;const I=(C=O.achievements)==null?void 0:C.find(A=>A.id===T.id);return I?{...T,...I}:T})}))}catch(O){console.error("Error loading progress:",O)}},[]);const _=S.useCallback(P=>{try{localStorage.setItem("adventure_progress",JSON.stringify(P))}catch(O){console.error("Error saving progress:",O)}},[]),x=P=>Math.floor(P/100)+1,N=S.useCallback(P=>{const O=P.achievements.map(k=>{if(k.unlocked)return k;const{requirement:T}=k;let I=!1;switch(T.type){case"points":I=P.totalPoints>=T.value;break;case"actions":T.actions&&(I=P.pointsHistory.filter(A=>T.actions.includes(A.action)).length>=T.value);break;case"time":break;case"social":{I=P.pointsHistory.filter(A=>A.category==="social").length>=T.value;break}}if(I){const C={...k,unlocked:!0,unlockedAt:Date.now()};return setTimeout(()=>{f(C),e==null||e(C)},500),C}return k});return{...P,achievements:O}},[e]),w=S.useCallback((P,O)=>{const k=O||t8[P]||10,T=Date.now(),I={id:`${P}_${T}`,action:P,points:k,timestamp:T,category:v(P),description:b(P)};i(C=>{const A=C.totalPoints+k,R=x(A),j=C.level;let Z={...C,totalPoints:A,level:R,pointsHistory:[...C.pointsHistory,I],lastActivity:T};return R>j&&setTimeout(()=>n==null?void 0:n(R),300),Z=N(Z),_(Z),Z}),d({points:k,action:P}),l(!0),t==null||t(k,P),setTimeout(()=>{l(!1),d(null)},2e3)},[N,_,t,n]),v=P=>P.includes("share")||P.includes("whatsapp")?"social":P.includes("booking")?"booking":P.includes("discovery")||P.includes("explore")?"exploration":"engagement",b=P=>({page_load:"Visited the page",hero_cta_click:"Clicked main CTA",weather_check:"Checked weather conditions",trip_discovery:"Explored trip options",share:"Shared adventure",booking_completed:"Completed booking"})[P]||"Performed action",D=P=>{switch(P){case"common":return"text-gray-600 bg-gray-100";case"rare":return"text-blue-600 bg-blue-100";case"epic":return"text-purple-600 bg-purple-100";case"legendary":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return S.useEffect(()=>(window.awardAdventurePoints=w,()=>{delete window.awardAdventurePoints}),[w]),S.useEffect(()=>{const P=setTimeout(()=>{w("page_load",5)},1e3);let O=0;const k=()=>{const I=window.scrollY,C=window.innerHeight,A=document.documentElement.scrollHeight,R=I/(A-C)*100;R>25&&O<=25?w("scroll_milestone",10):R>50&&O<=50?w("scroll_milestone",15):R>75&&O<=75&&w("scroll_milestone",20),O=R},T=setInterval(()=>{w("session_time",5)},3e4);return window.addEventListener("scroll",k),()=>{clearTimeout(P),clearInterval(T),window.removeEventListener("scroll",k)}},[w]),S.useEffect(()=>{s.totalPoints>20&&g(!0)},[s.totalPoints]),!m&&s.totalPoints<=20?null:a.jsxs("div",{className:`${r}`,children:[a.jsx(Ae,{children:o&&c&&a.jsx(M.div,{initial:{opacity:0,y:0,scale:.5},animate:{opacity:1,y:-50,scale:1},exit:{opacity:0,y:-100,scale:.5},className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 pointer-events-none",children:a.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-2",children:[a.jsx(Ht,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-bold",children:["+",c.points," Points!"]}),a.jsx(Ts,{className:"w-5 h-5"})]})})}),a.jsx(Ae,{children:h&&a.jsx(M.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{y:50,rotateY:90},animate:{y:0,rotateY:0},className:"bg-white rounded-2xl p-8 max-w-md w-full text-center relative overflow-hidden",children:[[...Array(20)].map((P,O)=>a.jsx(M.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",style:{left:"50%",top:"50%"},initial:{x:0,y:0,opacity:1},animate:{x:Math.cos(O*18*Math.PI/180)*150,y:Math.sin(O*18*Math.PI/180)*150,opacity:0},transition:{duration:2,ease:"easeOut"}},O)),a.jsx(M.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:2},className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(h.icon,{className:"w-10 h-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Achievement Unlocked!"}),a.jsx("h4",{className:"text-xl font-semibold text-emerald-600 mb-2",children:h.name}),a.jsx("p",{className:"text-gray-600 mb-4",children:h.description}),a.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${D(h.rarity)} mb-4`,children:h.rarity.toUpperCase()}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600",children:[a.jsx(Ht,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-bold",children:["+",h.points," Points"]})]}),a.jsx("button",{onClick:()=>{f(null),w("achievement_celebrated",25)},className:"mt-6 bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-6 py-2 rounded-full font-medium hover:shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",children:"Awesome! "})]})})}),a.jsxs(M.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},className:"fixed top-36 right-4 z-40 bg-white/90 backdrop-blur-md rounded-xl p-4 shadow-lg border border-white/20 max-w-xs cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>{w("widget_interaction",15),g(!0)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center",children:a.jsx(Gn,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-bold text-gray-800",children:["Level ",s.level]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[s.totalPoints," points"]})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[a.jsxs("span",{children:["Level ",s.level]}),a.jsxs("span",{children:["Level ",s.level+1]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx(M.div,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 h-2 rounded-full",style:{width:`${s.totalPoints%100/100*100}%`},initial:{width:0},animate:{width:`${s.totalPoints%100/100*100}%`},transition:{duration:.5}})})]}),a.jsx("div",{className:"flex gap-1",children:s.achievements.filter(P=>P.unlocked).slice(-3).map(P=>a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs ${D(P.rarity)}`,title:P.name,children:a.jsx(P.icon,{className:"w-3 h-3"})},P.id))})]})]})},r8=()=>({awardPoints:(t,e)=>{window.awardAdventurePoints&&window.awardAdventurePoints(t,e)}}),s8=[{id:"first_explorer",name:"First Explorer",description:"Started your adventure journey",longDescription:"Welcome to the world of adventures! This badge marks the beginning of your exploration journey.",icon:ln,bgGradient:"from-emerald-400 to-emerald-600",iconColor:"text-white",rarity:"bronze",category:"explorer",points:25,unlockConditions:[{id:"first_action",type:"points",threshold:10,description:"Earn your first 10 points"}],unlocked:!1},{id:"weather_sage",name:"Weather Sage",description:"Mastered weather tracking",longDescription:"You understand the importance of weather in adventure planning. A true outdoor enthusiast!",icon:ul,bgGradient:"from-blue-400 to-blue-600",iconColor:"text-white",rarity:"silver",category:"explorer",points:50,unlockConditions:[{id:"weather_master",type:"actions",threshold:5,actions:["weather_check","weather_expand"],description:"Check weather conditions 5 times"}],unlocked:!1},{id:"destination_discoverer",name:"Destination Discoverer",description:"Explored multiple destinations",longDescription:"Your curiosity knows no bounds! You have explored various adventure destinations.",icon:zg,bgGradient:"from-purple-400 to-purple-600",iconColor:"text-white",rarity:"gold",category:"explorer",points:100,unlockConditions:[{id:"multi_destination",type:"actions",threshold:10,actions:["trip_view","itinerary_expand","highlights_read"],description:"Explore 10 different trip aspects"}],unlocked:!1},{id:"social_starter",name:"Social Starter",description:"Made first social interaction",longDescription:"Adventures are better when shared! You have taken your first step into social engagement.",icon:Pl,bgGradient:"from-pink-400 to-pink-600",iconColor:"text-white",rarity:"bronze",category:"social",points:30,unlockConditions:[{id:"first_share",type:"actions",threshold:1,actions:["share","whatsapp","social_action"],description:"Make your first social interaction"}],unlocked:!1},{id:"conversation_catalyst",name:"Conversation Catalyst",description:"Initiated multiple conversations",longDescription:"You are not shy about reaching out! Building connections is your specialty.",icon:ei,bgGradient:"from-indigo-400 to-indigo-600",iconColor:"text-white",rarity:"silver",category:"social",points:75,unlockConditions:[{id:"multi_contact",type:"actions",threshold:3,actions:["whatsapp","call_action","contact_form"],description:"Initiate contact 3 times"}],unlocked:!1},{id:"influence_champion",name:"Influence Champion",description:"Shared adventures extensively",longDescription:"Your enthusiasm is contagious! You have shared the adventure spirit far and wide.",icon:po,bgGradient:"from-yellow-400 to-orange-600",iconColor:"text-white",rarity:"gold",category:"social",points:150,unlockConditions:[{id:"share_master",type:"actions",threshold:10,actions:["share","whatsapp","social_action"],description:"Share content 10 times"}],unlocked:!1},{id:"booking_rookie",name:"Booking Rookie",description:"Started the booking process",longDescription:"You have taken the leap from dreaming to planning! The adventure begins now.",icon:qn,bgGradient:"from-teal-400 to-teal-600",iconColor:"text-white",rarity:"silver",category:"adventurer",points:100,unlockConditions:[{id:"booking_start",type:"actions",threshold:1,actions:["booking_modal_open","booking_start"],description:"Start the booking process"}],unlocked:!1},{id:"seat_selector",name:"Seat Selector",description:"Carefully chose adventure seats",longDescription:"Attention to detail is your strength! You carefully selected your perfect spot.",icon:qg,bgGradient:"from-green-400 to-green-600",iconColor:"text-white",rarity:"silver",category:"adventurer",points:75,unlockConditions:[{id:"seat_selection",type:"actions",threshold:1,actions:["seat_selection","seat_confirmed"],description:"Select seats for your adventure"}],unlocked:!1},{id:"adventure_committed",name:"Adventure Committed",description:"Completed first booking",longDescription:"Congratulations! You have officially committed to your adventure. The journey awaits!",icon:Gn,bgGradient:"from-amber-400 to-red-600",iconColor:"text-white",rarity:"gold",category:"adventurer",points:250,unlockConditions:[{id:"booking_complete",type:"actions",threshold:1,actions:["booking_completed","payment_completed"],description:"Complete your first booking"}],unlocked:!1},{id:"engagement_expert",name:"Engagement Expert",description:"Highly engaged user",longDescription:"Your enthusiasm shines through! You have mastered the art of engagement.",icon:Ts,bgGradient:"from-violet-400 to-violet-600",iconColor:"text-white",rarity:"platinum",category:"master",points:200,unlockConditions:[{id:"high_engagement",type:"points",threshold:500,description:"Earn 500 total points"}],unlocked:!1},{id:"time_devotee",name:"Time Devotee",description:"Spent significant time exploring",longDescription:"Time well spent! Your dedication to exploring every detail is commendable.",icon:bs,bgGradient:"from-cyan-400 to-blue-600",iconColor:"text-white",rarity:"platinum",category:"master",points:150,unlockConditions:[{id:"time_spent",type:"time_spent",threshold:3e5,description:"Spend 5 minutes exploring"}],unlocked:!1},{id:"adventure_legend",name:"Adventure Legend",description:"Legendary adventure enthusiast",longDescription:"You have achieved legendary status! Your passion for adventure is truly inspiring.",icon:po,bgGradient:"from-yellow-400 via-orange-500 to-red-600",iconColor:"text-white",rarity:"legendary",category:"legend",points:500,unlockConditions:[{id:"legend_points",type:"points",threshold:1e3,description:"Earn 1000 total points"}],unlocked:!1,isHidden:!0},{id:"diamond_explorer",name:"Diamond Explorer",description:"Ultimate exploration mastery",longDescription:"Rarest of the rare! You have reached the pinnacle of adventure exploration.",icon:XT,bgGradient:"from-blue-200 via-purple-400 to-pink-600",iconColor:"text-white",rarity:"diamond",category:"legend",points:750,unlockConditions:[{id:"diamond_combo",type:"combo",threshold:1,actions:["booking_completed","social_share_5","time_devotee"],description:"Complete booking + 5 shares + 5min session"}],unlocked:!1,isHidden:!0},{id:"monsoon_warrior",name:"Monsoon Warrior",description:"Explored during monsoon season",longDescription:"You embrace the rain and adventure! A true monsoon enthusiast.",icon:ul,bgGradient:"from-blue-600 to-indigo-800",iconColor:"text-white",rarity:"gold",category:"seasonal",points:200,unlockConditions:[{id:"monsoon_explorer",type:"actions",threshold:1,actions:["monsoon_trip_view","weather_check"],description:"Explore monsoon adventures"}],unlocked:!1,seasonalExpiry:Date.now()+90*24*60*60*1e3}],i8=({userProgress:t,onBadgeUnlocked:e,showDetailed:n=!1,className:r=""})=>{const[s,i]=S.useState(s8),[o,l]=S.useState(null),[c,d]=S.useState([]);S.useEffect(()=>{if(!t)return;const g=s.map(_=>{if(_.unlocked)return _;if(_.unlockConditions.every(N=>{var w,v;switch(N.type){case"points":return t.totalPoints>=N.threshold;case"actions":return N.actions?(((w=t.pointsHistory)==null?void 0:w.filter(O=>N.actions.includes(O.action)).length)||0)>=N.threshold:!1;case"time_spent":return Date.now()-(t.sessionStart||Date.now())>=N.threshold;case"social_actions":return(((v=t.pointsHistory)==null?void 0:v.filter(O=>O.category==="social").length)||0)>=N.threshold;case"engagement_level":return t.totalPoints>=N.threshold;case"streak":return(t.streakCount||0)>=N.threshold;case"combo":return N.actions?N.actions.every(O=>{var k;return(k=t.pointsHistory)==null?void 0:k.some(T=>T.action===O)}):!1;default:return!1}})){const N={..._,unlocked:!0,unlockedAt:Date.now()};return d(w=>[...w,N]),setTimeout(()=>{l(N),e==null||e(N)},500),N}else{const N=_.unlockConditions.reduce((w,v)=>{var D;let b=0;switch(v.type){case"points":b=Math.min(1,t.totalPoints/v.threshold);break;case"actions":if(v.actions){const P=((D=t.pointsHistory)==null?void 0:D.filter(O=>v.actions.includes(O.action)).length)||0;b=Math.min(1,P/v.threshold)}break}return w+b/_.unlockConditions.length},0);return{..._,progress:N}}});i(g)},[t,s,e]);const h=g=>{switch(g){case"bronze":return"ring-amber-600 bg-gradient-to-r from-amber-100 to-amber-200";case"silver":return"ring-gray-500 bg-gradient-to-r from-gray-100 to-gray-300";case"gold":return"ring-yellow-500 bg-gradient-to-r from-yellow-100 to-yellow-300";case"platinum":return"ring-blue-500 bg-gradient-to-r from-blue-100 to-purple-200";case"diamond":return"ring-purple-500 bg-gradient-to-r from-purple-100 to-pink-200";case"legendary":return"ring-red-500 bg-gradient-to-r from-red-100 to-orange-300";default:return"ring-gray-400 bg-gray-100"}},f=s.filter(g=>g.unlocked&&!g.isHidden),m=s.filter(g=>!g.isHidden);return a.jsxs("div",{className:r,children:[n&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:m.map(g=>a.jsxs(M.div,{className:`relative p-4 rounded-xl cursor-pointer transition-all duration-300 ${g.unlocked?`${h(g.rarity)} ring-2 hover:scale-105`:"bg-gray-100 opacity-50"}`,whileHover:g.unlocked?{scale:1.05}:{},onClick:()=>g.unlocked&&l(g),children:[a.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-r ${g.bgGradient} flex items-center justify-center mb-2 mx-auto ${g.unlocked?"":"grayscale"}`,children:a.jsx(g.icon,{className:`w-6 h-6 ${g.iconColor}`})}),a.jsx("h4",{className:`text-sm font-semibold text-center mb-1 ${g.unlocked?"text-gray-800":"text-gray-400"}`,children:g.name}),a.jsx("p",{className:`text-xs text-center ${g.unlocked?"text-gray-600":"text-gray-400"}`,children:g.description}),!g.unlocked&&g.progress!==void 0&&g.progress>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-emerald-600 h-2 rounded-full transition-all duration-500",style:{width:`${g.progress*100}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:[Math.round(g.progress*100),"% Complete"]})]}),a.jsxs("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${g.unlocked?h(g.rarity):"bg-gray-300"}`,children:[g.rarity==="legendary"&&a.jsx(po,{className:"w-3 h-3"}),g.rarity==="diamond"&&a.jsx(XT,{className:"w-3 h-3"}),g.rarity==="platinum"&&a.jsx(Ht,{className:"w-3 h-3"}),g.rarity==="gold"&&a.jsx(N3,{className:"w-3 h-3"}),g.rarity==="silver"&&a.jsx(Bm,{className:"w-3 h-3"}),g.rarity==="bronze"&&a.jsx($u,{className:"w-3 h-3"})]}),c.some(_=>_.id===g.id)&&a.jsx(M.div,{className:"absolute inset-0 rounded-xl bg-yellow-400/20 pointer-events-none",animate:{opacity:[0,1,0]},transition:{duration:1,repeat:3}})]},g.id))}),!n&&f.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"w-5 h-5 text-yellow-600"}),a.jsxs("div",{className:"flex gap-1",children:[f.slice(0,5).map(g=>a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-r ${g.bgGradient} flex items-center justify-center`,title:g.name,children:a.jsx(g.icon,{className:`w-4 h-4 ${g.iconColor}`})},g.id)),f.length>5&&a.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center text-xs font-bold",children:["+",f.length-5]})]})]}),a.jsx(Ae,{children:o&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl p-8 max-w-md w-full text-center relative overflow-hidden",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${o.bgGradient} opacity-10`}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-r ${o.bgGradient} flex items-center justify-center mb-4 mx-auto`,children:a.jsx(o.icon,{className:`w-10 h-10 ${o.iconColor}`})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:o.name}),a.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium mb-4 ${h(o.rarity)}`,children:o.rarity.toUpperCase()}),a.jsx("p",{className:"text-gray-600 mb-4",children:o.longDescription||o.description}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600 mb-6",children:[a.jsx(Ht,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-bold",children:["+",o.points," Points Earned"]})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Unlock Conditions:"}),a.jsx("ul",{className:"space-y-1",children:o.unlockConditions.map((g,_)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),a.jsx("span",{children:g.description})]},_))})]}),o.unlockedAt&&a.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Unlocked: ",new Date(o.unlockedAt).toLocaleDateString()]}),a.jsx("button",{onClick:()=>l(null),className:"mt-6 bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-6 py-2 rounded-full font-medium hover:shadow-lg transition-all duration-300",children:"Close"})]})]})})})]})},o8=[{id:"land_arrival",name:"Arrival",description:"First visit to the adventure page",icon:Nn,completed:!1,points:5,category:"discovery",order:1},{id:"content_exploration",name:"Exploration",description:"Explored trip details and highlights",icon:Hg,completed:!1,points:15,category:"discovery",order:2},{id:"weather_check",name:"Weather Awareness",description:"Checked weather conditions",icon:QT,completed:!1,points:20,category:"engagement",order:3},{id:"itinerary_deep_dive",name:"Planning Phase",description:"Reviewed detailed itinerary",icon:h3,completed:!1,points:25,category:"engagement",order:4},{id:"social_interaction",name:"Social Engagement",description:"Shared or contacted about the trip",icon:Pl,completed:!1,points:35,category:"consideration",order:5},{id:"price_consideration",name:"Investment Evaluation",description:"Considered pricing and packages",icon:qg,completed:!1,points:30,category:"consideration",order:6},{id:"booking_initiation",name:"Commitment Start",description:"Started the booking process",icon:qn,completed:!1,points:75,category:"conversion",order:7},{id:"seat_selection",name:"Personal Choice",description:"Selected preferred seats",icon:Ao,completed:!1,points:50,category:"conversion",order:8},{id:"booking_completion",name:"Adventure Secured",description:"Completed booking and payment",icon:Gn,completed:!1,points:200,category:"conversion",order:9},{id:"advocacy_sharing",name:"Adventure Ambassador",description:"Shared experience with others",icon:Hu,completed:!1,points:100,category:"advocacy",order:10}],a8=({userProgress:t,showDetailed:e=!1,onJourneyStepComplete:n,className:r=""})=>{const[s,i]=S.useState(o8),[o,l]=S.useState("all"),[c,d]=S.useState(!1),h=S.useMemo(()=>{var T,I;if(!t)return{totalPoints:0,level:1,experienceProgress:0,badges:0,achievements:0,timeSpent:0,sessionsCount:1,avgSessionTime:0,completionRate:0,engagementScore:0,socialShares:0,conversions:0,streakDays:0,lastActivity:Date.now()};const _=t.totalPoints||0,x=Math.floor(_/100)+1,N=_%100/100,v=s.filter(C=>C.completed).length/s.length,b=Math.min(_/10,50),D=Math.min((t.timeSpent||0)/6e4*10,30),P=(t.socialShares||0)*5,O=v*20,k=Math.min(b+D+P+O,100);return{totalPoints:_,level:x,experienceProgress:N,badges:((T=t.achievements)==null?void 0:T.filter(C=>C.unlocked).length)||0,achievements:((I=t.achievements)==null?void 0:I.length)||0,timeSpent:t.timeSpent||0,sessionsCount:t.sessionsCount||1,avgSessionTime:(t.timeSpent||0)/(t.sessionsCount||1),completionRate:v,engagementScore:k,socialShares:t.socialShares||0,conversions:t.conversions||0,streakDays:t.streakDays||0,lastActivity:t.lastActivity||Date.now()}},[t,s]);S.useEffect(()=>{if(!(t!=null&&t.pointsHistory))return;const _=s.map(x=>{let N=!1,w;switch(x.id){case"land_arrival":N=t.pointsHistory.some(b=>b.action==="page_load");break;case"content_exploration":N=t.pointsHistory.some(b=>["highlights_read","content_scroll"].includes(b.action));break;case"weather_check":N=t.pointsHistory.some(b=>b.action==="weather_check");break;case"itinerary_deep_dive":N=t.pointsHistory.some(b=>b.action==="itinerary_view");break;case"social_interaction":N=t.pointsHistory.some(b=>["share","whatsapp","call_action"].includes(b.action));break;case"price_consideration":N=t.pointsHistory.some(b=>["pricing_view","calculator_use"].includes(b.action));break;case"booking_initiation":N=t.pointsHistory.some(b=>b.action==="booking_start");break;case"seat_selection":N=t.pointsHistory.some(b=>b.action==="seat_selection");break;case"booking_completion":N=t.pointsHistory.some(b=>b.action==="booking_completed");break;case"advocacy_sharing":N=t.pointsHistory.filter(b=>["share","whatsapp"].includes(b.action)).length>=2;break}if(N&&!x.completed){const v=t.pointsHistory.find(b=>{switch(x.id){case"land_arrival":return b.action==="page_load";case"weather_check":return b.action==="weather_check";default:return!1}});w=(v==null?void 0:v.timestamp)||Date.now(),n&&setTimeout(()=>n({...x,completed:!0,completedAt:w}),100)}return{...x,completed:N||x.completed,completedAt:x.completedAt||w}});i(_)},[t,n]);const f=_=>{const x=Math.floor(_/1e3),N=Math.floor(x/60),w=Math.floor(N/60);return w>0?`${w}h ${N%60}m`:N>0?`${N}m ${x%60}s`:`${x}s`},m=_=>_<.3?"from-red-400 to-red-600":_<.6?"from-yellow-400 to-yellow-600":_<.8?"from-blue-400 to-blue-600":"from-emerald-400 to-emerald-600",g=_=>{switch(_){case"discovery":return"from-purple-400 to-purple-600";case"engagement":return"from-blue-400 to-blue-600";case"consideration":return"from-yellow-400 to-yellow-600";case"conversion":return"from-emerald-400 to-emerald-600";case"advocacy":return"from-pink-400 to-pink-600";default:return"from-gray-400 to-gray-600"}};return e?a.jsxs("div",{className:r,children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Adventure Progress"}),a.jsx("div",{className:"flex gap-2",children:["today","week","month","all"].map(_=>a.jsx("button",{onClick:()=>l(_),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${o===_?"bg-emerald-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 p-4 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Gn,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Level"})]}),a.jsx("div",{className:"text-2xl font-bold",children:h.level}),a.jsxs("div",{className:"text-sm opacity-90",children:[h.totalPoints," total points"]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-4 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx($u,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Badges"})]}),a.jsx("div",{className:"text-2xl font-bold",children:h.badges}),a.jsxs("div",{className:"text-sm opacity-90",children:["of ",h.achievements," available"]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 p-4 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(qg,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Journey"})]}),a.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(h.completionRate*100),"%"]}),a.jsx("div",{className:"text-sm opacity-90",children:"completion rate"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-rose-500 p-4 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ts,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Engagement"})]}),a.jsx("div",{className:"text-2xl font-bold",children:Math.round(h.engagementScore)}),a.jsx("div",{className:"text-sm opacity-90",children:"out of 100"})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Adventure Journey"}),a.jsx("div",{className:"space-y-3",children:s.map((_,x)=>a.jsxs(M.div,{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-white transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:x*.1},children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${_.completed?`bg-gradient-to-r ${g(_.category)} text-white`:"bg-gray-200 text-gray-400"}`,children:_.completed?a.jsx(Vt,{className:"w-5 h-5"}):a.jsx(_.icon,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:`font-semibold ${_.completed?"text-gray-800":"text-gray-400"}`,children:_.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ht,{className:"w-4 h-4 text-yellow-500"}),a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["+",_.points]})]})]}),a.jsx("p",{className:`text-sm ${_.completed?"text-gray-600":"text-gray-400"}`,children:_.description}),_.completedAt&&a.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[" Completed ",new Date(_.completedAt).toLocaleDateString()]})]}),x<s.length-1&&a.jsx("div",{className:"absolute left-9 mt-12 w-0.5 h-6 bg-gray-200"})]},_.id))})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Time Analytics"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Total Time Spent:"}),a.jsx("span",{className:"font-semibold",children:f(h.timeSpent)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Average Session:"}),a.jsx("span",{className:"font-semibold",children:f(h.avgSessionTime)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Sessions Count:"}),a.jsx("span",{className:"font-semibold",children:h.sessionsCount})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Streak Days:"}),a.jsxs("span",{className:"font-semibold flex items-center gap-1",children:[a.jsx(JT,{className:"w-4 h-4 text-orange-500"}),h.streakDays]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Engagement Metrics"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Social Shares:"}),a.jsx("span",{className:"font-semibold",children:h.socialShares})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Conversions:"}),a.jsx("span",{className:"font-semibold",children:h.conversions})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Engagement Score:"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(h.engagementScore),"/100"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Overall Progress"}),a.jsxs("span",{children:[Math.round(h.completionRate*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r ${m(h.completionRate)} h-2 rounded-full transition-all duration-1000`,style:{width:`${h.completionRate*100}%`}})})]})]})]})]})]}),a.jsx(Ae,{children:c&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Adventure Journey Map"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(s.reduce((_,x)=>(_[x.category]||(_[x.category]=[]),_[x.category].push(x),_),{})).map(([_,x])=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 capitalize",children:[_," Phase (",x.filter(N=>N.completed).length,"/",x.length,")"]}),a.jsx("div",{className:"space-y-2",children:x.map(N=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded",children:[a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${N.completed?"bg-emerald-500 text-white":"bg-gray-200"}`,children:N.completed?a.jsx(Vt,{className:"w-4 h-4"}):a.jsx(x3,{className:"w-4 h-4"})}),a.jsx("span",{className:N.completed?"text-gray-800":"text-gray-400",children:N.name}),a.jsxs("span",{className:"text-sm text-gray-500",children:["+",N.points,"pts"]})]},N.id))})]},_))})]})})})]}):a.jsxs("div",{className:`bg-white/10 backdrop-blur-md rounded-xl p-4 ${r}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Od,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{className:"text-white font-semibold",children:"Progress"})]}),a.jsx("button",{onClick:()=>d(!0),className:"text-emerald-400 hover:text-emerald-300 transition-colors",children:a.jsx(u3,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[a.jsxs("span",{children:["Level ",h.level]}),a.jsxs("span",{children:[Math.round(h.experienceProgress*100),"%"]})]}),a.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:a.jsx(M.div,{className:"bg-gradient-to-r from-emerald-400 to-emerald-600 h-2 rounded-full",initial:{width:0},animate:{width:`${h.experienceProgress*100}%`},transition:{duration:1}})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-white",children:h.totalPoints}),a.jsx("div",{className:"text-xs text-white/70",children:"Points"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-white",children:h.badges}),a.jsx("div",{className:"text-xs text-white/70",children:"Badges"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-lg font-bold text-white",children:[Math.round(h.completionRate*100),"%"]}),a.jsx("div",{className:"text-xs text-white/70",children:"Journey"})]})]})]})},l8=[{id:"click_speed",name:"Adventure Reflexes",description:"Test your quick reflexes for outdoor adventures",instructions:"Click the glowing targets as fast as you can!",type:"reaction",difficulty:"easy",duration:10,points:50,bonusMultiplier:1.5,icon:YT,bgColor:"from-red-400 to-red-600",isActive:!0,completed:!1,attempts:0,timeLimit:15},{id:"mountain_memory",name:"Mountain Memory",description:"Remember the adventure locations sequence",instructions:"Watch the pattern and repeat it back!",type:"memory",difficulty:"medium",duration:20,points:75,bonusMultiplier:2,icon:ln,bgColor:"from-emerald-400 to-emerald-600",isActive:!0,completed:!1,attempts:0},{id:"weather_wizard",name:"Weather Wizard",description:"Match weather conditions with perfect adventures",instructions:"Drag weather icons to matching adventure types!",type:"puzzle",difficulty:"medium",duration:30,points:100,bonusMultiplier:1.8,icon:ul,bgColor:"from-blue-400 to-blue-600",isActive:!0,completed:!1,attempts:0},{id:"adventure_trivia",name:"Adventure Trivia Master",description:"Test your outdoor adventure knowledge",instructions:"Answer questions about trekking and adventures!",type:"trivia",difficulty:"hard",duration:45,points:150,bonusMultiplier:2.5,icon:f3,bgColor:"from-purple-400 to-purple-600",isActive:!0,completed:!1,attempts:0,requirements:["weather_check","itinerary_view"]},{id:"social_butterfly",name:"Social Butterfly",description:"Engage with the adventure community",instructions:"Share content and connect with fellow adventurers!",type:"social",difficulty:"easy",duration:60,points:80,bonusMultiplier:1.5,icon:Pl,bgColor:"from-pink-400 to-pink-600",isActive:!0,completed:!1,attempts:0},{id:"treasure_hunter",name:"Hidden Treasure Hunter",description:"Find all hidden elements on the page",instructions:"Discover secret adventure gems hidden around!",type:"exploration",difficulty:"hard",duration:90,points:200,bonusMultiplier:3,icon:j3,bgColor:"from-yellow-400 to-orange-600",isActive:!0,completed:!1,attempts:0},{id:"engagement_marathon",name:"Engagement Marathon",description:"Complete multiple engagement actions in sequence",instructions:"Perform various interactions within the time limit!",type:"engagement",difficulty:"expert",duration:120,points:300,bonusMultiplier:4,icon:eS,bgColor:"from-indigo-400 to-purple-600",isActive:!0,completed:!1,attempts:0,requirements:["social_butterfly","weather_wizard"]}],c8=({onComplete:t,timeLeft:e})=>{const[n,r]=S.useState([]),[s,i]=S.useState(0),o=S.useRef(null);S.useEffect(()=>{if(e<=0){t(s);return}const d=setInterval(()=>{if(o.current){const h=o.current.getBoundingClientRect(),f={id:Date.now(),x:Math.random()*(h.width-50),y:Math.random()*(h.height-50),clicked:!1};r(m=>[...m.slice(-4),f])}},800);return()=>clearInterval(d)},[e,s,t]);const l=c=>{r(d=>d.map(h=>h.id===c?{...h,clicked:!0}:h)),i(d=>d+10),setTimeout(()=>{r(d=>d.filter(h=>h.id!==c))},200)};return a.jsxs("div",{ref:o,className:"relative w-full h-64 bg-gradient-to-br from-red-100 to-red-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"absolute top-2 left-2 text-lg font-bold text-red-700",children:["Score: ",s," | Time: ",e,"s"]}),n.map(c=>a.jsx(M.div,{className:`absolute w-12 h-12 rounded-full cursor-pointer flex items-center justify-center ${c.clicked?"bg-green-500":"bg-red-500 hover:bg-red-600"}`,style:{left:c.x,top:c.y},initial:{scale:0},animate:{scale:c.clicked?0:1},exit:{scale:0},whileHover:{scale:1.1},onClick:()=>!c.clicked&&l(c.id),children:a.jsx(YT,{className:"w-6 h-6 text-white"})},c.id))]})},u8=({onComplete:t,timeLeft:e})=>{const[n,r]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState(!1),[c,d]=S.useState(1),[h,f]=S.useState("waiting"),m=[ln,$g,Ao,ul,Nn,qn];S.useEffect(()=>{if(e<=0){t(c*25);return}g()},[c]);const g=()=>{const x=Array.from({length:c+2},()=>Math.floor(Math.random()*6));r(x),i([]),f("showing"),l(!0),setTimeout(()=>{l(!1),f("input")},(x.length+1)*800)},_=x=>{if(h!=="input")return;const N=[...s,x];if(i(N),N[N.length-1]!==n[N.length-1]){t(Math.max(0,(c-1)*25));return}N.length===n.length&&(d(w=>w+1),f("waiting"))};return a.jsxs("div",{className:"w-full h-64 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-lg p-4",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("div",{className:"text-lg font-bold text-emerald-700",children:["Level ",c," | Score: ",c*25," | Time: ",e,"s"]}),a.jsxs("div",{className:"text-sm text-emerald-600",children:[h==="showing"&&"Watch the sequence...",h==="input"&&"Repeat the sequence!",h==="waiting"&&"Get ready..."]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:m.map((x,N)=>a.jsx(M.button,{className:`w-16 h-16 rounded-lg flex items-center justify-center transition-all duration-300 ${o&&n[s.length]===N?"bg-emerald-500 scale-110":h==="input"?"bg-emerald-400 hover:bg-emerald-500 hover:scale-105":"bg-emerald-300"}`,onClick:()=>_(N),disabled:h!=="input",animate:o&&n.includes(N)?{scale:[1,1.1,1]}:{},children:a.jsx(x,{className:"w-8 h-8 text-white"})},N))})]})},d8=({onComplete:t,timeLeft:e})=>{const[n,r]=S.useState(0),[s,i]=S.useState(0),[o,l]=S.useState(!1),c=[{question:"What's the best time for monsoon trekking in Maharashtra?",options:["March-May","June-September","October-February","Year-round"],correct:1},{question:"Essential item for waterfall rappelling safety?",options:["Sunglasses","Helmet","Phone","Snacks"],correct:1},{question:"Recommended group size for trekking adventures?",options:["1-2 people","3-6 people","10+ people","Solo only"],correct:1}];S.useEffect(()=>{(e<=0||n>=c.length)&&t(s)},[e,n,s,t]);const d=f=>{o||(l(!0),f===c[n].correct&&i(m=>m+50),setTimeout(()=>{r(m=>m+1),l(!1)},1500))};if(n>=c.length)return a.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Gn,{className:"w-12 h-12 mx-auto mb-4 text-purple-600"}),a.jsx("div",{className:"text-2xl font-bold text-purple-700",children:"Quiz Complete!"}),a.jsxs("div",{className:"text-lg text-purple-600",children:["Final Score: ",s]})]})});const h=c[n];return a.jsxs("div",{className:"w-full h-64 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsxs("div",{className:"text-lg font-bold text-purple-700",children:["Question ",n+1,"/",c.length," | Score: ",s," | Time: ",e,"s"]})}),a.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:h.question}),a.jsx("div",{className:"space-y-2",children:h.options.map((f,m)=>a.jsx(M.button,{className:`w-full p-3 text-left rounded-lg transition-all duration-300 ${o?m===h.correct?"bg-green-500 text-white":"bg-gray-200 text-gray-600":"bg-gray-100 hover:bg-purple-100 hover:text-purple-700"}`,onClick:()=>d(m),disabled:o,whileHover:o?{}:{scale:1.02},whileTap:o?{}:{scale:.98},children:f},m))})]})]})},W1=({userProgress:t,onChallengeComplete:e,onPointsEarned:n,showCompact:r=!1,className:s=""})=>{const[i,o]=S.useState(l8),[l,c]=S.useState(null),[d,h]=S.useState("idle"),[f,m]=S.useState(0),[g,_]=S.useState(!1);S.useEffect(()=>{if(d==="playing"&&f>0){const P=setTimeout(()=>{m(O=>O-1)},1e3);return()=>clearTimeout(P)}else d==="playing"&&f<=0&&N(0)},[d,f]);const x=P=>{if(P.requirements&&t&&!P.requirements.every(k=>{var T;return(T=t.pointsHistory)==null?void 0:T.some(I=>I.action===k)})){alert("Complete prerequisite challenges first!");return}c(P),m(P.timeLimit||P.duration),h("playing")},N=S.useCallback(P=>{if(!l)return;const O=(l.timeLimit||l.duration)-f,k=Math.min(P/(l.points*.8),1),T=Math.max(0,f/(l.timeLimit||l.duration)*.2),I=Math.floor(P*l.bonusMultiplier*T),C=P+I,A=P>0,R=k>=.9&&T>.1,j={challengeId:l.id,score:P,timeElapsed:O,accuracy:k,bonusPoints:I,totalPoints:C,completed:A,perfectScore:R};o(Z=>Z.map(le=>le.id===l.id?{...le,completed:A,bestScore:Math.max(le.bestScore||0,C),attempts:le.attempts+1}:le)),h("completed"),n==null||n(C,`challenge_${l.id}`),e==null||e(j),setTimeout(()=>{c(null),h("idle")},3e3)},[l,f,e,n]),w=()=>{if(!l)return null;switch(l.type){case"reaction":if(l.id==="click_speed")return a.jsx(c8,{onComplete:N,timeLeft:f});break;case"memory":if(l.id==="mountain_memory")return a.jsx(u8,{onComplete:N,timeLeft:f});break;case"trivia":if(l.id==="adventure_trivia")return a.jsx(d8,{onComplete:N,timeLeft:f});break}return null},v=P=>{switch(P){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-orange-600 bg-orange-100";case"expert":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},b=i.filter(P=>P.isActive),D=i.filter(P=>P.completed).length;return r?a.jsx(M.button,{onClick:()=>_(!0),className:`bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 ${s}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(S3,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Challenges"}),D>0&&a.jsx("div",{className:"bg-white text-indigo-600 px-2 py-1 rounded-full text-xs font-bold",children:D})]})}):a.jsxs("div",{className:s,children:[a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:b.map(P=>a.jsxs(M.div,{className:`bg-gradient-to-br ${P.bgColor} rounded-xl p-6 text-white cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-2xl ${P.completed?"ring-4 ring-yellow-300":""}`,whileHover:{y:-5},onClick:()=>x(P),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx(P.icon,{className:"w-8 h-8"}),a.jsxs("div",{className:"flex items-center gap-2",children:[P.completed&&a.jsx(Gn,{className:"w-5 h-5 text-yellow-300"}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${v(P.difficulty)} text-gray-700`,children:P.difficulty.toUpperCase()})]})]}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:P.name}),a.jsx("p",{className:"text-white/90 text-sm mb-4",children:P.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ht,{className:"w-4 h-4 text-yellow-300"}),a.jsxs("span",{className:"text-sm font-medium",children:[P.points,"pts"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(bs,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:[P.duration,"s"]})]})]}),P.bestScore&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs opacity-80",children:"Best"}),a.jsx("div",{className:"font-bold",children:P.bestScore})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:a.jsxs("div",{className:"text-xs opacity-90",children:["Attempts: ",P.attempts," | Bonus: x",P.bonusMultiplier]})})]},P.id))}),a.jsx(Ae,{children:l&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l.name}),a.jsx("p",{className:"text-gray-600",children:l.instructions})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[f,"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time Left"})]})]}),d==="playing"&&w(),d==="completed"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(M.div,{initial:{scale:0},animate:{scale:1},className:"w-20 h-20 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Gn,{className:"w-10 h-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Challenge Complete!"}),a.jsxs("div",{className:"text-lg text-emerald-600",children:["Points Earned: ",l.points]})]})]})})}),a.jsx(Ae,{children:g&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Adventure Challenges"}),a.jsx("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:b.map(P=>a.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-300 ${P.completed?"border-emerald-300 bg-emerald-50":"border-gray-200 hover:border-indigo-300 hover:bg-indigo-50"}`,onClick:()=>{_(!1),x(P)},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-r ${P.bgColor} flex items-center justify-center`,children:a.jsx(P.icon,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:P.name}),a.jsx("p",{className:"text-sm text-gray-600",children:P.description})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${v(P.difficulty)}`,children:P.difficulty}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Ht,{className:"w-4 h-4"}),a.jsxs("span",{children:[P.points,"pts"]}),P.completed&&a.jsx(Vt,{className:"w-4 h-4 text-emerald-600"})]})]})]},P.id))})]})})})]})},q1=({tripData:t,onLeadScoreUpdate:e,onHighValueAction:n,showRealTimeAnalytics:r=!1,className:s=""})=>{const[i,o]=S.useState({sessionId:`session_${Date.now()}`,startTime:Date.now(),duration:0,pageViews:1,interactions:0,scrollDepth:0,exitIntent:!1,deviceType:"desktop"}),[l,c]=S.useState([]),[d,h]=S.useState([]),[f,m]=S.useState({total:0,breakdown:{engagement:0,intent:0,behavior:0,social:0,technical:0},grade:"Cold",likelihood:0,recommendations:[]}),[g,_]=S.useState({activeTime:0,clicksPerMinute:0,scrollVelocity:0,focusTime:0,engagementLevel:"Low"}),x=S.useRef(0),N=S.useRef(),w=S.useRef(),v=S.useRef();S.useEffect(()=>(b(),()=>{N.current&&clearInterval(N.current),w.current&&clearInterval(w.current),v.current&&clearInterval(v.current)}),[]);const b=()=>{var Z,le;const A=navigator.userAgent;let R="desktop";/Mobile|Android|iPhone/i.test(A)?R="mobile":/iPad|Tablet/i.test(A)&&(R="tablet");const j=(le=(Z=navigator.connection)==null?void 0:Z.effectiveType)!=null&&le.includes("4g")?"fast":"slow";o(ce=>({...ce,userAgent:A,deviceType:R,connectionSpeed:j,referrer:document.referrer})),N.current=setInterval(()=>{o(ce=>({...ce,duration:Date.now()-ce.startTime}))},1e3),w.current=setInterval(()=>{k(),T()},5e3),D()},D=()=>{document.addEventListener("click",R=>{P({id:`click_${Date.now()}`,type:"click",element:R.target.tagName,timestamp:Date.now(),coordinates:{x:R.clientX,y:R.clientY},metadata:{elementId:R.target.id,elementClass:R.target.className}}),o(j=>({...j,interactions:j.interactions+1}))}),document.addEventListener("scroll",()=>{const R=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100),j=Math.abs(window.scrollY-x.current);x.current=window.scrollY,o(Z=>({...Z,scrollDepth:Math.max(Z.scrollDepth,R)})),_(Z=>({...Z,scrollVelocity:j})),P({id:`scroll_${Date.now()}`,type:"scroll",timestamp:Date.now(),metadata:{scrollPercent:R,scrollVelocity:j}})});let A;document.addEventListener("mousemove",R=>{clearTimeout(A),A=setTimeout(()=>{P({id:`hover_${Date.now()}`,type:"hover",timestamp:Date.now(),coordinates:{x:R.clientX,y:R.clientY}})},500)}),window.addEventListener("focus",()=>{P({id:`focus_${Date.now()}`,type:"focus",timestamp:Date.now()})}),window.addEventListener("blur",()=>{P({id:`blur_${Date.now()}`,type:"blur",timestamp:Date.now()})}),document.addEventListener("mouseleave",R=>{R.clientY<=0&&(o(j=>({...j,exitIntent:!0})),O("exit_intent",-10))}),document.addEventListener("keydown",()=>{P({id:`keypress_${Date.now()}`,type:"keypress",timestamp:Date.now()})})},P=A=>{c(R=>[...R.slice(-99),A])},O=(A,R)=>{n==null||n(A,R),Math.abs(R)>=10&&setTimeout(()=>T(),100)},k=()=>{const A=Date.now(),R=A-i.startTime,j=l.filter(le=>A-le.timestamp<6e4),Z=[{id:"session_duration",name:"Session Duration",value:Math.round(R/1e3),trend:"up",weight:.2,category:"temporal",description:"Time spent on page"},{id:"interaction_rate",name:"Interaction Rate",value:Math.round(i.interactions/(R/6e4)*100)/100,trend:j.length>5?"up":j.length<2?"down":"stable",weight:.25,category:"behavioral",description:"Interactions per minute"},{id:"scroll_depth",name:"Scroll Depth",value:i.scrollDepth,trend:i.scrollDepth>50?"up":"stable",weight:.15,category:"behavioral",description:"Percentage of page scrolled"},{id:"click_diversity",name:"Click Diversity",value:new Set(l.filter(le=>le.type==="click").map(le=>le.element)).size,trend:"stable",weight:.2,category:"behavioral",description:"Different elements interacted with"},{id:"focus_consistency",name:"Focus Consistency",value:l.filter(le=>le.type==="focus").length,trend:"stable",weight:.1,category:"behavioral",description:"Page focus events"},{id:"device_score",name:"Device Score",value:i.deviceType==="mobile"?1.2:i.deviceType==="tablet"?1.1:1,trend:"stable",weight:.05,category:"technical",description:"Device type bonus"},{id:"connection_score",name:"Connection Quality",value:i.connectionSpeed==="fast"?1.1:.9,trend:"stable",weight:.05,category:"technical",description:"Connection speed factor"}];h(Z),_({activeTime:Math.round(R/1e3),clicksPerMinute:Math.round(i.interactions/(R/6e4)*100)/100,scrollVelocity:g.scrollVelocity,focusTime:l.filter(le=>le.type==="focus").length,engagementLevel:i.interactions>10?"High":i.interactions>5?"Medium":"Low"})},T=S.useCallback(()=>{var ee;let A=0;const R={engagement:0,intent:0,behavior:0,social:0,technical:0};d.forEach(q=>{let te=0;switch(q.id){case"session_duration":te=Math.min(q.value/300,1)*100,R.engagement+=te*q.weight;break;case"interaction_rate":te=Math.min(q.value/5,1)*100,R.behavior+=te*q.weight;break;case"scroll_depth":te=q.value,R.intent+=te*q.weight;break;case"click_diversity":te=Math.min(q.value/10,1)*100,R.behavior+=te*q.weight;break;case"device_score":case"connection_score":R.technical+=q.value*10*q.weight;break}A+=te*q.weight});const j=((ee=window.adventureUserProgress)==null?void 0:ee.pointsHistory)||[],Z=j.filter(q=>["share","whatsapp","call_action"].includes(q.action));R.social=Math.min(Z.length*15,50);const le=j.filter(q=>["booking_start","seat_selection","weather_check","itinerary_view"].includes(q.action));R.intent+=Math.min(le.length*20,60),A=Object.values(R).reduce((q,te)=>q+te,0);let ce="Cold",W=0,B=[];A>=80?(ce="Burning",W=85+Math.random()*15,B=["Immediate follow-up recommended","Offer limited-time discount","Direct phone call suggested"]):A>=60?(ce="Hot",W=60+Math.random()*25,B=["Send personalized offer","WhatsApp follow-up within 1 hour","Highlight unique trip features"]):A>=40?(ce="Warm",W=30+Math.random()*30,B=["Email nurture sequence","Retargeting ads","Social proof notifications"]):(ce="Cold",W=Math.random()*30,B=["Content marketing engagement","General newsletter signup","Social media engagement"]);const K={total:Math.round(A),breakdown:R,grade:ce,likelihood:Math.round(W),recommendations:B};m(K),e==null||e(K)},[d,e]),I=A=>{switch(A){case"Burning":return"from-red-500 to-orange-600";case"Hot":return"from-orange-500 to-yellow-600";case"Warm":return"from-yellow-500 to-green-500";case"Cold":return"from-blue-500 to-gray-500";default:return"from-gray-400 to-gray-600"}},C=A=>{switch(A){case"up":return a.jsx(c3,{className:"w-4 h-4 text-green-500"});case"down":return a.jsx(l3,{className:"w-4 h-4 text-red-500"});default:return a.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded-full"})}};return r?a.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-xl ${s}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Live Analytics"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Real-time"})]})]}),a.jsxs("div",{className:`bg-gradient-to-r ${I(f.grade)} rounded-xl p-6 text-white mb-6`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold",children:["Lead Score: ",f.total]}),a.jsxs("p",{className:"text-white/90",children:["Grade: ",f.grade," (",f.likelihood,"% conversion likelihood)"]})]}),a.jsx($m,{className:"w-12 h-12"})]}),a.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:Object.entries(f.breakdown).map(([A,R])=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold",children:Math.round(R)}),a.jsx("div",{className:"text-xs opacity-90 capitalize",children:A})]},A))}),a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{children:"Recommendations:"})," ",Array.isArray(f.recommendations)?f.recommendations.join(", "):"Analyzing..."]})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(bs,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Active Time"})]}),a.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(g.activeTime/60),"m"]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 p-4 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(k3,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Clicks/Min"})]}),a.jsx("div",{className:"text-2xl font-bold",children:g.clicksPerMinute})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-4 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(QT,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Scroll Depth"})]}),a.jsxs("div",{className:"text-2xl font-bold",children:[i.scrollDepth,"%"]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-4 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ts,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Engagement"})]}),a.jsx("div",{className:"text-2xl font-bold",children:g.engagementLevel})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Engagement Metrics"}),a.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(A=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-800",children:A.name}),a.jsx("div",{className:"text-sm text-gray-600",children:A.description})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-bold",children:A.value}),C(A.trend)]})]},A.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Session Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Device Type"}),a.jsx("span",{className:"font-medium capitalize",children:i.deviceType})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Connection Speed"}),a.jsx("span",{className:"font-medium capitalize",children:i.connectionSpeed})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Page Views"}),a.jsx("span",{className:"font-medium",children:i.pageViews})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Total Interactions"}),a.jsx("span",{className:"font-medium",children:i.interactions})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Exit Intent"}),a.jsx("span",{className:`font-medium ${i.exitIntent?"text-red-600":"text-green-600"}`,children:i.exitIntent?"Detected":"None"})]})]})]})]})]}):a.jsxs("div",{className:`bg-white/10 backdrop-blur-md rounded-xl p-4 ${s}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($m,{className:"w-5 h-5 text-white"}),a.jsx("span",{className:"text-white font-semibold",children:"Lead Score"})]}),a.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold text-white bg-gradient-to-r ${I(f.grade)}`,children:f.grade})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[a.jsxs("span",{children:["Score: ",f.total||0,"/100"]}),a.jsxs("span",{children:[f.likelihood||0,"% likely"]})]}),a.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:a.jsx(M.div,{className:`bg-gradient-to-r ${I(f.grade)} h-2 rounded-full`,initial:{width:0},animate:{width:`${f.total}%`},transition:{duration:1}})})]}),a.jsxs("div",{className:"text-xs text-white/70",children:["Session: ",Math.round((g.activeTime||0)/60),"m | Interactions: ",i.interactions||0," | Engagement: ",g.engagementLevel||"Low"]})]})},h8=()=>{const{slug:t}=xj(),[e,n]=S.useState(null),[r,s]=S.useState(!0),[i,o]=S.useState(!1),[l,c]=S.useState(!1),[d,h]=S.useState(!1),[f,m]=S.useState("interest"),[g,_]=S.useState("details"),[x,N]=S.useState({name:"",email:"",phone:"",seats:1,selectedBatch:"",selectedSeats:[],emergencyContact:"",dietaryRequirements:"",medicalConditions:""}),[w,v]=S.useState({name:"",phone:"",email:"",interest:""}),[b,D]=S.useState("details"),[P,O]=S.useState(0),[k,T]=S.useState({}),[I,C]=S.useState({currentViewers:Math.floor(Math.random()*15)+5,recentBookings:Math.floor(Math.random()*3)+1,lastBooked:Date.now()-Math.floor(Math.random()*3e5)}),[A,R]=S.useState(600),[j,Z]=S.useState(!1),[le,ce]=S.useState(!1),W=S.useRef(),B=S.useRef(Date.now()),{awardPoints:K}=r8(),ee=V=>!V||!Array.isArray(V)?[]:V.map(($,ae)=>{if(typeof $=="object"&&$!==null&&!Array.isArray($))return{day:$.day||ae+1,title:$.title||`Day ${ae+1}`,content:$.content,description:$.description,activities:$.activities,meals:$.meals,accommodation:$.accommodation,transport:$.transport,...$};if(typeof $=="string"){const Ue=$.match(/Day\s*(\d+)/i),_e=Ue?parseInt(Ue[1]):ae+1,Es=$.match(/^([^:]+?)(?::|\.|$)/),Zn=Es?Es[1].trim():`Day ${_e}`;return{day:_e,title:Zn,description:$,content:[$]}}return{day:ae+1,title:`Day ${ae+1}`,description:String($),content:[String($)]}});S.useEffect(()=>{t&&(async()=>{try{const $=GF(),ae=sL($,"trips"),Ue=xL(ae,wL("slug","==",t)),_e=await SL(Ue);if(!_e.empty){const Es=_e.docs[0],Zn=Es.data(),Uo=ee(Zn.itinerary);n({id:Es.id,...Zn,itinerary:Uo});const zl=Zn.spotsAvailable||20,Qe={};for(let Ye=1;Ye<=zl;Ye++)Qe[Ye]=Math.random()>.2;T(Qe),setTimeout(()=>K("page_load"),1e3)}}catch($){console.error("Error fetching trip:",$)}finally{s(!1)}})()},[t]),S.useEffect(()=>{const V=setInterval(()=>{C($=>({currentViewers:Math.max(3,$.currentViewers+Math.floor(Math.random()*3)-1),recentBookings:Math.floor(Math.random()*5)+1,lastBooked:Date.now()-Math.floor(Math.random()*6e5)})),T($=>{const ae={...$};if(Math.random()<.1){const Ue=Object.keys(ae).filter(_e=>ae[_e]===!0);if(Ue.length>5){const _e=Ue[Math.floor(Math.random()*Ue.length)];ae[_e]=!1}}return ae})},15e3);return()=>clearInterval(V)},[e==null?void 0:e.spotsAvailable]),S.useEffect(()=>()=>{W.current&&clearInterval(W.current)},[]),S.useEffect(()=>{let V=null;const $=[];let ae=0;const Ue=setTimeout(()=>{P>3&&!d&&!i&&h(!0)},3e4);return $.push(()=>clearTimeout(Ue)),V=()=>{const _e=window.scrollY/(document.body.scrollHeight-window.innerHeight)*100;_e>25&&ae<25?(K("scroll_milestone",10),ae=25):_e>50&&ae<50?(K("scroll_milestone",15),ae=50):_e>75&&ae<75?(K("scroll_milestone",20),ae=75):_e>90&&ae<90&&(K("scroll_milestone",25),ae=90),_e>60&&P>2&&!d&&!i&&h(!0)},window.addEventListener("scroll",V),$.push(()=>{V&&window.removeEventListener("scroll",V)}),()=>{$.forEach(_e=>_e())}},[P,d,i]);const q=()=>{O(V=>V+1),o(!0),K("booking_start",75),Br.trackInteraction("hero_book_button","click",{trip_id:e==null?void 0:e.id,trip_name:e==null?void 0:e.name,user_interactions:P}),Ti("booking_modal_opened",{trip_price:e==null?void 0:e.price,available_seats:e==null?void 0:e.spotsAvailable})},te=()=>{g==="details"?(_("seats"),dt(),Ti("details_completed",{seats_selected:x.seats,batch_selected:x.selectedBatch})):g==="seats"&&(_("payment"),Ti("seats_selected",{selected_seats:x.selectedSeats,seats_count:x.seats}))},ve=()=>{g==="seats"?(_("details"),Ti("back_to_details")):g==="payment"&&(_("seats"),Ti("back_to_seats"))},dt=()=>{Z(!0),W.current=setInterval(()=>{R(V=>V<=1?(clearInterval(W.current),Z(!1),600):V-1)},1e3)},St=(V,$)=>{const ae=x.selectedSeats.includes(V);if(k[V]!==!1){if(!ae&&x.selectedSeats.length<x.seats&&K("seat_selection",50),Br.trackInteraction("seat_selection","click",{seat_number:V,action:ae?"deselect":"select",total_selected:x.selectedSeats.length}),$&&"touches"in $){const _e=$.touches[0]||$.changedTouches[0];Br.trackClick(_e.clientX,_e.clientY,`seat_${V}`)}ae?N({...x,selectedSeats:x.selectedSeats.filter(_e=>_e!==V)}):x.selectedSeats.length<x.seats&&N({...x,selectedSeats:[...x.selectedSeats,V]})}},tt=async()=>{try{const V={name:x.name,email:x.email,phone:x.phone,seats:x.seats,selectedSeats:x.selectedSeats,selectedBatch:x.selectedBatch,tripId:e==null?void 0:e.id,tripName:e==null?void 0:e.name,amount:((e==null?void 0:e.bookingAdvance)||0)*x.seats,emergencyContact:x.emergencyContact,dietaryRequirements:x.dietaryRequirements,medicalConditions:x.medicalConditions,status:"confirmed"};await U1.createBooking(V),B1("booking",((e==null?void 0:e.bookingAdvance)||0)*x.seats),Ti("booking_completed",{final_amount:((e==null?void 0:e.bookingAdvance)||0)*x.seats,conversion_time:Date.now()-B.current});const $=` Booking Confirmed! 

Trip: ${e==null?void 0:e.name}
Seats: ${x.seats}
Batch: ${x.selectedBatch}
Amount Paid: ${((e==null?void 0:e.bookingAdvance)||0)*x.seats}

Thank you for choosing Trek & Stay Adventures!`;try{await fetch("/api/whatsapp/send-message/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:x.phone,message:$,session_id:"booking_confirmation"})})}catch(ae){console.warn("WhatsApp message failed:",ae)}_("confirmation")}catch(V){console.error("Payment completion error:",V),Br.trackError("payment_completion_failed",{error:V instanceof Error?V.message:"Unknown error"}),alert("Booking confirmation failed. Please contact us at "+((e==null?void 0:e.contactNumber)||"9902937730"))}},Et=async()=>{try{const V={...w,source:"trip_landing_page",trip_interest:e==null?void 0:e.name,current_page:`/land/${t}`,user_interactions:P,time_spent:Date.now()-B.current,device_info:{user_agent:navigator.userAgent,screen_resolution:`${window.screen.width}x${window.screen.height}`,viewport_size:`${window.innerWidth}x${window.innerHeight}`},referrer:document.referrer,timestamp:new Date().toISOString()};if(console.log("Lead captured:",V),B1("lead"),XF("lead_submitted",{lead_source:"trip_landing_page",trip_interest:e==null?void 0:e.name,conversion_time:Date.now()-B.current,user_interactions:P}),await U1.createLead(V),w.phone){const $=`Hi ${w.name}! 

Thank you for your interest in ${e==null?void 0:e.name}!

 We'll send you:
 Detailed itinerary
 Packing list
 Best deals & offers

Our adventure expert will connect with you soon to help plan your perfect trip!

- Trek & Stay Adventures Team`;try{await fetch("/api/whatsapp/send-message/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:w.phone,message:$,session_id:"lead_capture_trip_specific",lead_data:V})})}catch(ae){console.warn("WhatsApp message failed:",ae)}}m("success"),setTimeout(()=>{h(!1),m("interest")},4e3)}catch(V){console.error("Lead submission error:",V),m("success")}},Fo=V=>{const $=Math.floor(V/60),ae=V%60;return`${$}:${ae.toString().padStart(2,"0")}`},Jn=()=>`TAS${Date.now().toString().slice(-6)}`,Nt=V=>x.selectedSeats.includes(V)?"selected":k[V]===!1?"occupied":"available",Mt=V=>{const $=Math.floor((Date.now()-V)/6e4);return $<1?"just now":$<60?`${$}m ago`:`${Math.floor($/60)}h ago`},mi=async V=>{try{await navigator.clipboard.writeText(V)}catch($){console.error("Copy failed:",$)}},fn=V=>{O($=>$+1),console.log("User interaction:",V),Br.trackInteraction(V,"click",{trip_id:e==null?void 0:e.id,trip_name:e==null?void 0:e.name,user_session_interactions:P+1,page_path:window.location.pathname})},pi=V=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(V),gi=()=>{const V=((e==null?void 0:e.bookingAdvance)||0)*x.seats,$="trekandstay@ybl",ae="Trek and Stay Adventures",Ue=`TAS${Date.now()}`,_e=`Advance booking for ${e==null?void 0:e.name}`;return`upi://pay?pa=${$}&pn=${encodeURIComponent(ae)}&am=${V}&cu=INR&tn=${encodeURIComponent(_e)}&tr=${Ue}`},$l=()=>{const $=`UPI ID: trekandstay@ybl
Amount: ${(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()}
Reference: TAS${Date.now()}`;navigator.clipboard.writeText($),alert("UPI details copied to clipboard!")};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-900 flex items-center justify-center",children:a.jsx(M.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full"})}):e?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-900",children:[a.jsx("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10 sticky top-0 z-40",children:a.jsx("div",{className:"container mx-auto px-6",children:a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsxs("a",{href:"/",className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/logo.png",alt:"Trek and Stay Adventures",className:"h-10 w-10 rounded-full object-cover ring-2 ring-emerald-400 ring-offset-2 ring-offset-transparent"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"Trek & Stay"}),a.jsx("p",{className:"text-xs text-emerald-300 font-medium",children:"Adventures"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("a",{href:"tel:9902937730",className:"flex items-center space-x-2 text-emerald-300 hover:text-white transition-colors",children:[a.jsx(ns,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"9902937730"})]}),a.jsx("button",{onClick:()=>{fn("header_book_now"),q()},className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-sm font-semibold hover:bg-emerald-700 transition-all duration-300 shadow-lg hover:shadow-emerald-500/25",children:"Book Now"})]})]})})}),a.jsxs(M.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-2 px-6 text-center relative overflow-hidden",children:[a.jsx(M.div,{animate:{x:[-100,window.innerWidth]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent w-32"}),a.jsxs("div",{className:"relative z-10 flex flex-wrap justify-center items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hg,{className:"w-4 h-4"}),a.jsxs("span",{children:[I.currentViewers," people viewing"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Od,{className:"w-4 h-4"}),a.jsxs("span",{children:[I.recentBookings," booked ",Mt(I.lastBooked)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zm,{className:"w-4 h-4"}),a.jsx("span",{children:"Limited spots available"})]})]})]}),a.jsx(Ae,{children:j&&a.jsx(M.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-gradient-to-r from-red-500 to-orange-500 text-white py-3 px-6 text-center",children:a.jsxs("div",{className:"flex justify-center items-center gap-3 text-sm font-semibold",children:[a.jsx(Ma,{className:"w-5 h-5 animate-pulse"}),a.jsxs("span",{children:[" Complete your booking in ",Fo(A)," to secure your seats!"]}),a.jsx(zm,{className:"w-5 h-5 animate-spin"})]})})}),a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsx(JF,{}),a.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 p-4 lg:p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(e8,{location:(e==null?void 0:e.location)||"Maharashtra",compact:!0,className:""}),a.jsx("div",{className:"hidden xl:block",children:a.jsx($1,{onTripSelect:V=>{console.log("Selected trip:",V),fn("trek_discovery_select")}})}),a.jsx("div",{className:"xl:hidden",children:a.jsx(M.button,{onClick:()=>{document.dispatchEvent(new CustomEvent("openTrekDiscovery"))},className:"bg-white/10 backdrop-blur-md rounded-lg p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 mr-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(Nn,{className:"w-5 h-5 text-white"})})}),a.jsx(M.button,{onClick:()=>ce(!0),className:"bg-white/10 backdrop-blur-md rounded-lg p-3 border border-white/20 hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},title:"View Progress & Achievements",children:a.jsx(Gn,{className:"w-5 h-5 text-white"})})]})}),a.jsx("div",{className:"relative z-10 container mx-auto px-6 text-center text-white pt-20 lg:pt-0",children:a.jsxs(M.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[a.jsx("div",{className:"inline-block px-4 py-2 bg-emerald-500/20 rounded-full mb-6",children:a.jsx("span",{className:"text-emerald-300 font-semibold",children:((e==null?void 0:e.category)||"ADVENTURE").toUpperCase()})}),a.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:(e==null?void 0:e.name)||"Amazing Adventure"}),a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 mb-8 text-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{children:(e==null?void 0:e.location)||"Beautiful Destination"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bs,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{children:(e==null?void 0:e.duration)||"3 Days"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{children:(e==null?void 0:e.difficulty)||"Moderate"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"text-4xl font-extrabold text-emerald-400 mb-2 tracking-tight",children:[e!=null&&e.price?pi(e.price):"5,000",a.jsx("span",{className:"text-lg text-white/80 ml-2",children:"/ person"})]}),a.jsxs("p",{className:"text-emerald-200",children:["Reserve your spot with an advance of ",e!=null&&e.bookingAdvance?pi(e.bookingAdvance):"2,000"]})]}),a.jsx(z1,{primaryText:" Book Your Adventure Now",secondaryText:" Limited Time Special Offer - Seats Filling Fast!",onClick:()=>{fn("hero_animated_cta"),q()},variant:"premium",size:"xl",showCountdown:!0,className:"mb-6"}),a.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-emerald-300",children:[a.jsx(Ao,{className:"w-5 h-5"}),a.jsxs("span",{children:[Math.max(1,((e==null?void 0:e.spotsAvailable)||10)-Object.values(k).filter(V=>!V).length)," spots left"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-emerald-300",children:[a.jsx(ns,{className:"w-5 h-5"}),a.jsx("span",{children:(e==null?void 0:e.contactNumber)||"9902937730"})]})]}),a.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"mt-8 bg-red-500/90 backdrop-blur-sm rounded-full px-6 py-3 inline-block",children:a.jsxs("div",{className:"flex items-center gap-3 text-white",children:[a.jsx(M.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:a.jsx(Ma,{className:"w-5 h-5"})}),a.jsxs("span",{className:"font-semibold text-sm",children:[" ",I.recentBookings," people booked in last hour! Limited availability"]})]})})]})}),a.jsx(M.div,{animate:{y:[-20,20,-20]},transition:{duration:6,repeat:1/0},className:"absolute top-1/4 left-10 w-20 h-20 bg-emerald-500/20 rounded-full blur-xl"}),a.jsx(M.div,{animate:{y:[20,-20,20]},transition:{duration:8,repeat:1/0},className:"absolute bottom-1/4 right-10 w-32 h-32 bg-teal-500/20 rounded-full blur-xl"})]}),a.jsx("section",{className:"py-20 bg-black/20",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsx(M.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl font-bold text-center text-white mb-12",children:" Adventure Highlights"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:((e==null?void 0:e.highlights)||[]).map((V,$)=>a.jsx(M.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:$*.1,onComplete:()=>{$===0&&K("highlights_read",20)}},className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ht,{className:"w-6 h-6 text-emerald-400 mt-1 flex-shrink-0"}),a.jsx("p",{className:"text-white",children:V})]})},$))}),a.jsxs(M.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:" Test Your Adventure Knowledge"}),a.jsx(W1,{showCompact:!0,onChallengeComplete:V=>{console.log("Challenge completed:",V),K("challenge_completed",V.totalPoints)},onPointsEarned:(V,$)=>{console.log(`Challenge points: ${V} from ${$}`)}})]})]})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsx(M.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl font-bold text-center text-white mb-12",children:" Day-by-Day Itinerary"}),e!=null&&e.itinerary&&Array.isArray(e.itinerary)&&e.itinerary.length>0?a.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:e.itinerary.map((V,$)=>a.jsxs(M.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:$*.1,onComplete:()=>{$===0&&K("itinerary_view",30)}},className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 cursor-pointer",onClick:()=>{K("itinerary_interaction",15)},children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:String((V==null?void 0:V.day)||$+1)}),a.jsx("h3",{className:"text-xl font-bold text-white",children:String((V==null?void 0:V.title)||`Day ${$+1}`)})]}),V!=null&&V.content?a.jsx("div",{className:"text-white/80 mb-4",children:Array.isArray(V.content)?a.jsx("ul",{className:"space-y-2",children:(V.content||[]).map((ae,Ue)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Vt,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),a.jsx("span",{children:ae})]},Ue))}):a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Vt,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),a.jsx("p",{children:String(V.content)})]})}):V!=null&&V.description?a.jsx("div",{className:"text-white/80 mb-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Vt,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),a.jsx("p",{children:String(V.description)})]})}):V!=null&&V.activities?a.jsx("div",{className:"text-white/80 mb-4",children:Array.isArray(V.activities)?a.jsx("ul",{className:"space-y-2",children:(V.activities||[]).map((ae,Ue)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Vt,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),a.jsx("span",{children:ae})]},Ue))}):a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Vt,{className:"w-4 h-4 text-emerald-400 mt-1 flex-shrink-0"}),a.jsx("span",{children:String(V.activities)})]})}):null,a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[(V==null?void 0:V.meals)&&a.jsx("div",{className:"bg-emerald-500/20 px-3 py-1 rounded-full",children:a.jsxs("span",{className:"text-emerald-300 font-semibold",children:[" Meals: ",String(V.meals)]})}),(V==null?void 0:V.accommodation)&&a.jsx("div",{className:"bg-blue-500/20 px-3 py-1 rounded-full",children:a.jsxs("span",{className:"text-blue-300 font-semibold",children:[" Stay: ",String(V.accommodation)]})}),(V==null?void 0:V.transport)&&a.jsx("div",{className:"bg-purple-500/20 px-3 py-1 rounded-full",children:a.jsxs("span",{className:"text-purple-300 font-semibold",children:[" Transport: ",String(V.transport)]})})]})]},$))}):a.jsx("div",{className:"max-w-4xl mx-auto text-center",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20",children:[a.jsx(qn,{className:"w-16 h-16 text-emerald-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Detailed Itinerary Coming Soon!"}),a.jsx("p",{className:"text-white/70 mb-4",children:"Our adventure experts are crafting the perfect day-by-day experience for you."}),a.jsxs("p",{className:"text-emerald-300 font-semibold",children:["Call us at ",(e==null?void 0:e.contactNumber)||"9902937730"," for detailed information!"]})]})})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-emerald-600 to-teal-600",children:a.jsx("div",{className:"container mx-auto px-6 text-center",children:a.jsxs(M.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready for Your Adventure?"}),a.jsx("p",{className:"text-xl text-emerald-100 mb-8 max-w-2xl mx-auto",children:"Join us for an unforgettable journey. Limited spots available!"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:((e==null?void 0:e.batchDates)||[]).map((V,$)=>a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx(qn,{className:"w-5 h-5 inline mr-2"}),a.jsx("span",{className:"text-white font-semibold",children:V})]},$))}),a.jsx(z1,{primaryText:" Secure Your Spot Now",secondaryText:" Join 500+ Happy Adventurers - Limited Seats!",onClick:()=>{fn("cta_secure_spot_animated"),q()},variant:"premium",size:"lg",showCountdown:!0})]})})}),a.jsx(Ae,{children:i&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[g==="details"&&"1. Booking Details",g==="seats"&&"2. Select Seats",g==="payment"&&"3. Payment",g==="confirmation"&&"4. Confirmed!"]}),a.jsx("button",{onClick:()=>{o(!1),_("details"),W.current&&clearInterval(W.current)},className:"text-gray-500 hover:text-gray-700",children:a.jsx(Cc,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex space-x-4",children:["details","seats","payment","confirmation"].map((V,$)=>a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${g===V?"bg-emerald-500":["details","seats","payment","confirmation"].indexOf(g)>$?"bg-emerald-300":"bg-gray-200"}`})},V))})]}),a.jsxs("div",{className:"p-6",children:[g==="details"&&a.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",value:x.name,onChange:V=>N({...x,name:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Full Name *"}),a.jsx("input",{type:"email",value:x.email,onChange:V=>N({...x,email:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Email Address *"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx("input",{type:"tel",value:x.phone,onChange:V=>N({...x,phone:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"WhatsApp Number *"}),a.jsx("select",{value:x.seats,onChange:V=>N({...x,seats:parseInt(V.target.value),selectedSeats:[]}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[1,2,3,4,5,6].map(V=>a.jsxs("option",{value:V,children:[V," People"]},V))})]}),a.jsxs("select",{value:x.selectedBatch,onChange:V=>N({...x,selectedBatch:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Select Batch *"}),((e==null?void 0:e.batchDates)||[]).map((V,$)=>a.jsx("option",{value:V,children:V},$))]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"Advance Payment:"}),a.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["",(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()]})]})}),a.jsxs("button",{onClick:te,disabled:!x.name||!x.email||!x.phone||!x.selectedBatch,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-4 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[!x.name||!x.email||!x.phone||!x.selectedBatch?"Please fill all required fields":"Continue to Seat Selection",a.jsx(jt,{className:"w-5 h-5"})]})]}),g==="seats"&&a.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsxs("h4",{className:"text-lg font-semibold mb-2",children:["Select ",x.seats," seat",x.seats>1?"s":""]})}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsx("div",{className:"inline-block bg-gray-800 text-white px-3 py-1 rounded text-sm",children:"Driver"})}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:(e==null?void 0:e.spotsAvailable)||20},(V,$)=>$+1).map(V=>a.jsx(M.button,{onClick:$=>St(V,$),onTouchEnd:$=>St(V,$),disabled:Nt(V)==="occupied",whileHover:{scale:Nt(V)!=="occupied"?1.1:1},whileTap:{scale:Nt(V)!=="occupied"?.9:1},className:"aspect-square rounded text-sm font-bold transition-all duration-200 min-h-[44px] touch-manipulation "+(Nt(V)==="selected"?"bg-emerald-500 text-white shadow-lg":Nt(V)==="occupied"?"bg-red-200 text-red-800 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300 active:bg-gray-400"),children:V},V))})]})}),a.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4"}),a.jsx("button",{onClick:ve,className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-all duration-300",children:"Back"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:te,disabled:x.selectedSeats.length!==x.seats,className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-emerald-700 transition-all duration-300",children:x.selectedSeats.length?"Continue to Payment":"Please select seats"}),a.jsx(jt,{className:"w-4 h-4"})]})]})]})]}),g==="payment"&&a.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Payment Details"})}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsx("div",{className:"inline-block bg-gray-800 text-white px-3 py-1 rounded text-sm",children:"Payment"})}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ew,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{className:"font-semibold",children:"UPI Payment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(df,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{className:"font-semibold",children:"Scan QR Code"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ts,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{className:"font-semibold",children:"Pay via UPI ID"})]})]})]})}),a.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4"}),a.jsx("button",{onClick:ve,className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-all duration-300",children:"Back"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:tt,className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-all duration-300",children:"Complete Payment"}),a.jsx(jt,{className:"w-4 h-4"})]})]})]})]}),g==="confirmation"&&a.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Booking Confirmed!"})}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsx("div",{className:"inline-block bg-gray-800 text-white px-3 py-1 rounded text-sm",children:"Confirmation"})}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vt,{className:"w-5 h-5 text-emerald-400"}),a.jsxs("span",{className:"font-semibold",children:["Booking Reference: ",Jn()]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ts,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{className:"font-semibold",children:"Thank you for choosing Trek & Stay Adventures!"})]})]})]})}),a.jsx("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4"}),a.jsx("button",{onClick:()=>o(!1),className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-all duration-300",children:"Close"})]})})]})]})]})]})})}),a.jsx(Ae,{children:d&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[f==="interest"&&"1. Show Interest",f==="details"&&"2. Provide Details",f==="success"&&"3. Success!"]}),a.jsx("button",{onClick:()=>{h(!1),m("interest")},className:"text-gray-500 hover:text-gray-700",children:a.jsx(Cc,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex space-x-4",children:["interest","details","success"].map((V,$)=>a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${f===V?"bg-emerald-500":["interest","details","success"].indexOf(f)>$?"bg-emerald-300":"bg-gray-200"}`})},V))})]}),a.jsxs("div",{className:"p-6",children:[f==="interest"&&a.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsxs("h4",{className:"text-lg font-semibold mb-2",children:["Show Interest in ",e==null?void 0:e.name]})}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsx("div",{className:"inline-block bg-gray-800 text-white px-3 py-1 rounded text-sm",children:"Interest"})}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ts,{className:"w-5 h-5 text-emerald-400"}),a.jsxs("span",{className:"font-semibold",children:["I'm interested in ",e==null?void 0:e.name,"!"]})]})})]})}),a.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4"}),a.jsx("button",{onClick:()=>h(!1),className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-all duration-300",children:"Close"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>m("details"),className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-all duration-300",children:"Provide Details"}),a.jsx(jt,{className:"w-4 h-4"})]})]})]})]}),f==="details"&&a.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Provide Your Details"})}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsx("div",{className:"inline-block bg-gray-800 text-white px-3 py-1 rounded text-sm",children:"Details"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",value:w.name,onChange:V=>v({...w,name:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Full Name *"}),a.jsx("input",{type:"tel",value:w.phone,onChange:V=>v({...w,phone:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"WhatsApp Number *"}),a.jsx("input",{type:"email",value:w.email,onChange:V=>v({...w,email:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Email Address *"}),a.jsx("textarea",{value:w.interest,onChange:V=>v({...w,interest:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"Tell us more about your interest...",rows:3})]})]})}),a.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4"}),a.jsx("button",{onClick:()=>m("interest"),className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-all duration-300",children:"Back"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:Et,className:"bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-all duration-300",children:"Submit"}),a.jsx(jt,{className:"w-4 h-4"})]})]})]})]}),f==="success"&&a.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Thank you for your interest!"})}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsx("div",{className:"inline-block bg-gray-800 text-white px-3 py-1 rounded text-sm",children:"Success"})}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vt,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{className:"font-semibold",children:"We'll be in touch soon!"})]})})]})}),a.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),a.jsx("span",{children:"Available"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-emerald-500 rounded"}),a.jsx("span",{children:"Selected"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-200 rounded"}),a.jsx("span",{children:"Occupied"})]})]})]}),x.selectedSeats.length>0&&a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg",children:a.jsxs("p",{className:"text-emerald-800 font-semibold",children:["Selected: ",x.selectedSeats.sort().join(", ")]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:ve,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-200 flex items-center justify-center gap-2",children:[a.jsx(Ar,{className:"w-5 h-5"})," Back"]}),a.jsxs("button",{onClick:te,disabled:x.selectedSeats.length!==x.seats,className:"flex-1 bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 rounded-lg font-bold disabled:opacity-50 hover:shadow-lg flex items-center justify-center gap-2",children:["Proceed to Payment ",a.jsx(jt,{className:"w-5 h-5"})]})]})]}),g==="payment"&&a.jsxs(M.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-4 rounded-xl flex items-center gap-3 shadow-lg",children:[a.jsx(E3,{className:"w-6 h-6 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:" Seats Secured!"}),a.jsx("p",{className:"text-sm opacity-90",children:"Your seats are confirmed. Complete payment to finalize your booking."})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[a.jsx("h5",{className:"font-semibold mb-4",children:"Booking Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Trip:"}),a.jsx("span",{className:"font-medium",children:e==null?void 0:e.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Seats:"}),a.jsx("span",{className:"font-medium",children:x.selectedSeats.sort().join(", ")})]}),a.jsxs("div",{className:"flex justify-between font-semibold border-t pt-2",children:[a.jsx("span",{children:"Advance Payment:"}),a.jsxs("span",{className:"text-emerald-600",children:["",(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-xl",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx(tw,{className:"w-16 h-16 mx-auto text-purple-600 mb-2"}),a.jsx("p",{className:"font-medium",children:"Pay with UPI"})]}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"/upi.jpeg",alt:"UPI Payment",className:"w-48 h-auto rounded-lg shadow-md"})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border-dashed border-2 border-purple-300 mb-4",children:a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"UPI ID:"})," trekandstay@ybl"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Amount:"})," ",(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Ref:"})," ",Jn()]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("a",{href:gi(),className:"w-full bg-green-500 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[a.jsx(df,{className:"w-5 h-5"})," Pay with UPI"]}),a.jsxs("button",{onClick:()=>mi(`UPI: trekandstay@ybl
Amount: `+(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[a.jsx(_3,{className:"w-5 h-5"})," Copy Details"]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:ve,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[a.jsx(Ar,{className:"w-5 h-5"})," Back"]}),a.jsxs("button",{onClick:tt,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 hover:from-green-600 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105 shadow-lg shadow-green-500/30",children:[a.jsx(g3,{className:"w-5 h-5"})," Booking Confirmed - Seats Secured!"]})]})]}),g==="confirmation"&&a.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-6",children:[a.jsx(M.div,{animate:{scale:[0,1.2,1]},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:a.jsx(Vt,{className:"w-12 h-12 text-green-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Booking Confirmed!"}),a.jsxs("p",{className:"text-gray-600",children:["Thank you ",x.name,"! Your adventure awaits."]})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-xl text-left",children:[a.jsx("h4",{className:"font-semibold text-emerald-800 mb-3",children:"Booking Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Reference:"}),a.jsx("span",{className:"font-bold",children:Jn()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Seats:"}),a.jsx("span",{children:x.selectedSeats.sort().join(", ")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Paid:"}),a.jsxs("span",{className:"font-bold text-emerald-600",children:["",(((e==null?void 0:e.bookingAdvance)||0)*x.seats).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex items-center gap-3",children:[a.jsx(d3,{className:"w-5 h-5 text-blue-600"}),a.jsx("div",{className:"text-left text-blue-800",children:a.jsxs("p",{className:"font-semibold text-sm",children:["WhatsApp confirmation sent to ",x.phone]})})]}),a.jsx("button",{onClick:()=>{o(!1),_("details"),W.current&&clearInterval(W.current)},className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 rounded-lg font-bold",children:"Close"})]})]})]})})}),a.jsx(Ae,{children:l&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-8 max-w-md w-full",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Payment - ",(e.bookingAdvance*x.seats).toLocaleString()]}),b==="upi"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-xl",children:[a.jsx(tw,{className:"w-24 h-24 mx-auto text-purple-600 mb-4"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Scan QR code with any UPI app"}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"/upi.jpeg",alt:"UPI Payment",className:"w-48 h-auto rounded-lg shadow-md"})}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-dashed border-purple-300",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["UPI ID: ",a.jsx("span",{className:"font-bold",children:"trekandstay@ybl"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",a.jsxs("span",{className:"font-bold",children:["",(e.bookingAdvance*x.seats).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("a",{href:gi(),className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-6 rounded-lg font-bold flex items-center justify-center gap-2 hover:shadow-lg transition-all duration-300",children:[a.jsx(df,{className:"w-5 h-5"}),"Pay with UPI App"]}),a.jsxs("button",{onClick:$l,className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg font-bold flex items-center justify-center gap-2 hover:bg-gray-200 transition-all duration-300",children:[a.jsx(ew,{className:"w-5 h-5"}),"Copy UPI Details"]}),a.jsx("button",{onClick:()=>D("success"),className:"w-full bg-blue-500 text-white py-3 px-6 rounded-lg font-bold hover:bg-blue-600 transition-all duration-300",children:"I have completed the payment"})]})]}),b==="success"&&a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:a.jsx(Vt,{className:"w-12 h-12 text-green-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:"Booking Confirmed! "}),a.jsx("p",{className:"text-gray-600",children:"Thank you for booking with us. You'll receive a confirmation on WhatsApp shortly."})]}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:a.jsxs("p",{className:"text-sm text-green-700",children:[" WhatsApp updates will be sent to: ",a.jsx("span",{className:"font-bold",children:x.phone})]})}),a.jsx("button",{onClick:()=>{c(!1),D("details")},className:"bg-emerald-500 text-white px-8 py-3 rounded-lg font-bold hover:bg-emerald-600 transition-all duration-300",children:"Done"})]}),a.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:a.jsx(Cc,{className:"w-6 h-6"})})]})})})}),a.jsx(Ae,{children:d&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(M.div,{initial:{scale:.8,opacity:0,rotateY:90},animate:{scale:1,opacity:1,rotateY:0},exit:{scale:.8,opacity:0,rotateY:-90},transition:{type:"spring",damping:20,stiffness:300},className:"bg-gradient-to-br from-white to-emerald-50 rounded-2xl p-8 max-w-md w-full relative overflow-hidden",children:[a.jsx(M.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br from-emerald-200 to-teal-200 rounded-full opacity-20"}),a.jsx(M.div,{animate:{rotate:-360},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute -bottom-10 -left-10 w-40 h-40 bg-gradient-to-br from-purple-200 to-pink-200 rounded-full opacity-20"}),a.jsxs("div",{className:"relative z-10",children:[f==="interest"&&a.jsxs("div",{className:"text-center",children:[a.jsx(M.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ts,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Love This Adventure?"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Get exclusive deals and early access to new trips!"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>m("details"),className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 px-6 rounded-lg font-bold hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:" Yes, Keep Me Updated!"}),a.jsx("button",{onClick:()=>h(!1),className:"w-full bg-gray-100 text-gray-600 py-3 px-6 rounded-lg font-medium hover:bg-gray-200 transition-all duration-300",children:"Maybe Later"})]})]}),f==="details"&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(M.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:3},className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ZT,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:" Claim Your Benefits"}),a.jsx("p",{className:"text-gray-600",children:"Join 500+ adventure enthusiasts!"})]}),a.jsxs("form",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("input",{type:"text",value:w.name,onChange:V=>v({...w,name:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Your Name"})}),a.jsx("div",{children:a.jsx("input",{type:"tel",value:w.phone,onChange:V=>v({...w,phone:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"WhatsApp Number"})}),a.jsx("div",{children:a.jsx("input",{type:"email",value:w.email,onChange:V=>v({...w,email:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Email (Optional)"})}),a.jsx("div",{children:a.jsxs("select",{value:w.interest,onChange:V=>v({...w,interest:V.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[a.jsx("option",{value:"",children:"What interests you most?"}),a.jsx("option",{value:"adventure",children:"Adventure Activities"}),a.jsx("option",{value:"trekking",children:"Trekking & Hiking"}),a.jsx("option",{value:"camping",children:"Camping Experiences"}),a.jsx("option",{value:"photography",children:"Photography Tours"}),a.jsx("option",{value:"wellness",children:"Wellness Retreats"})]})}),a.jsxs("button",{type:"button",onClick:Et,disabled:!w.name||!w.phone,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-3 px-6 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[a.jsx(A3,{className:"w-5 h-5 inline mr-2"}),"Get My Benefits!"]})]})]}),f==="success"&&a.jsxs("div",{className:"text-center",children:[a.jsx(M.div,{animate:{scale:[0,1.2,1]},transition:{duration:.6},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vt,{className:"w-12 h-12 text-green-500"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Welcome Aboard!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You'll receive exclusive deals and trip updates on WhatsApp!"}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg",children:a.jsxs("p",{className:"text-sm text-emerald-700",children:[" Thank you ",w.name,"! Check your WhatsApp for a special welcome offer."]})})]}),a.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(Cc,{className:"w-6 h-6"})})]})]})})}),a.jsx("div",{className:"fixed bottom-20 right-6 z-40 md:bottom-6",children:a.jsx(ZF,{tripData:e,onActionClick:(V,$)=>{fn(`floating_action_${V}`),console.log("Action clicked:",V,$)}})}),a.jsx("div",{className:"xl:hidden",children:a.jsx($1,{onTripSelect:V=>{console.log("Selected trip:",V),fn("trek_discovery_select_mobile"),K("trip_discovery",25)}})}),a.jsx(n8,{onPointsEarned:(V,$)=>{console.log(`Earned ${V} points for ${$}`)},onAchievementUnlocked:V=>{console.log("Achievement unlocked:",V.name)},onLevelUp:V=>{console.log(`Level up! Now level ${V}`)}}),a.jsx(q1,{tripData:e,showRealTimeAnalytics:!1,className:"fixed top-4 left-4 z-30 hidden lg:block",onLeadScoreUpdate:V=>{console.log("Lead score updated:",V)},onHighValueAction:(V,$)=>{console.log(`High value action: ${V} (${$})`)}}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-emerald-500 to-teal-500 p-4 z-30 md:hidden",children:a.jsxs("div",{className:"flex items-center justify-between text-white",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-bold",children:["",e==null?void 0:e.price.toLocaleString()]}),a.jsx("div",{className:"text-sm opacity-90",children:"per person"})]}),a.jsx("button",{onClick:()=>{fn("sticky_book_now"),q()},className:"bg-white text-emerald-600 px-6 py-2 rounded-full font-bold hover:bg-gray-100 transition-all duration-300",children:"Book Now"})]})}),a.jsx(Ae,{children:le&&a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:" Adventure Progress Dashboard"}),a.jsx("button",{onClick:()=>ce(!1),className:"text-gray-500 hover:text-gray-700 transition-colors text-2xl",children:""})]}),a.jsx("div",{className:"mb-8",children:a.jsx(a8,{showDetailed:!0,onJourneyStepComplete:V=>{console.log("Journey step completed:",V.name),K("journey_step",V.points)}})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Achievements & Badges"}),a.jsx(i8,{showDetailed:!0,onBadgeUnlocked:V=>{console.log("Badge unlocked:",V.name)}})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Adventure Challenges"}),a.jsx(W1,{showCompact:!1,onChallengeComplete:V=>{console.log("Challenge completed in dashboard:",V),K("dashboard_challenge",V.totalPoints)},onPointsEarned:(V,$)=>{console.log(`Dashboard challenge points: ${V} from ${$}`)}})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Live Analytics"}),a.jsx(q1,{tripData:e,showRealTimeAnalytics:!0,onLeadScoreUpdate:V=>{console.log("Dashboard lead score updated:",V)},onHighValueAction:(V,$)=>{console.log(`Dashboard high value action: ${V} (${$})`)}})]})]})})})})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-teal-800 to-cyan-900 flex items-center justify-center text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Trip Not Found"}),a.jsx("p",{children:"The trip you're looking for doesn't exist."})]})})};class f8 extends S.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){var r;console.error("ErrorBoundary caught an error:",e,n),(r=e.message)!=null&&r.includes("Component analytics has not been registered")&&console.warn("Analytics component registration error - this is safe to ignore")}render(){var e,n;return this.state.hasError?(n=(e=this.state.error)==null?void 0:e.message)!=null&&n.includes("Component analytics has not been registered")?this.props.fallback||a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-sm font-medium",children:"Analytics Loading"}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Charts will appear once initialized"})]})}):this.props.fallback||a.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:a.jsxs("div",{className:"text-center text-red-600",children:[a.jsx("div",{className:"text-sm font-medium",children:"Something went wrong"}),a.jsx("div",{className:"text-xs text-red-400 mt-1",children:"Please refresh the page"})]})}):this.props.children}}const m8={},G1=t=>{let e;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,f))}},s=()=>e,l={setState:r,getState:s,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(m8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,s,l),l},p8=t=>t?G1(t):G1;var UN={exports:{}},BN={},$N={exports:{}},zN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=S;function g8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var y8=typeof Object.is=="function"?Object.is:g8,v8=So.useState,x8=So.useEffect,w8=So.useLayoutEffect,_8=So.useDebugValue;function b8(t,e){var n=e(),r=v8({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return w8(function(){s.value=n,s.getSnapshot=e,If(s)&&i({inst:s})},[t,n,e]),x8(function(){return If(s)&&i({inst:s}),t(function(){If(s)&&i({inst:s})})},[t]),_8(n),n}function If(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!y8(t,n)}catch{return!0}}function T8(t,e){return e()}var S8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T8:b8;zN.useSyncExternalStore=So.useSyncExternalStore!==void 0?So.useSyncExternalStore:S8;$N.exports=zN;var E8=$N.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=S,N8=E8;function k8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var I8=typeof Object.is=="function"?Object.is:k8,C8=N8.useSyncExternalStore,j8=ih.useRef,A8=ih.useEffect,P8=ih.useMemo,R8=ih.useDebugValue;BN.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=j8(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=P8(function(){function c(g){if(!d){if(d=!0,h=g,g=r(g),s!==void 0&&o.hasValue){var _=o.value;if(s(_,g))return f=_}return f=g}if(_=f,I8(h,g))return _;var x=r(g);return s!==void 0&&s(_,x)?_:(h=g,f=x)}var d=!1,h,f,m=n===void 0?null:n;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,n,r,s]);var l=C8(t,i[0],i[1]);return A8(function(){o.hasValue=!0,o.value=l},[l]),R8(l),l};UN.exports=BN;var D8=UN.exports;const M8=X1(D8),HN={},{useDebugValue:V8}=ud,{useSyncExternalStoreWithSelector:L8}=M8;let K1=!1;function O8(t,e=t.getState,n){(HN?"production":void 0)!=="production"&&n&&!K1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),K1=!0);const r=L8(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return V8(r),r}const F8=t=>{(HN?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?p8(t):t,n=(r,s)=>O8(e,r,s);return Object.assign(n,e),n},U8=t=>F8,B8={};function $8(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const xl=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return xl(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return xl(r)(n)}}}},z8=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:N=>N,version:0,merge:(N,w)=>({...w,...N}),...e},o=!1;const l=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return t((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...N)},r,s);const h=xl(i.serialize),f=()=>{const N=i.partialize({...r()});let w;const v=h({state:N,version:i.version}).then(b=>d.setItem(i.name,b)).catch(b=>{w=b});if(w)throw w;return v},m=s.setState;s.setState=(N,w)=>{m(N,w),f()};const g=t((...N)=>{n(...N),f()},r,s);let _;const x=()=>{var N;if(!d)return;o=!1,l.forEach(v=>v(r()));const w=((N=i.onRehydrateStorage)==null?void 0:N.call(i,r()))||void 0;return xl(d.getItem.bind(d))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return _=i.merge(v,(b=r())!=null?b:g),n(_,!0),f()}).then(()=>{w==null||w(_,void 0),o=!0,c.forEach(v=>v(_))}).catch(v=>{w==null||w(void 0,v)})};return s.persist={setOptions:N=>{i={...i,...N},N.getStorage&&(d=N.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:N=>(l.add(N),()=>{l.delete(N)}),onFinishHydration:N=>(c.add(N),()=>{c.delete(N)})},x(),_||g},H8=(t,e)=>(n,r,s)=>{let i={storage:$8(()=>localStorage),partialize:x=>x,version:0,merge:(x,N)=>({...N,...x}),...e},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const h=()=>{const x=i.partialize({...r()});return d.setItem(i.name,{state:x,version:i.version})},f=s.setState;s.setState=(x,N)=>{f(x,N),h()};const m=t((...x)=>{n(...x),h()},r,s);let g;const _=()=>{var x,N;if(!d)return;o=!1,l.forEach(v=>{var b;return v((b=r())!=null?b:m)});const w=((N=i.onRehydrateStorage)==null?void 0:N.call(i,(x=r())!=null?x:m))||void 0;return xl(d.getItem.bind(d))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return g=i.merge(v,(b=r())!=null?b:m),n(g,!0),h()}).then(()=>{w==null||w(g,void 0),g=r(),o=!0,c.forEach(v=>v(g))}).catch(v=>{w==null||w(void 0,v)})};return s.persist={setOptions:x=>{i={...i,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||_(),g||m},W8=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((B8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),z8(t,e)):H8(t,e),q8=W8,Q1={name:"",email:"",whatsapp:"",budget:[5e3,5e4],preferredDates:{startDate:"",endDate:""},tripPreferences:[],leadSource:"",currentPage:"",timeSpent:0},fr=U8()(q8((t,e)=>({isOpen:!1,currentStep:1,totalSteps:3,formData:Q1,isLoading:!1,errors:{},isSubmitted:!1,triggerCount:0,lastShown:0,dismissedCount:0,availableTrips:[],openPopup:(n,r)=>{const s=Date.now(),i=e().lastShown;s-i<36e5&&e().dismissedCount>0||e().triggerCount>=3||e().isSubmitted||t(o=>({isOpen:!0,currentStep:1,triggerCount:o.triggerCount+1,lastShown:s,formData:{...o.formData,leadSource:n,currentPage:r,timeSpent:0},errors:{}}))},closePopup:()=>{t({isOpen:!1,currentStep:1})},nextStep:()=>{t(n=>({currentStep:Math.min(n.currentStep+1,n.totalSteps)}))},prevStep:()=>{t(n=>({currentStep:Math.max(n.currentStep-1,1)}))},updateFormData:n=>{t(r=>({formData:{...r.formData,...n}}))},updateTripPreference:(n,r)=>{t(s=>({formData:{...s.formData,tripPreferences:s.formData.tripPreferences.map(i=>i.id===n?{...i,interested:r}:i)}}))},setErrors:n=>{t({errors:n})},setLoading:n=>{t({isLoading:n})},submitLead:async()=>{const{formData:n,setLoading:r,setErrors:s,closePopup:i}=e();r(!0),s({});try{const o={};n.name.trim()||(o.name="Name is required"),n.email.trim()||(o.email="Email is required"),n.whatsapp.trim()||(o.whatsapp="WhatsApp number is required");const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;n.email&&!l.test(n.email)&&(o.email="Please enter a valid email address");const c=/^[6-9]\d{9}$/;if(n.whatsapp&&!c.test(n.whatsapp.replace(/\D/g,""))&&(o.whatsapp="Please enter a valid 10-digit mobile number"),Object.keys(o).length>0){s(o),r(!1);return}if(!(await fetch("/api/leads/capture/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,interested_trips:n.tripPreferences.filter(h=>h.interested).map(h=>h.id),submission_timestamp:new Date().toISOString()})})).ok)throw new Error("Failed to submit lead");if(t({isSubmitted:!0}),i(),n.whatsapp)try{await fetch("/api/whatsapp/send-message/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n.whatsapp,message:`Hi ${n.name}!  Thanks for your interest in Trek and Stay adventures. Our team will connect with you soon to help plan your perfect trip!`,session_id:"lead_capture"})})}catch(h){console.warn("WhatsApp message failed:",h)}}catch(o){console.error("Lead submission error:",o),s({submit:"Something went wrong. Please try again."})}finally{r(!1)}},resetForm:()=>{t({formData:Q1,currentStep:1,errors:{},isLoading:!1})},dismissPopup:()=>{t(n=>({isOpen:!1,dismissedCount:n.dismissedCount+1,lastShown:Date.now()}))},loadTripsForSelection:n=>{t(r=>({availableTrips:n,formData:{...r.formData,tripPreferences:n.map(s=>({...s,interested:!1}))}}))}}),{name:"lead-capture-storage",partialize:t=>({triggerCount:t.triggerCount,lastShown:t.lastShown,dismissedCount:t.dismissedCount,isSubmitted:t.isSubmitted})})),Y1=()=>{const{formData:t,updateFormData:e,errors:n}=fr(),[r,s]=S.useState({}),i=(d,h)=>{e({[d]:h}),s(f=>({...f,[d]:!0}))},o=d=>{const f=d.replace(/\D/g,"").slice(0,10);return f.length>=6?`${f.slice(0,3)}-${f.slice(3,6)}-${f.slice(6)}`:f.length>=3?`${f.slice(0,3)}-${f.slice(3)}`:f},l={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return a.jsxs(M.div,{variants:l,initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsxs(M.div,{variants:c,className:"text-center mb-8",children:[a.jsx("h3",{className:"text-2xl font-oswald font-bold text-gray-900 mb-2",children:"Ready for Your Next Adventure? "}),a.jsx("p",{className:"text-gray-600",children:"Join thousands of adventure seekers who've discovered their perfect trip with us!"}),a.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"500+ Happy Travelers"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{children:"50+ Destinations"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(M.div,{variants:c,children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"What should we call you? *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(nS,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",id:"name",value:t.name,onChange:d=>i("name",d.target.value),className:`
                block w-full pl-10 pr-3 py-3 border rounded-lg
                focus:ring-2 focus:ring-adventure-orange focus:border-transparent
                transition-colors duration-200
                ${n.name&&r.name?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}
              `,placeholder:"Enter your full name",autoFocus:!0}),n.name&&r.name&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx(Ma,{className:"h-5 w-5 text-red-400"})})]}),n.name&&r.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.name})]}),a.jsxs(M.div,{variants:c,children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Wg,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",value:t.email,onChange:d=>i("email",d.target.value),className:`
                block w-full pl-10 pr-3 py-3 border rounded-lg
                focus:ring-2 focus:ring-adventure-orange focus:border-transparent
                transition-colors duration-200
                ${n.email&&r.email?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}
              `,placeholder:"your.email@example.com"}),n.email&&r.email&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx(Ma,{className:"h-5 w-5 text-red-400"})})]}),n.email&&r.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"We'll send you trip recommendations and important updates"})]}),a.jsxs(M.div,{variants:c,children:[a.jsx("label",{htmlFor:"whatsapp",className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ns,{className:"h-5 w-5 text-gray-400"})}),a.jsx("div",{className:"absolute inset-y-0 left-10 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 text-sm",children:"+91"})}),a.jsx("input",{type:"tel",id:"whatsapp",value:t.whatsapp,onChange:d=>i("whatsapp",o(d.target.value)),className:`
                block w-full pl-20 pr-3 py-3 border rounded-lg
                focus:ring-2 focus:ring-adventure-orange focus:border-transparent
                transition-colors duration-200
                ${n.whatsapp&&r.whatsapp?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"}
              `,placeholder:"98765-43210",maxLength:12}),n.whatsapp&&r.whatsapp&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx(Ma,{className:"h-5 w-5 text-red-400"})})]}),n.whatsapp&&r.whatsapp&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.whatsapp}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"We'll connect with you via WhatsApp for trip planning and updates"})]})]}),a.jsxs(M.div,{variants:c,className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-4 mt-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Why share your details?"}),a.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),a.jsx("span",{children:"Get personalized trip recommendations"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),a.jsx("span",{children:"Instant WhatsApp support from our travel experts"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),a.jsx("span",{children:"Exclusive deals and early access to new destinations"})]})]})]})]})},G8=()=>{const{formData:t,updateFormData:e,updateTripPreference:n,loadTripsForSelection:r}=fr(),[s,i]=S.useState([]);S.useEffect(()=>{(async()=>{try{const g=[{id:"maharashtra-7day",name:"Maharashtra 7 Days Adventure",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop",price:15e3,duration:"7 days",difficulty:"Moderate",interested:!1},{id:"maharashtra-5day",name:"Waterfall Edition 5 Days",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=200&fit=crop",price:9e3,duration:"5 days",difficulty:"Easy",interested:!1},{id:"rajmachi-trek",name:"Rajmachi Fort Trek",image:"https://images.unsplash.com/photo-1464822759844-d150baec53c1?w=300&h=200&fit=crop",price:3500,duration:"2 days",difficulty:"Easy",interested:!1},{id:"devkund-waterfall",name:"Devkund Waterfall Trek",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop",price:2500,duration:"1 day",difficulty:"Easy",interested:!1},{id:"bhandardara",name:"Bhandardara Adventure",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=200&fit=crop",price:4500,duration:"2 days",difficulty:"Moderate",interested:!1},{id:"lonavala-khandala",name:"Lonavala-Khandala Escape",image:"https://images.unsplash.com/photo-1464822759844-d150baec53c1?w=300&h=200&fit=crop",price:3e3,duration:"2 days",difficulty:"Easy",interested:!1}];i(g),r(g)}catch(g){console.error("Failed to load trips:",g)}})()},[r]);const o=m=>{e({budget:[m[0],m[1]]})},l=(m,g)=>{e({preferredDates:{...t.preferredDates,[m]:g}})},c=m=>{switch(m.toLowerCase()){case"easy":return"bg-green-100 text-green-700";case"moderate":return"bg-yellow-100 text-yellow-700";case"hard":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},f=new Date().toISOString().split("T")[0];return a.jsxs(M.div,{variants:d,initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsxs(M.div,{variants:h,className:"text-center",children:[a.jsx("h3",{className:"text-xl font-oswald font-bold text-gray-900 mb-2",children:"Tell us about your dream adventure! "}),a.jsx("p",{className:"text-gray-600",children:"Help us find the perfect trip that matches your preferences and budget"})]}),a.jsxs(M.div,{variants:h,className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[a.jsx(b3,{className:"inline w-4 h-4 mr-1"}),"Budget Range (per person)"]}),a.jsxs("div",{className:"px-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["",t.budget[0].toLocaleString()]}),a.jsxs("span",{className:"text-sm text-gray-600",children:["",t.budget[1].toLocaleString()]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"range",min:"1000",max:"100000",step:"1000",value:t.budget[0],onChange:m=>o([parseInt(m.target.value),t.budget[1]]),className:"absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb"}),a.jsx("input",{type:"range",min:"1000",max:"100000",step:"1000",value:t.budget[1],onChange:m=>o([t.budget[0],parseInt(m.target.value)]),className:"absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb"})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[{label:"Budget",range:[2e3,8e3]},{label:"Mid-Range",range:[8e3,2e4]},{label:"Premium",range:[2e4,5e4]}].map(m=>a.jsx("button",{onClick:()=>o(m.range),className:"px-3 py-2 text-xs border border-gray-300 rounded-lg hover:border-adventure-orange hover:bg-orange-50 transition-colors",children:m.label},m.label))})]}),a.jsxs(M.div,{variants:h,className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(qn,{className:"inline w-4 h-4 mr-1"}),"Preferred Start Date"]}),a.jsx("input",{type:"date",id:"startDate",value:t.preferredDates.startDate,onChange:m=>l("startDate",m.target.value),min:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-adventure-orange focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(qn,{className:"inline w-4 h-4 mr-1"}),"Preferred End Date"]}),a.jsx("input",{type:"date",id:"endDate",value:t.preferredDates.endDate,onChange:m=>l("endDate",m.target.value),min:t.preferredDates.startDate||f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-adventure-orange focus:border-transparent"})]})]}),a.jsxs(M.div,{variants:h,className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[a.jsx(ln,{className:"inline w-4 h-4 mr-1"}),"Which adventures interest you? (Select all that apply)"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.tripPreferences.map(m=>a.jsxs(M.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`
                relative p-3 border-2 rounded-lg cursor-pointer transition-all duration-200
                ${m.interested?"border-adventure-orange bg-orange-50":"border-gray-200 hover:border-gray-300"}
              `,onClick:()=>n(m.id,!m.interested),children:[a.jsx("div",{className:`
                absolute top-2 right-2 w-5 h-5 rounded-full border-2 flex items-center justify-center
                ${m.interested?"border-adventure-orange bg-adventure-orange":"border-gray-300"}
              `,children:m.interested&&a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),a.jsx("div",{className:"w-full h-24 bg-gray-200 rounded-lg mb-2 overflow-hidden",children:a.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover"})}),a.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-1 pr-6",children:m.name}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(bs,{className:"w-3 h-3 mr-1"}),m.duration]}),a.jsx("span",{className:`px-2 py-1 rounded-full ${c(m.difficulty)}`,children:m.difficulty})]}),a.jsxs("span",{className:"font-semibold text-adventure-orange",children:["",m.price.toLocaleString()]})]})]},m.id))}),t.tripPreferences.filter(m=>m.interested).length>0&&a.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-sm text-green-700",children:["Great choice! You've selected ",t.tripPreferences.filter(m=>m.interested).length," adventure(s). We'll personalize recommendations based on your interests."]})})]})]})},K8=()=>{const{formData:t}=fr(),e=S.useMemo(()=>{const i=t.tripPreferences.filter(h=>h.interested),[o,l]=t.budget,c=i.filter(h=>h.price>=o&&h.price<=l);return(c.length>0?c:i.slice(0,3)).map(h=>({...h,matchScore:Math.floor(Math.random()*15)+85,availableSlots:Math.floor(Math.random()*8)+2,rating:(Math.random()*.8+4.2).toFixed(1)}))},[t.tripPreferences,t.budget]),n=()=>e.reduce((i,o)=>i+o.price,0),r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return a.jsxs(M.div,{variants:r,initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsxs(M.div,{variants:s,className:"text-center",children:[a.jsxs("h3",{className:"text-xl font-oswald font-bold text-gray-900 mb-2",children:["Perfect Adventures Await, ",t.name,"! "]}),a.jsx("p",{className:"text-gray-600",children:"Based on your preferences, here are our top recommendations"})]}),e.length>0?a.jsxs(M.div,{variants:s,className:"space-y-4",children:[e.map((i,o)=>a.jsxs(M.div,{variants:s,whileHover:{scale:1.02},className:"relative bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-all duration-200",children:[a.jsx("div",{className:"absolute top-3 right-3",children:a.jsxs("span",{className:"bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded-full",children:[i.matchScore,"% Match"]})}),o===0&&a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-adventure-orange text-white text-xs font-bold px-2 py-1 rounded-full",children:"#1 Pick"})}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-oswald font-bold text-gray-900 mb-1 pr-16",children:i.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(bs,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:i.duration})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ht,{className:"w-4 h-4 mr-1 fill-current text-yellow-400"}),a.jsx("span",{children:i.rating})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ao,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[i.availableSlots," slots left"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-lg font-bold text-adventure-orange",children:["",i.price.toLocaleString()]}),a.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"per person"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:a.jsx(ts,{className:"w-4 h-4"})})})]})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Why we recommend this:"})," "," ",o===0&&"Perfect match for your budget and adventure level!",o===1&&"Great value with amazing experiences included.",o===2&&"Popular choice among travelers with similar preferences."]})})]},i.id)),a.jsxs(M.div,{variants:s,className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-4 border border-blue-200",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Trip Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Selected Adventures:"}),a.jsxs("div",{className:"font-medium",children:[e.length," trips"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Estimated Cost:"}),a.jsxs("div",{className:"font-bold text-adventure-orange",children:["",n().toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Travel Period:"}),a.jsx("div",{className:"font-medium",children:t.preferredDates.startDate?`${t.preferredDates.startDate} - ${t.preferredDates.endDate||"Flexible"}`:"Flexible dates"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Budget Range:"}),a.jsxs("div",{className:"font-medium",children:["",t.budget[0].toLocaleString()," - ",t.budget[1].toLocaleString()]})]})]})]})]}):a.jsxs(M.div,{variants:s,className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Nn,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Let's find your perfect adventure!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We'll connect with you personally to understand your preferences better and recommend the best trips."})]}),a.jsxs(M.div,{variants:s,className:"bg-adventure-orange/10 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold text-adventure-orange mb-3 flex items-center",children:[a.jsx(ei,{className:"w-5 h-5 mr-2"}),"What happens next?"]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"1"}),a.jsx("span",{children:"Our travel expert will WhatsApp you within 15 minutes"})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"2"}),a.jsx("span",{children:"Get detailed itineraries and personalized pricing"})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-purple-500 text-white rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"3"}),a.jsx("span",{children:"Book your adventure with easy payment options"})]})]})]}),a.jsxs(M.div,{variants:s,className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Your contact details:"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ns,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["+91 ",t.whatsapp]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wg,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:t.email})]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["We'll never share your information with third parties.",a.jsx("button",{className:"text-adventure-orange hover:underline ml-1",children:"Privacy Policy"})]})]})]})},Q8=()=>{const{currentStep:t,totalSteps:e}=fr(),n=[{icon:nS,label:"Personal Info"},{icon:Nn,label:"Preferences"},{icon:Ht,label:"Recommendations"}];return a.jsxs("div",{className:"flex items-center justify-between relative",children:[a.jsx("div",{className:"absolute top-4 left-0 w-full h-0.5 bg-orange-200",children:a.jsx(M.div,{className:"h-full bg-white",initial:{width:"0%"},animate:{width:`${(t-1)/(e-1)*100}%`},transition:{duration:.5,ease:"easeInOut"}})}),n.map((r,s)=>{const i=s+1,o=i<t,l=i===t,c=r.icon;return a.jsxs("div",{className:"relative flex flex-col items-center z-10",children:[a.jsx(M.div,{className:`
                w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300
                ${o||l?"bg-white border-white text-adventure-orange":"bg-orange-200 border-orange-200 text-orange-400"}
              `,whileHover:{scale:l?1.1:1},transition:{type:"spring",stiffness:300},children:o?a.jsx(y3,{className:"w-4 h-4"}):a.jsx(c,{className:"w-4 h-4"})}),a.jsx("span",{className:`
                mt-2 text-xs font-medium transition-colors duration-300
                ${o||l?"text-white":"text-orange-200"}
              `,children:r.label})]},i)})]})},Y8=()=>{const{isOpen:t,currentStep:e,totalSteps:n,closePopup:r,nextStep:s,prevStep:i,dismissPopup:o,isLoading:l,errors:c}=fr();S.useEffect(()=>{const g=_=>{_.key==="Escape"&&t&&o()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[t,o]),S.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const d=["Let's Get Started","Your Adventure Preferences","Perfect Recommendations"],h=["Tell us a bit about yourself","Help us find your ideal trip","Trips tailored just for you"],f=()=>{switch(e){case 1:return a.jsx(Y1,{});case 2:return a.jsx(G8,{});case 3:return a.jsx(K8,{});default:return a.jsx(Y1,{})}},m=()=>{if(e===1){const{formData:g}=fr.getState();return g.name&&g.email&&g.whatsapp}return!0};return a.jsx(Ae,{children:t&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:o}),a.jsxs(M.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.5},className:"relative w-full max-w-2xl max-h-[90vh] overflow-hidden bg-white rounded-2xl shadow-2xl",onClick:g=>g.stopPropagation(),children:[a.jsxs("div",{className:"relative px-6 py-4 bg-gradient-to-r from-adventure-orange to-orange-600",children:[a.jsx("button",{onClick:o,className:"absolute top-4 right-4 p-2 text-white hover:bg-white/20 rounded-full transition-colors","aria-label":"Close modal",children:a.jsx(rS,{className:"w-5 h-5"})}),a.jsxs("div",{className:"pr-12",children:[a.jsx("h2",{className:"text-xl font-oswald font-bold text-white",children:d[e-1]}),a.jsx("p",{className:"text-orange-100 text-sm mt-1",children:h[e-1]})]}),a.jsx("div",{className:"mt-4",children:a.jsx(Q8,{})})]}),a.jsxs("div",{className:"px-6 py-6 max-h-[60vh] overflow-y-auto",children:[a.jsx(Ae,{mode:"wait",children:a.jsx(M.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:f()},e)}),c.submit&&a.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:c.submit})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:a.jsxs("span",{children:["Step ",e," of ",n]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[e>1&&a.jsxs("button",{onClick:i,disabled:l,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",children:[a.jsx(Ar,{className:"w-4 h-4"}),a.jsx("span",{children:"Back"})]}),e<n?a.jsxs("button",{onClick:s,disabled:!m()||l,className:"flex items-center space-x-2 px-6 py-2 bg-adventure-orange text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{children:"Continue"}),a.jsx(jt,{className:"w-4 h-4"})]}):a.jsx("button",{onClick:()=>fr.getState().submitLead(),disabled:l,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Submitting..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Get My Recommendations"}),a.jsx(jt,{className:"w-4 h-4"})]})})]})]}),a.jsx("div",{className:"px-6 py-3 bg-gray-100 border-t",children:a.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"SSL Secured"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{children:"No Spam Guarantee"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),a.jsx("span",{children:"Free Consultation"})]})]})})]})]})})},X8={"/":{page:"homepage",timeDelay:45e3,scrollPercentage:50,exitIntent:!0,enabled:!0},"/destinations":{page:"destinations",timeDelay:3e4,scrollPercentage:60,exitIntent:!0,enabled:!0},"/destinations/*":{page:"destinations-category",timeDelay:2e4,scrollPercentage:40,exitIntent:!0,enabled:!0},"/trip/*":{page:"trip-detail",timeDelay:6e4,scrollPercentage:70,exitIntent:!0,enabled:!0},"/dashboard":{page:"dashboard",timeDelay:12e4,scrollPercentage:80,exitIntent:!1,enabled:!0}},J8=["/booking","/payment","/thank-you","/signin","/signup","/admin"],Z8=()=>{const t=ws(),{openPopup:e,isOpen:n,isSubmitted:r,triggerCount:s}=fr(),i=S.useRef(),o=S.useRef(),l=S.useRef(Date.now()),c=S.useRef(!1),d=S.useRef(!1),h=S.useRef(!1),f=S.useCallback(()=>{const w=t.pathname;if(J8.some(v=>w.startsWith(v)))return null;for(const[v,b]of Object.entries(X8))if(v.includes("*")){const D=v.replace("/*","");if(w.startsWith(D))return b}else if(w===v)return b;return null},[t.pathname]),m=S.useCallback(w=>{!w.timeDelay||d.current||(i.current=setTimeout(()=>{!n&&!r&&s<3&&(e("time_based",w.page),d.current=!0)},w.timeDelay))},[n,r,s,e]),g=S.useCallback(w=>{if(!w.scrollPercentage||c.current)return;const v=()=>{const b=window.pageYOffset||document.documentElement.scrollTop,D=document.documentElement.scrollHeight-window.innerHeight;b/D*100>=w.scrollPercentage&&!c.current&&(o.current=setTimeout(()=>{!n&&!r&&s<3&&(e("scroll_based",w.page),c.current=!0)},2e3))};return window.addEventListener("scroll",v,{passive:!0}),()=>{window.removeEventListener("scroll",v)}},[n,r,s,e]),_=S.useCallback(w=>{if(!w.exitIntent||h.current)return;const v=b=>{b.clientY<=0&&!h.current&&Date.now()-l.current>=1e4&&!n&&!r&&s<3&&(e("exit_intent",w.page),h.current=!0)};return document.addEventListener("mouseleave",v),()=>{document.removeEventListener("mouseleave",v)}},[n,r,s,e]);S.useEffect(()=>{c.current=!1,d.current=!1,h.current=!1,l.current=Date.now(),i.current&&clearTimeout(i.current),o.current&&clearTimeout(o.current);const w=f();if(!w||!w.enabled)return;const v=[];m(w);const b=g(w);if(b&&v.push(b),!("ontouchstart"in window)){const D=_(w);D&&v.push(D)}return()=>{i.current&&clearTimeout(i.current),o.current&&clearTimeout(o.current),v.forEach(D=>D())}},[t.pathname,f,m,g,_]);const x=S.useCallback((w,v)=>{const b=f();if(!b&&!v)return;const D=v||(b==null?void 0:b.page)||"manual";e(w,D)},[f,e]),N=S.useCallback(()=>{const w=parseInt(sessionStorage.getItem("tripViewCount")||"0")+1;sessionStorage.setItem("tripViewCount",w.toString()),w>=3&&!n&&!r&&s<3&&x("multiple_trip_views","destinations")},[n,r,s,x]);return{triggerPopup:x,trackTripView:N,currentConfig:f()}},e7=({className:t=""})=>{const[e,n]=S.useState({x:0,y:0}),{scrollY:r}=Bg(),s=wn(r,[0,300],[0,-50]),i=wn(r,[0,300],[0,-100]),o=wn(r,[0,300],[0,45]),l=wn(r,[0,300],[0,-30]);return S.useEffect(()=>{const c=d=>{n({x:(d.clientX-window.innerWidth/2)/window.innerWidth,y:(d.clientY-window.innerHeight/2)/window.innerHeight})};return window.addEventListener("mousemove",c),()=>window.removeEventListener("mousemove",c)},[]),a.jsxs("div",{"aria-hidden":!0,className:t,children:[a.jsxs("svg",{width:"0",height:"0",className:"sr-only","aria-hidden":!0,children:[a.jsx("title",{children:"Trek & Stay hero gradients and effects"}),a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"g1",x1:"0%",x2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.95",children:a.jsx("animate",{attributeName:"stopColor",values:"#10b981;#059669;#047857;#059669;#10b981",dur:"8s",repeatCount:"indefinite"})}),a.jsx("stop",{offset:"100%",stopColor:"#06b6d4",stopOpacity:"0.95",children:a.jsx("animate",{attributeName:"stopColor",values:"#06b6d4;#0891b2;#0e7490;#0891b2;#06b6d4",dur:"8s",repeatCount:"indefinite"})})]}),a.jsxs("radialGradient",{id:"g2",cx:"50%",cy:"50%",r:"50%",children:[a.jsx("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:"0.7"}),a.jsx("stop",{offset:"100%",stopColor:"#60a5fa",stopOpacity:"0"})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})]}),a.jsxs("div",{className:"pointer-events-none overflow-hidden",children:[a.jsx(M.div,{className:"absolute -left-24 -top-24 w-72 h-72 rounded-full bg-gradient-to-br from-emerald-400/30 to-teal-400/15 blur-3xl",style:{y:s,rotate:o},animate:{scale:[1,1.1,1],opacity:[.3,.5,.3],x:e.x*20,y:e.y*15},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),a.jsx(M.div,{className:"absolute right-6 top-28 w-48 h-48 rounded-2xl bg-gradient-to-tr from-purple-400/20 to-pink-300/12 blur-2xl",style:{y:i,rotate:l},animate:{scale:[1,1.15,1],rotate:[-6,6,-6],x:e.x*-15,y:e.y*-10},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),a.jsx(M.div,{className:"absolute inset-x-0 bottom-20 h-32 opacity-20",style:{y:s},children:a.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 1200 120",className:"fill-emerald-600/30",children:a.jsx("path",{d:"M0,120 L0,80 L200,20 L400,60 L600,10 L800,40 L1000,25 L1200,55 L1200,120 Z"})})}),a.jsxs(M.svg,{className:"absolute left-1/2 -translate-x-1/2 bottom-6 opacity-40",width:"520",height:"140",viewBox:"0 0 520 140",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",style:{y:i},animate:{scale:[1,1.02,1],opacity:[.4,.6,.4]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[a.jsx(M.path,{d:"M0 90 C140 20, 380 160, 520 50",stroke:"url(#g1)",strokeWidth:"14",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:"0.65",filter:"url(#glow)",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.65},transition:{duration:2,delay:.5,ease:"easeInOut"}}),a.jsx(M.ellipse,{cx:"260",cy:"70",rx:"240",ry:"40",fill:"url(#g2)",opacity:"0.12",animate:{rx:[240,260,240],opacity:[.12,.2,.12]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),Array.from({length:6}).map((c,d)=>a.jsx(M.div,{className:"absolute w-2 h-2 bg-emerald-400/30 rounded-full",style:{left:`${20+d*15}%`,top:`${30+d*10}%`},animate:{y:[0,-20,0],opacity:[.3,.8,.3],scale:[1,1.2,1]},transition:{duration:3+d*.5,repeat:1/0,delay:d*.5,ease:"easeInOut"}},d))]})]})},t7=ei,n7=ei,r7=Um,s7=()=>{var j,Z,le,ce;const[t,e]=S.useState(!0),[n,r]=S.useState(!0),[s,i]=S.useState(0),[o,l]=S.useState([]),[c,d]=S.useState(0),h=S.useRef(null),f=S.useRef(null),{scrollY:m}=Bg(),g=wn(m,[0,300],[0,-50]),_=wn(m,[0,300],[0,-100]),x=wn(m,[0,300],[1,.3]),{openPopup:N,loadTripsForSelection:w}=fr(),{triggerPopup:v}=Z8(),b=[{id:1,slug:"adventure-maharashtra-5days-trek",title:"Adventure Maharashtra",subtitle:"Ultimate 5-Day Adventure",price:9500,duration:"5 Days",location:"Maharashtra",rating:4.8,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop",highlights:["Waterfall Rappelling","Cave Exploration","Mountain Trekking"],difficulty:"Moderate",spotsLeft:3,nextDeparture:"2024-09-15",originalPrice:12e3},{id:2,slug:"kaalu-waterfall-harishchandragad-sandhan-valley-5d",title:"Kaalu Waterfall Adventure",subtitle:"Harishchandragad & Sandhan Valley",price:8999,duration:"5 Days",location:"Maharashtra",rating:4.9,image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=800&h=600&fit=crop",highlights:["Waterfall Trek","Valley Exploration","Night Camping"],difficulty:"Challenging",spotsLeft:7,nextDeparture:"2024-09-20",originalPrice:11e3},{id:3,slug:"dudhsagar-trek-3d",title:"Dudhsagar Falls Trek",subtitle:"Goa's Majestic Waterfall",price:4500,duration:"3 Days",location:"Goa",rating:4.7,image:"https://images.unsplash.com/photo-1586500036706-41963de24d8b?w=800&h=600&fit=crop",highlights:["Waterfall Swimming","Railway Trek","Wildlife Spotting"],difficulty:"Easy",spotsLeft:12,nextDeparture:"2024-09-10",originalPrice:5500},{id:4,slug:"kedarnath-7d",title:"Kedarnath Pilgrimage",subtitle:"Spiritual Mountain Journey",price:14999,duration:"7 Days",location:"Uttarakhand",rating:4.9,image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=800&h=600&fit=crop",highlights:["Sacred Temple","Mountain Views","Spiritual Experience"],difficulty:"Challenging",spotsLeft:5,nextDeparture:"2024-09-25",originalPrice:18e3},{id:5,slug:"kumbhe-waterfall-rappelling-5d",title:"Kumbhe Waterfall Rappelling",subtitle:"Extreme Adventure Experience",price:9500,duration:"5 Days",location:"Maharashtra",rating:4.8,image:"https://images.unsplash.com/photo-1544966503-7cc5ac882d5e?w=800&h=600&fit=crop",highlights:["Waterfall Rappelling","Rock Climbing","Adventure Sports"],difficulty:"Expert",spotsLeft:2,nextDeparture:"2024-09-30",originalPrice:12500},{id:6,slug:"maharashtra-waterfall-edition-4d",title:"Maharashtra Waterfall Edition",subtitle:"Multi-Waterfall Adventure",price:8500,duration:"4 Days",location:"Maharashtra",rating:4.6,image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800&h=600&fit=crop",highlights:["Multiple Waterfalls","Photography","Nature Immersion"],difficulty:"Moderate",spotsLeft:8,nextDeparture:"2024-09-18",originalPrice:1e4}],D=[{id:1,name:"Priya Sharma",location:"Mumbai",rating:5,text:"An absolutely life-changing experience! The waterfall rappelling was thrilling beyond words.",image:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop",trip:"Maharashtra Adventure"},{id:2,name:"Rahul Verma",location:"Delhi",rating:5,text:"Perfect organization, amazing guides, and memories that will last forever!",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop",trip:"Kedarnath Pilgrimage"},{id:3,name:"Sneha Patel",location:"Pune",rating:5,text:"Trek and Stay made my adventure dreams come true. Highly recommended!",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop",trip:"Dudhsagar Trek"}],P=[{label:"Happy Travelers",value:"2,500+",icon:Ao},{label:"Adventure Trips",value:"150+",icon:ln},{label:"Safety Record",value:"100%",icon:Bm},{label:"Years Experience",value:"8+",icon:$u}];S.useEffect(()=>{const W=b.map(q=>({id:q.id.toString(),name:q.title,image:q.image,price:q.price,duration:q.duration,difficulty:q.difficulty,interested:!1}));w(W);const B=()=>{const q=["Arjun","Priya","Raj","Sneha","Vikram","Kavya"],te=["Mumbai","Delhi","Bangalore","Pune","Chennai","Hyderabad"],ve={name:q[Math.floor(Math.random()*q.length)],location:te[Math.floor(Math.random()*te.length)],trip:b[Math.floor(Math.random()*b.length)].title,timeAgo:Math.floor(Math.random()*30)+1};l(dt=>[ve,...dt.slice(0,4)])};B();const K=setInterval(B,15e3+Math.random()*1e4);return d(1847+Math.floor(Math.random()*50)),()=>clearInterval(K)},[w]),S.useEffect(()=>{const W=setInterval(()=>{i(B=>(B+1)%D.length)},5e3);return()=>clearInterval(W)},[D.length]);const O=()=>{h.current&&(t?h.current.pause():h.current.play(),e(!t))},k=()=>{h.current&&(h.current.muted=!n,r(!n))},T=()=>{v("cta_button","homepage")},I=W=>{v("trip_interest","homepage")},C=W=>{switch(W.toLowerCase()){case"easy":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"moderate":return"bg-amber-100 text-amber-700 border-amber-200";case"challenging":return"bg-orange-100 text-orange-700 border-orange-200";case"expert":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},A=W=>W<=3?"text-red-600 bg-red-50":W<=7?"text-orange-600 bg-orange-50":"text-green-600 bg-green-50",R=W=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(W);return a.jsxs("div",{className:"min-h-screen relative overflow-x-hidden",children:[a.jsx(M.header,{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20",initial:{y:-100},animate:{y:0},transition:{duration:.6},children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsxs(M.div,{className:"flex items-center space-x-3",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.png",alt:"Trek and Stay Adventures",className:"h-14 w-14 rounded-full object-cover ring-2 ring-emerald-400 ring-offset-2 ring-offset-white/50"}),a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Trek & Stay"}),a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Adventures Await"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(M.a,{href:"tel:9902937730",className:"flex items-center space-x-2 text-gray-700 hover:text-emerald-600 transition-all duration-300 bg-white/50 px-3 py-2 rounded-lg backdrop-blur-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(ns,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline font-medium",children:"9902937730"})]}),a.jsxs(M.button,{onClick:T,className:"relative group bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-emerald-500/25 transition-all duration-300 overflow-hidden",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-teal-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("span",{className:"relative flex items-center space-x-2",children:[a.jsx(Hu,{className:"w-4 h-4"}),a.jsx("span",{children:"Get Started"}),a.jsx(jt,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]})]})]})})}),a.jsxs("section",{ref:f,className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("video",{ref:h,autoPlay:!0,muted:n,loop:!0,playsInline:!0,className:"w-full h-full object-cover",poster:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop",children:a.jsx("source",{src:"/videos/t&s.mp4",type:"video/mp4"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/70"}),a.jsx(M.div,{className:"absolute inset-0 bg-gradient-to-br from-emerald-600/30 via-transparent to-teal-600/30",animate:{background:["linear-gradient(135deg, rgba(5, 150, 105, 0.3) 0%, transparent 50%, rgba(8, 145, 178, 0.3) 100%)","linear-gradient(225deg, rgba(8, 145, 178, 0.3) 0%, transparent 50%, rgba(5, 150, 105, 0.3) 100%)","linear-gradient(135deg, rgba(5, 150, 105, 0.3) 0%, transparent 50%, rgba(8, 145, 178, 0.3) 100%)"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})]}),a.jsxs("div",{className:"absolute top-24 right-8 z-20 flex space-x-2",children:[a.jsx(M.button,{onClick:O,className:"p-3 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:t?a.jsx(I3,{className:"w-5 h-5"}):a.jsx(Um,{className:"w-5 h-5"})}),a.jsx(M.button,{onClick:k,className:"p-3 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:n?a.jsx(D3,{className:"w-5 h-5"}):a.jsx(R3,{className:"w-5 h-5"})})]}),a.jsx(M.div,{className:"relative z-10 text-center max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",style:{y:g,opacity:x},children:a.jsxs(M.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.2},children:[a.jsx(M.span,{className:"inline-block px-6 py-3 bg-white/10 backdrop-blur-md text-white rounded-full text-lg font-semibold mb-8 border border-white/20",whileHover:{scale:1.05},children:" India's Premier Adventure Company"}),a.jsxs("h1",{className:"text-6xl md:text-8xl lg:text-9xl font-bold text-white mb-8 leading-none relative",children:[a.jsx(e7,{className:"absolute inset-0 z-0"}),a.jsx(M.span,{className:"block bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Trek & Stay"}),a.jsx(M.span,{className:"block text-white relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"Welcome to the Wilderness"})]}),a.jsx(M.p,{className:"text-xl md:text-2xl text-gray-200 mb-12 max-w-4xl mx-auto leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:"Discover breathtaking landscapes, conquer majestic peaks, and create memories that last a lifetime with India's most trusted adventure travel company."}),a.jsxs(M.div,{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},children:[a.jsxs(M.button,{onClick:T,className:"group relative bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-10 py-4 rounded-full text-lg font-semibold shadow-2xl hover:shadow-emerald-500/30 transition-all duration-300 overflow-hidden",whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 to-teal-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("span",{className:"relative flex items-center space-x-3",children:[a.jsx(Hu,{className:"w-6 h-6"}),a.jsx("span",{children:"Start Your Adventure"}),a.jsx(jt,{className:"w-6 h-6 group-hover:translate-x-2 transition-transform duration-300"})]})]}),a.jsxs(M.button,{className:"group flex items-center space-x-3 text-white px-8 py-4 rounded-full bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(Um,{className:"w-6 h-6"}),a.jsx("span",{className:"text-lg font-medium",children:"Watch Stories"})]})]})]})}),a.jsx(M.div,{className:"absolute top-32 left-16 text-white/20 hidden lg:block",animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:a.jsx(ln,{className:"w-20 h-20"})}),a.jsx(M.div,{className:"absolute bottom-32 right-16 text-white/20 hidden lg:block",animate:{y:[0,15,0],rotate:[0,-3,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},children:a.jsx($g,{className:"w-16 h-16"})}),a.jsx(M.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Scroll to explore"}),a.jsx(v3,{className:"w-6 h-6"})]})})]}),a.jsx(M.section,{className:"py-20 bg-white/95 backdrop-blur-md relative",style:{y:_},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(M.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,staggerChildren:.1},children:P.map((W,B)=>{const K=W.icon;return a.jsxs(M.div,{className:"text-center group",whileHover:{scale:1.05},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:B*.1},children:[a.jsxs("div",{className:"relative mx-auto w-16 h-16 mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),a.jsx("div",{className:"relative flex items-center justify-center w-full h-full",children:a.jsx(K,{className:"w-8 h-8 text-emerald-600"})})]}),a.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:W.value}),a.jsx("div",{className:"text-gray-600 font-medium",children:W.label})]},B)})}),o.length>0&&a.jsx(M.div,{className:"bg-emerald-50 rounded-2xl p-6 border border-emerald-100",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-emerald-600",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),a.jsx(Od,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:"Live Bookings"})]}),a.jsxs("div",{className:"text-gray-700",children:[a.jsx("span",{className:"font-medium",children:(j=o[0])==null?void 0:j.name})," from"," ",a.jsx("span",{className:"text-emerald-600",children:(Z=o[0])==null?void 0:Z.location})," just booked"," ",a.jsx("span",{className:"font-medium",children:(le=o[0])==null?void 0:le.trip}),a.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:[(ce=o[0])==null?void 0:ce.timeAgo,"m ago"]})]})]})})]})}),a.jsxs("section",{className:"py-24 bg-gradient-to-br from-gray-50 to-blue-50/30 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMyI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[a.jsxs(M.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("span",{className:"inline-block px-4 py-2 bg-emerald-100 text-emerald-800 rounded-full text-sm font-semibold mb-4",children:" Handpicked Adventures"}),a.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Popular ",a.jsx("span",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Adventures"})]}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Embark on carefully curated journeys that blend thrill, beauty, and unforgettable moments across India's most spectacular destinations."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:b.map((W,B)=>a.jsxs(M.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:B*.1},whileHover:{y:-10},className:"group relative bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("img",{src:W.image,alt:W.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-700"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${C(W.difficulty)}`,children:W.difficulty}),W.spotsLeft<=5&&a.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${A(W.spotsLeft)}`,children:[W.spotsLeft," spots left!"]})]}),a.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ht,{className:"w-4 h-4 text-yellow-400 fill-current"}),a.jsx("span",{className:"text-sm font-semibold",children:W.rating})]})}),W.originalPrice&&W.originalPrice>W.price&&a.jsx("div",{className:"absolute bottom-4 left-4",children:a.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:["SAVE ",Math.round((W.originalPrice-W.price)/W.originalPrice*100),"%"]})}),a.jsx(M.button,{className:"absolute bottom-4 right-4 p-2 bg-white/80 backdrop-blur-sm rounded-full text-gray-600 hover:text-red-500 transition-colors duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(ts,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(Nn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:W.location})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(bs,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:W.duration})]})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-emerald-600 transition-colors duration-300",children:W.title}),a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:W.subtitle}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.highlights.slice(0,2).map((K,ee)=>a.jsx("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-medium border border-emerald-100",children:K},ee)),W.highlights.length>2&&a.jsxs("span",{className:"px-3 py-1 bg-gray-50 text-gray-600 rounded-full text-xs font-medium border",children:["+",W.highlights.length-2," more"]})]})}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[a.jsx(qn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Next departure: ",new Date(W.nextDeparture).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:R(W.price)}),W.originalPrice&&W.originalPrice>W.price&&a.jsx("span",{className:"text-lg text-gray-400 line-through",children:R(W.originalPrice)})]}),a.jsx("span",{className:"text-gray-500 text-sm",children:"per person"})]}),a.jsxs(M.a,{href:`/land/${W.slug}`,onClick:()=>I(W.id),className:"group bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-emerald-500/25 transition-all duration-300 overflow-hidden relative",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-teal-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("span",{className:"relative flex items-center space-x-2",children:[a.jsx("span",{children:"Explore"}),a.jsx(jt,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]})]})]})]},W.id))}),a.jsx(M.div,{className:"text-center mt-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:a.jsx(M.button,{onClick:T,className:"group bg-white text-emerald-600 px-8 py-4 rounded-full text-lg font-semibold border-2 border-emerald-600 hover:bg-emerald-600 hover:text-white transition-all duration-300 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"Discover All Adventures"}),a.jsx(jt,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})]}),a.jsxs("section",{className:"py-24 bg-gradient-to-br from-emerald-600 to-teal-600 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIxIi8+PC9nPjwvZz48L3N2Zz4=')] opacity-50"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[a.jsxs(M.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("span",{className:"inline-block px-4 py-2 bg-white/20 backdrop-blur-md text-white rounded-full text-sm font-semibold mb-4",children:" Real Stories, Real Adventures"}),a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"What Our Adventurers Say"}),a.jsx("p",{className:"text-xl text-emerald-100 max-w-3xl mx-auto leading-relaxed",children:"Don't just take our word for it. Here's what thousands of happy adventurers have to say about their experiences."})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ae,{mode:"wait",children:a.jsx(M.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-6 md:space-y-0 md:space-x-8",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:D[s].image,alt:D[s].name,className:"w-24 h-24 rounded-full object-cover border-4 border-white/30"}),a.jsx("div",{className:"absolute -top-2 -right-2 bg-emerald-400 rounded-full p-2",children:a.jsx(C3,{className:"w-5 h-5 text-white"})})]})}),a.jsxs("div",{className:"flex-1 text-center md:text-left",children:[a.jsx("div",{className:"flex justify-center md:justify-start mb-4",children:[...Array(D[s].rating)].map((W,B)=>a.jsx(Ht,{className:"w-6 h-6 text-yellow-400 fill-current"},B))}),a.jsxs("blockquote",{className:"text-xl text-white mb-6 leading-relaxed",children:['"',D[s].text,'"']}),a.jsxs("div",{className:"text-white",children:[a.jsx("div",{className:"font-bold text-lg",children:D[s].name}),a.jsx("div",{className:"text-emerald-200",children:D[s].location}),a.jsxs("div",{className:"text-sm text-emerald-100 mt-1",children:["Trip: ",D[s].trip]})]})]})]})},s)}),a.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:D.map((W,B)=>a.jsx("button",{onClick:()=>i(B),className:`w-3 h-3 rounded-full transition-all duration-300 ${B===s?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`},B))})]})]})]}),a.jsxs("section",{className:"py-24 bg-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-teal-50"}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative",children:a.jsxs(M.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[a.jsxs("div",{className:"relative inline-block mb-8",children:[a.jsx("span",{className:"text-6xl",children:""}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full animate-pulse"})]}),a.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Ready for Your Next ",a.jsx("span",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Adventure?"})]}),a.jsxs("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:["Join over ",a.jsx("span",{className:"font-bold text-emerald-600",children:c.toLocaleString()})," adventurers who have discovered the thrill of exploring India's most beautiful destinations with us."]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-12",children:[a.jsxs(M.button,{onClick:T,className:"group relative bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-10 py-4 rounded-full text-lg font-semibold shadow-xl hover:shadow-emerald-500/30 transition-all duration-300 overflow-hidden",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-teal-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("span",{className:"relative flex items-center space-x-3",children:[a.jsx(ts,{className:"w-6 h-6"}),a.jsx("span",{children:"Get Personalized Recommendations"}),a.jsx(jt,{className:"w-6 h-6 group-hover:translate-x-2 transition-transform duration-300"})]})]}),a.jsxs(M.a,{href:"tel:9902937730",className:"group flex items-center space-x-3 text-emerald-600 px-8 py-4 rounded-full bg-emerald-50 border-2 border-emerald-200 hover:bg-emerald-100 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(ns,{className:"w-6 h-6"}),a.jsx("span",{className:"text-lg font-semibold",children:"Speak to an Expert"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[a.jsx(Bm,{className:"w-5 h-5 text-emerald-600"}),a.jsx("span",{className:"text-sm font-medium",children:"100% Safe"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[a.jsx(Vt,{className:"w-5 h-5 text-emerald-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Expert Guides"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[a.jsx($u,{className:"w-5 h-5 text-emerald-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Award Winning"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600",children:[a.jsx(zm,{className:"w-5 h-5 text-emerald-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Quick Response"})]})]})]})})]}),a.jsxs("footer",{className:"bg-gray-900 text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-emerald-900/20"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 relative",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("img",{src:"/logo.png",alt:"Trek and Stay Adventures",className:"h-12 w-12 rounded-full object-cover ring-2 ring-emerald-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent",children:"Trek & Stay"}),a.jsx("p",{className:"text-gray-400",children:"Adventures Await"})]})]}),a.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"India's premier adventure travel company, crafting unforgettable experiences across the most spectacular destinations. From mountain peaks to hidden valleys, we make your adventure dreams come true."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(M.a,{href:"#",className:"p-3 bg-white/10 rounded-full hover:bg-emerald-600 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(t7,{className:"w-5 h-5"})}),a.jsx(M.a,{href:"#",className:"p-3 bg-white/10 rounded-full hover:bg-emerald-600 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(n7,{className:"w-5 h-5"})}),a.jsx(M.a,{href:"#",className:"p-3 bg-white/10 rounded-full hover:bg-emerald-600 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(r7,{className:"w-5 h-5"})}),a.jsx(M.a,{href:"https://wa.me/919902937730",className:"p-3 bg-green-600 rounded-full hover:bg-green-700 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(ei,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-4 text-emerald-400",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"All Trips"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"Safety Guidelines"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"Reviews"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"Blog"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-4 text-emerald-400",children:"Get in Touch"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ns,{className:"w-5 h-5 text-emerald-400"}),a.jsx("a",{href:"tel:9902937730",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"+91 99029 37730"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Wg,{className:"w-5 h-5 text-emerald-400"}),a.jsx("a",{href:"mailto:info@trekandstay.com",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"info@trekandstay.com"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ei,{className:"w-5 h-5 text-emerald-400"}),a.jsx("a",{href:"https://wa.me/919902937730",className:"text-gray-300 hover:text-emerald-400 transition-colors",children:"WhatsApp Support"})]})]}),a.jsx(M.button,{onClick:T,className:"mt-6 w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-full font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Plan My Adventure"})]})]}),a.jsxs("div",{className:"border-t border-gray-700 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Trek & Stay Adventures. All rights reserved."}),a.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[a.jsx("a",{href:"#",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-emerald-400 transition-colors text-sm",children:"Cancellation Policy"})]})]})]})]}),a.jsx(Y8,{})]})},i7=()=>a.jsx(f8,{children:a.jsx(rA,{children:a.jsxs(Dj,{children:[a.jsx(Tm,{path:"/",element:a.jsx(s7,{})}),a.jsx(Tm,{path:"/land/:slug",element:a.jsx(h8,{})})]})})});Cf.createRoot(document.getElementById("root")).render(a.jsx(ud.StrictMode,{children:a.jsx(i7,{})}));
